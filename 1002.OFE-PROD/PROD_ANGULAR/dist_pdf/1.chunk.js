webpackJsonp([1],{"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleDetalleNotaDebito.ts":function(t,e,o){"use strict";o.d(e,"a",function(){return i});var i=function(){function t(){this.idTipoIgv=0,this.codigoTipoIgv=0,this.descripcionTipoIgv="",this.idTipoIsc=0,this.codigoTipoIsc=0,this.descripcionTipoIsc="",this.idTipoPrecio=0,this.codigoTipoPrecio=0,this.descripcionTipoPrecio="",this.idProducto="",this.numeroItem="0.00",this.precioUnitarioVenta="0.00",this.unidadMedida="",this.subtotalVenta="0.00",this.subtotalIgv="0.00",this.subtotalIsc="0.00",this.descuento="0.00",this.descuentoOriginal="0.00"}return t.prototype.copiar=function(){var e=new t;return e.idTipoIgv=this.idTipoIgv,e.codigoTipoIgv=this.codigoTipoIgv,e.descripcionTipoIgv=this.descripcionTipoIgv,e.idTipoIsc=this.idTipoIsc,e.codigoTipoIsc=this.codigoTipoIsc,e.descripcionTipoIsc=this.descripcionTipoIsc,e.idTipoPrecio=this.idTipoPrecio,e.codigoTipoPrecio=this.codigoTipoPrecio,e.descripcionTipoPrecio=this.descripcionTipoPrecio,e.idProducto=this.idProducto,e.numeroItem=this.numeroItem,e.precioUnitarioVenta=this.precioUnitarioVenta,e.unidadMedida=this.unidadMedida,e.subtotalVenta=this.subtotalVenta,e.subtotalIgv=this.subtotalIgv,e.subtotalIsc=this.subtotalIsc,e.descuento=this.descuento,e},t.prototype.copiarDetalle=function(t){this.idTipoIgv=t.idTipoIgv,this.codigoTipoIgv=t.codigoTipoIgv,this.descripcionTipoIgv=t.descripcionTipoIgv,this.idTipoIsc=t.idTipoIsc,this.codigoTipoIsc=t.codigoTipoIsc,this.descripcionTipoIsc=t.descripcionTipoIsc,this.idTipoPrecio=t.idTipoPrecio,this.codigoTipoPrecio=t.codigoTipoPrecio,this.descripcionTipoPrecio=t.descripcionTipoPrecio,this.idProducto=t.idProducto,this.numeroItem=t.numeroItem,this.precioUnitarioVenta=t.precioUnitarioVenta,this.unidadMedida=t.unidadMedida,this.subtotalVenta=t.subtotalVenta,this.subtotalIgv=t.subtotalIgv,this.subtotalIsc=t.subtotalIsc,this.descuento=t.descuento},t}()},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleNotaDebito.ts":function(t,e,o){"use strict";var i=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleDetalleNotaDebito.ts");o.d(e,"a",function(){return a});var a=function(){function t(){this.descripcionItem="",this.idRegistroUnidad="",this.idTablaUnidad="",this.codigoUnidadMedida="",this.posicion="0",this.codigoItem="",this.precioUnitario="",this.precioTotal="",this.cantidad="1",this.montoImpuesto="0.00",this.cambioDetalle=!1,this.detalle=new i.a}return t.prototype.copiar=function(){var e=new t;return e.descripcionItem=this.descripcionItem,e.idRegistroUnidad=this.idRegistroUnidad,e.idTablaUnidad=this.idTablaUnidad,e.codigoUnidadMedida=this.codigoUnidadMedida,e.posicion=this.posicion,e.codigoItem=this.codigoItem,e.precioUnitario=this.precioUnitario,e.precioTotal=this.precioTotal,e.cantidad=this.cantidad,e.montoImpuesto=this.montoImpuesto,e.cambioDetalle=this.cambioDetalle,e.detalle=this.detalle.copiar(),e},t.prototype.copiarDetalle=function(t){this.descripcionItem=t.descripcionItem,this.idRegistroUnidad=t.idRegistroUnidad,this.idTablaUnidad=t.idTablaUnidad,this.codigoUnidadMedida=t.codigoUnidadMedida,this.posicion=t.posicion,this.codigoItem=t.codigoItem,this.precioUnitario=t.precioUnitario,this.precioTotal=t.precioTotal,this.cantidad=t.cantidad,this.montoImpuesto=t.montoImpuesto,this.cambioDetalle=t.cambioDetalle,this.detalle.copiarDetalle(t.detalle)},t}()},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoConceptoNotaDebito.ts":function(t,e,o){"use strict";var i=o("./src/app/facturacion-electronica/general/models/comprobantes/documentoConceptoGeneral.ts");o.d(e,"a",function(){return r});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=function(t){function e(){var e=t.call(this)||this;return e.idConcepto="",e.codigoConcepto="",e.descripcionConcepto="",e.importe="0.00",e}return a(e,t),e}(i.a)},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoParametroNotaDebito.ts":function(t,e,o){"use strict";var i=o("./src/app/facturacion-electronica/general/models/comprobantes/documentoParametroGeneral.ts");o.d(e,"a",function(){return r});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=function(t){function e(){var e=t.call(this)||this;return e.idParametro="",e.descripcionParametro="",e.json="",e}return a(e,t),e}(i.a)},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoReferenciaNotaDebito.ts":function(t,e,o){"use strict";var i=o("./src/app/facturacion-electronica/general/models/comprobantes/documentoReferenciaGeneral.ts");o.d(e,"a",function(){return r});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=function(t){function e(){var e=t.call(this)||this;return e.idDocumentoDestino="",e.tipoDocumentoOrigen="",e.tipoDocumentoDestino="",e.serieDocumentoDestino="",e.correlativoDocumentoDestino="",e.fechaEmisionDestino=0,e.totalImporteDestino="0.00",e.totalImporteAuxiliarDestino="0.00",e.totalPorcentajeAuxiliarDestino="0.00",e.tipoDocumentoOrigenDescripcion="",e.tipoDocumentoDestinoDescripcion="",e.monedaDestino="",e.totalMonedaDestino="0.00",e.auxiliar1="",e.auxiliar2="",e}return a(e,t),e}(i.a)},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/entidadNotaDebito.ts":function(t,e,o){"use strict";var i=o("./src/app/facturacion-electronica/general/models/organizacion/entidadGeneral.ts");o.d(e,"a",function(){return r});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=function(t){function e(){var e=t.call(this)||this;return e.idTipoEntidad="",e.descripcionTipoEntidad="",e.idEntidad="",e.tipoDocumento="",e.documento="",e.denominacion="",e.nombreComercial="",e.direccionFiscal="",e.ubigeo="",e.correo="",e.notifica="",e}return a(e,t),e}(i.a)},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/jsonDocumentoParametroNotaDebito.ts":function(t,e,o){"use strict";o.d(e,"a",function(){return i});var i=function(){function t(){this.tipo=0,this.valor="",this.auxiliarEntero=0,this.auxiliarCaracter="",this.auxiliarFecha=null,this.auxiliarImporte=0}return t}()},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/notaDebito.ts":function(t,e,o){"use strict";var i=o("./src/app/facturacion-electronica/general/models/documento/tablaMaestra.ts");o.d(e,"a",function(){return a});var a=function(){function t(){this.numeroComprobante="",this.rucProveedor="",this.rucComprador="",this.idTablaTipoComprobante="",this.idRegistroTipoComprobante="",this.idTipoComprobante="",this.razonSocialProveedor="",this.razonSocialComprador="",this.moneda="",this.fechaEmision=0,this.observacionComprobante="",this.tipoComprobante="",this.montoPagado="",this.igv="",this.isc="",this.otrosTributos="",this.descuento="",this.importeReferencial="",this.subtotalComprobante="",this.totalComprobante="",this.tipoItem="",this.idTablaMoneda="",this.idRegistroMoneda="",this.usuarioCreacion="",this.usuarioModificacion="",this.idSerie="",this.motivoComprobante="",this.detalleEbiz=new Array,this.documentoEntidad=new Array,this.documentoConcepto=new Array,this.documentoParametro=new Array,this.documentoReferencia=new Array,this.auxMonedaTablaMaestra=new i.c}return t}()},"./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.css":function(t,e,o){e=t.exports=o("./node_modules/css-loader/lib/css-base.js")(!1),e.push([t.i,".navbar.navbar-info{margin:0 15px 15px}",""]),t.exports=t.exports.toString()},"./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.html":function(t,e){t.exports='<div class="card">\r\n  <div class="card-header card-header-text" data-background-color="blue">\r\n    <h4 class="card-title">{{titulo | translate}}</h4>\r\n  </div>\r\n  <div class="card-content">\r\n    <form [formGroup]="notaDeDebitoFormGroup" (ngSubmit)="vistaPrevia()" autocomplete="off">\r\n      <div class="row">\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label class="control-label">{{\'tipoComprobante\' | translate}}<span class="star">*</span></label>\r\n            <select id="cmbTipoComprobante"\r\n                    name="cmbTipoComprobante"\r\n                    formControlName="cmbTipoComprobante"\r\n                    class="form-control"\r\n                    (change)="cambioTipoComprobante()">\r\n              <option *ngFor="let tipoComprobante of tiposDeComprobantes | async" [value]="tipoComprobante.codigo">\r\n                {{tipoComprobante.descripcionLarga | translate}}\r\n              </option>\r\n            </select>\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'cmbTipoComprobante\').valid && notaDeDebitoFormGroup.get(\'cmbTipoComprobante\').touched">\r\n              <div class="col-md-12">\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'cmbTipoComprobante\').hasError(\'required\')"\r\n                      class="text-danger">{{\'campoRequerido\' | translate}}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label id="lblSerie" class="control-label">{{\'serieComprobante\' | translate}}<span class="star">*</span></label>\r\n            <select type="text"\r\n                    id="cmbSerieComprobante"\r\n                    formControlName="cmbSerieComprobante"\r\n                    (change)="limpiar()"\r\n                    class="form-control">\r\n              <option *ngFor="let serieComprobante of seriesComprobante | async" [ngValue]="serieComprobante.serie">{{serieComprobante.serie}}</option>\r\n            </select>\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'cmbSerieComprobante\').valid && notaDeDebitoFormGroup.get(\'cmbSerieComprobante\').touched">\r\n              <div class="col-md-12">\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'cmbSerieComprobante\').hasError(\'required\')"\r\n                      class="text-danger">{{\'campoRequerido\' | translate}}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label id="lblCorrelativo" class="control-label">{{\'correlativoComprobante\' | translate}}<span class="star">*</span></label>\r\n            <input  type="text"\r\n                    id="txtCorrelativoComprobante"\r\n                    formControlName="txtCorrelativoComprobante"\r\n                    correlativoDirective\r\n                    (change)="limpiar()"\r\n                    class="form-control">\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'txtCorrelativoComprobante\').valid && notaDeDebitoFormGroup.get(\'txtCorrelativoComprobante\').touched">\r\n              <div class="col-md-12">\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'txtCorrelativoComprobante\').hasError(\'required\')"\r\n                      class="text-danger">{{\'campoRequerido\' | translate}}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-3">\r\n          <div class="form-group">\r\n            <button id="btnBuscar" type="button" class="btn btn-xs btn-default"\r\n                    (click)="buscarComprobante()"\r\n                    [disabled]="!(notaDeDebitoFormGroup.get(\'cmbSerieComprobante\').valid && notaDeDebitoFormGroup.get(\'txtCorrelativoComprobante\').valid)">\r\n              <span class="btn-label">\r\n                  <i class="material-icons">search</i>\r\n              </span>\r\n              {{\'buscar\' | translate}}\r\n            </button>\r\n\r\n            <button id="btnVisualizar" type="button" class="btn btn-xs btn-default"\r\n                    (click)="visualizarComprobanteReferencia()"\r\n                    [disabled]="!(escogioUnComprobante | async)">\r\n              <span class="btn-label ">\r\n                  <i class="material-icons">visibility</i>\r\n              </span>\r\n              {{\'ver\' | translate}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="row">\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label class="control-label">{{\'serieNotaDebito\' | translate}}<span class="star">*</span></label>\r\n            <select id="cmbSerie"\r\n                    name="cmbSerie"\r\n                    formControlName="cmbSerie"\r\n                    class="form-control">\r\n              <option [value]="-1" disabled>{{\'seleccioneUnaSerie\' | translate}}</option>\r\n              <option *ngFor="let serie of series | async" [value]="serie.idSerie">\r\n                {{serie.serie}}\r\n              </option>\r\n            </select>\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'cmbSerie\').valid && notaDeDebitoFormGroup.get(\'cmbSerie\').touched">\r\n              <div class="col-md-12">\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'cmbSerie\').hasError(\'required\')"\r\n                      class="text-danger">{{\'campoRequerido\' | translate}}\r\n                </span>\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'cmbSerie\').hasError(\'seleccioneUnaSerie\')"\r\n                      class="text-danger">{{\'seleccioneUnaSerie\' | translate}}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label class="control-label">{{\'tipoNotaDebito\' | translate}}<span class="star">*</span></label>\r\n            <select id="cmbTipoNotaDebito"\r\n                    name="cmbTipoNotaDebito"\r\n                    formControlName="cmbTipoNotaDebito"\r\n                    class="form-control"\r\n                    (change)="cambioTipoNotaDebito()">\r\n              <option disabled [value]="-1">{{\'seleccioneUnTipoDeNotaDeDebito\' | translate}}</option>\r\n              <option *ngFor="let tipoDeNotaDeDebito of tiposDeNotasDeDebito | async" [value]="tipoDeNotaDeDebito.codigo_dominio">\r\n                {{tipoDeNotaDeDebito.descripcion_dominio | translate}}\r\n              </option>\r\n            </select>\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'cmbTipoNotaDebito\').valid && notaDeDebitoFormGroup.get(\'cmbTipoNotaDebito\').touched">\r\n              <div class="col-md-12">\r\n                  <span *ngIf="notaDeDebitoFormGroup.get(\'cmbTipoNotaDebito\').hasError(\'required\')"\r\n                        class="text-danger">{{\'campoRequerido\' | translate}}\r\n                  </span>\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'cmbTipoNotaDebito\').hasError(\'seleccioneUnTipoDeNotaDeDebito\')"\r\n                      class="text-danger">{{\'seleccioneUnTipoDeNotaDeDebito\' | translate}}\r\n                  </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label class="control-label">{{\'documento\' | translate}}</label>\r\n            <input type="text" class="form-control"\r\n                   id="txtDocumento"\r\n                   formControlName="txtDocumento">\r\n          </div>\r\n        </div>\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label class="control-label">{{\'razonSocial\' | translate}}</label>\r\n            <input type="text" class="form-control"\r\n                   id="txtRazonSocial"\r\n                   formControlName="txtRazonSocial">\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label class="control-label">{{\'tipoMoneda\' | translate}}</label>\r\n            <input type="text" class="form-control"\r\n                   id="txtMoneda"\r\n                   formControlName="txtMoneda">\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-12">\r\n          <div class="form-group label-floating">\r\n            <label id="lblMotivo" class="control-label">{{\'motivoNotaDeDebito\' | translate}}<span class="star">*</span></label>\r\n            <textarea class="form-control" type="text" formControlName="txtMotivoNotaDebito" rows="3"></textarea>\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'txtMotivoNotaDebito\').valid && notaDeDebitoFormGroup.get(\'txtMotivoNotaDebito\').touched">\r\n              <div class="col-md-12">\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'txtMotivoNotaDebito\').hasError(\'maxlength\')"\r\n                      class="text-danger">{{\'maximoCaracteres\' | translate: {digito: 250} }}\r\n                </span>\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'txtMotivoNotaDebito\').hasError(\'required\')"\r\n                      class="text-danger">{{\'campoRequerido\' | translate}}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ng-container [ngSwitch]="habilitarPorTipoDeNotaDeDebito">\r\n        <ng-container *ngSwitchCase="TiposVistasNotaDebito.NORMAL">\r\n          <app-tipo-nota-debito-normal\r\n            #tipoVistaNormalNotaDebito\r\n            [padreFormGroup] = "notaDeDebitoFormGroup"\r\n            [nombreControl] = "controlNameVistaNormal"\r\n          >\r\n          </app-tipo-nota-debito-normal>\r\n        </ng-container>\r\n        <ng-container *ngSwitchCase="TiposVistasNotaDebito.TABLA">\r\n          <div class="card">\r\n            <div class="card-header card-header-icon" data-background-color="blue">\r\n              <i class="material-icons">list</i>\r\n            </div>\r\n            <div class="row"><h3>{{\'listaItems\' | translate}}</h3></div>\r\n            <div class="row"><p>&nbsp;</p></div>\r\n            <nav class="navbar navbar-info" role="navigation"></nav>\r\n            <div class="card-content">\r\n              <app-tipo-nota-debito-datatable\r\n                #tipoVistaTablaNotaDebito\r\n                (estaValidadoNotaDebitoDataTable)="estaValidadoNotaDebitoDataTable($event)"\r\n                (seInicio)="seInicioDataTable($event)"\r\n              >\r\n              </app-tipo-nota-debito-datatable>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </ng-container>\r\n\r\n      <div class="row">\r\n        <div class="col-md-12">\r\n          <div class="label-floating">\r\n            <label class="control-label">{{\'observaciones\' | translate}}</label>\r\n            <textarea id="txtObservacion" name="txtObservacion" formControlName="txtObservacionesNotaDebito" class="form-control" rows="3"></textarea>\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'txtObservacionesNotaDebito\').valid && notaDeDebitoFormGroup.get(\'txtObservacionesNotaDebito\').touched">\r\n              <div class="col-md-12">\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'txtObservacionesNotaDebito\').hasError(\'maxlength\')"\r\n                      class="text-danger">{{\'maximoCaracteres\' | translate: {digito: 250} }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row pull-right">\r\n        <div class="col-md-12">\r\n          <button id="btnVistaPrevia" type="submit" class="btn btn-default"\r\n                  [disabled]="!(notaDeDebitoFormGroup.valid && esValidadoDataTableNotaDebito)">\r\n            {{\'vistaPrevia\' | translate}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.ts":function(t,e,o){"use strict";var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./node_modules/@angular/forms/@angular/forms.es5.js"),r=o("./src/app/facturacion-electronica/general/services/comprobantes/comprobantes.service.ts"),n=o("./src/app/facturacion-electronica/general/services/configuracionDocumento/parametros.service.ts"),s=o("./src/app/facturacion-electronica/general/services/documento/tablaMaestra.service.ts"),c=o("./src/app/facturacion-electronica/general/utils/estilos.services.ts"),l=o("./node_modules/@angular/router/@angular/router.es5.js"),d=o("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),p=o("./src/app/facturacion-electronica/general/services/archivos/archivo.service.ts"),b=o("./src/app/facturacion-electronica/general/services/configuracionDocumento/series.service.ts"),u=o("./src/app/facturacion-electronica/general/models/documento/tablaMaestra.ts"),m=o("./node_modules/rxjs/BehaviorSubject.js"),v=(o.n(m),o("./node_modules/rxjs/Observable.js")),h=(o.n(v),o("./src/app/facturacion-electronica/general/services/documento/conceptoDocumento.service.ts")),f=o("./src/app/facturacion-electronica/comprobantes/nota-debito/utils/tipos-vistas-nota-debito.ts"),D=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/notaDebito.ts"),g=o("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts"),C=o("./src/app/facturacion-electronica/general/services/utils/validadorPersonalizado.ts"),I=o("./src/app/facturacion-electronica/comprobantes/services/padre-comprobante.service.ts"),x=o("./node_modules/@ngx-translate/core/index.js"),_=o("./src/app/facturacion-electronica/general/models/comprobantes/comprobante.ts"),T=o("./src/app/facturacion-electronica/comprobantes/services/persistencia.service.ts");o.d(e,"a",function(){return N});var O=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},S=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},N=function(){function t(t,e,o,i,a,r,n,s,c,l,d,p,b,u){this._comprobantesService=t,this._tablaMaestraService=e,this._tiposService=o,this._parametrosServicie=i,this._archivoService=a,this._seriesService=r,this.router=n,this.route=s,this._translateService=c,this._estilosService=l,this._conceptoDocumentoService=d,this._notaDebitoService=p,this._padreComprobanteService=b,this._persistencia=u,this.titulo="notaDebitoElectronica",this.TiposVistasNotaDebito=f.a,this.tiposVistasDeNotaDebito=f.a,this._padreComprobanteService.actualizarComprobante(this.route.snapshot.data.codigo,this.route.snapshot.data.mostrarCombo,!1)}return t.prototype.ngOnInit=function(){this._notaDebitoService.pasoAVistaPrevia.next(!1),this.inicializarVariables(),this.cargarSeries(),this.iniciarNotaDeDebitoFormGroup(),this.cargarTiposDeComprobantes(),this.cargarDatosNotaDebitoPersistencia(),this.cargarPersistencia()},t.prototype.ngOnDestroy=function(){},t.prototype.cargarPersistencia=function(){var t=this,e=new _.a;if(e=this._persistencia.getPersistenciaSimple("comprobanteConsultaSeleccionado")){this.notaDeDebitoFormGroup.controls.cmbTipoComprobante.setValue(e.tipoComprobante),this.cambioTipoComprobante();var o=e.numeroComprobante.split("-");this.notaDeDebitoFormGroup.controls.txtDocumento.setValue(e.vcDocumentoCliente),this.notaDeDebitoFormGroup.controls.txtRazonSocial.setValue(e.vcDenominacionCliente),this.notaDeDebitoFormGroup.controls.txtMoneda.setValue(e.moneda),this.notaDeDebitoFormGroup.controls.cmbSerieComprobante.setValue(o[0]),this.notaDeDebitoFormGroup.controls.txtCorrelativoComprobante.setValue(o[1]),this._estilosService.eliminarEstiloInput("cmbSerieComprobante","is-empty"),this._estilosService.eliminarEstiloInput("txtCorrelativoComprobante","is-empty"),this._estilosService.eliminarEstiloInput("cmbTipoComprobante","is-empty"),this._estilosService.eliminarEstiloInput("txtDocumento","is-empty"),this._estilosService.eliminarEstiloInput("txtRazonSocial","is-empty"),this._estilosService.eliminarEstiloInput("txtMoneda","is-empty"),this._notaDebitoService.buscarComprobanteReferencia(e.inIdcomprobantepago,this.todosTiposUnidades),this._notaDebitoService.comprobanteReferencia.subscribe(function(e){t.escogioUnComprobante.next(null!=e)}),this._persistencia.removePersistenciaSimple("comprobanteConsultaSeleccionado")}},t.prototype.inicializarVariables=function(){this.escogioUnComprobante=new m.BehaviorSubject(!1),this.habilitarPorTipoDeNotaDeDebito=-1,this.esValidadoDataTableNotaDebito=!0,this.controlNameVistaNormal="vistaNormal",this.controlNameVistaDataTable="vistaDataTable",this.notaDebito=new D.a,this.todosTiposDeNotasDeDebito=this._parametrosServicie.obtenerParametrosPorId(this._tiposService.PARAMETRO_TIPO_NOTA_DEBITO_ELECTRONICA),this.todosTipoConceptos=this._conceptoDocumentoService.obtenerTodosConceptosDocumentos();var t=[this._tiposService.CONCEPTO_OPERACION_GRAVADA_CODIGO,this._tiposService.CONCEPTO_OPERACION_INAFECTAS_CODIGO,this._tiposService.CONCEPTO_OPERACION_EXONERADO_CODIGO,this._tiposService.CONCEPTO_OPERACION_GRATUITA_CODIGO,this._tiposService.CONCEPTO_OPERACION_SUB_TOTAL_VENTA_CODIGO,this._tiposService.CONCEPTO_OPERACION_TOTAL_DESCUENTOS_CODIGO];this.tiposConceptos=this._conceptoDocumentoService.obtenerPorCodigos(this.todosTipoConceptos,t),this.todosTiposMonedas=this._tablaMaestraService.obtenerPorIdTabla(u.e),this.todosTiposUnidades=this._tablaMaestraService.obtenerPorIdTabla(u.f)},t.prototype.cargarSeries=function(){this.todasSeries=this._seriesService.filtroSeries(localStorage.getItem("id_entidad"),this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO,this._tiposService.TIPO_SERIE_ONLINE.toString()),this.seriesComprobante=new m.BehaviorSubject([])},t.prototype.filtrarSeriesComprobante=function(){this.seriesComprobante=this._seriesService.filtroSeries(localStorage.getItem("id_entidad"),this.notaDeDebitoFormGroup.controls.cmbTipoComprobante.value,this._tiposService.TIPO_SERIE_ONLINE.toString())},t.prototype.filtrarSeries=function(t){var e=this;void 0===t&&(t=!1);var o=this.notaDeDebitoFormGroup.controls.cmbTipoComprobante.value;this.notaDeDebitoFormGroup.controls.cmbSerie.reset("-1"),this.notaDeDebitoFormGroup.controls.cmbSerie.enable(),this._estilosService.eliminarEstiloInput("cmbSerie","is-empty"),this.series=this._seriesService.filtrarSeriesPorIdTipoComprobante(this.todasSeries,o),t&&this.series.subscribe(function(t){if(t.length>0){var o=t.find(function(t){return t.serie===e.notaDebito.numeroComprobante});e.notaDeDebitoFormGroup.controls.cmbSerie.setValue(o.idSerie)}})},t.prototype.cargarDatosNotaDebitoPersistencia=function(){this._notaDebitoService.obtenerNotaDebitoPersistencia(),this._notaDebitoService.estaUsandoPersistencia.value&&(this.notaDebito=this._notaDebitoService.notaDebito.value,this.cargarCabecera(),this.cargarDocumentoReferencia(),this.cargarDocumentoParametro(),this._notaDebitoService.eliminarNotaDebitoPersistencia())},t.prototype.cargarDocumentoReferencia=function(){void 0!==this.notaDebito.documentoReferencia[0]&&(this.notaDeDebitoFormGroup.controls.cmbTipoComprobante.setValue(this.notaDebito.documentoReferencia[0].tipoDocumentoDestino),this.filtrarSeries(!0),this.filtrarSeriesComprobante(),this.notaDeDebitoFormGroup.controls.cmbSerieComprobante.setValue(this.notaDebito.documentoReferencia[0].serieDocumentoDestino),this.notaDeDebitoFormGroup.controls.txtCorrelativoComprobante.setValue(this.notaDebito.documentoReferencia[0].correlativoDocumentoDestino),this.escogioUnComprobante.next(!0),this._estilosService.eliminarEstiloInput("cmbSerieComprobante","is-empty"),this._estilosService.eliminarEstiloInput("cmbTipoComprobante","is-empty"),this._estilosService.eliminarEstiloInput("txtCorrelativoComprobante","is-empty"),this.notaDeDebitoFormGroup.controls.cmbSerieComprobante.enable(),this.notaDeDebitoFormGroup.controls.txtCorrelativoComprobante.enable())},t.prototype.cargarDocumentoParametro=function(){void 0!==this.notaDebito.documentoParametro[0]&&this.cargarTiposDeNotasDeDebito(!0)},t.prototype.cargarCabecera=function(){this.notaDeDebitoFormGroup.controls.txtMotivoNotaDebito.setValue(this.notaDebito.motivoComprobante),this.notaDeDebitoFormGroup.controls.txtObservacionesNotaDebito.setValue(this.notaDebito.observacionComprobante),this.notaDeDebitoFormGroup.controls.txtDocumento.setValue(this.notaDebito.rucComprador),this.notaDeDebitoFormGroup.controls.txtRazonSocial.setValue(this.notaDebito.razonSocialComprador),this.notaDeDebitoFormGroup.controls.txtMoneda.setValue(this.notaDebito.moneda),this._estilosService.eliminarEstiloInput("txtMotivoNotaDebito","is-empty"),this._estilosService.eliminarEstiloInput("txtObservacionesNotaDebito","is-empty"),this._estilosService.eliminarEstiloInput("txtDocumento","is-empty"),this._estilosService.eliminarEstiloInput("txtRazonSocial","is-empty"),this._estilosService.eliminarEstiloInput("txtMoneda","is-empty")},t.prototype.cargarTiposDeNotasDeDebito=function(t){var e=this;void 0===t&&(t=!1);var o=[];switch(this.notaDeDebitoFormGroup.get("cmbTipoComprobante").value){case this._tiposService.TIPO_DOCUMENTO_FACTURA:case this._tiposService.TIPO_DOCUMENTO_BOLETA:o=[this._tiposService.TIPO_NOTA_DEBITO_INTERES_POR_MORA,this._tiposService.TIPO_NOTA_DEBITO_AUMENTO_EN_EL_VALOR]}this.notaDeDebitoFormGroup.controls.cmbTipoNotaDebito.reset("-1"),this._estilosService.eliminarEstiloInput("cmbTipoNotaDebito","is-empty"),this.escogioUnComprobante.subscribe(function(i){if(i){if(e.tiposDeNotasDeDebito=e._parametrosServicie.obtenerPorCodigoDeTipoDeComprobante(e.todosTiposDeNotasDeDebito,o),e.notaDeDebitoFormGroup.get("cmbTipoNotaDebito").enable(),e.notaDeDebitoFormGroup.controls.cmbTipoNotaDebito.enable(),t&&void 0!==e.notaDebito.documentoParametro[0]){var a=JSON.parse(e.notaDebito.documentoParametro[0].json);e.tiposDeNotasDeDebito.subscribe(function(t){t.length>0&&(e.notaDeDebitoFormGroup.controls.cmbTipoNotaDebito.setValue(a.auxiliarCaracter),e.cambioTipoNotaDebito())})}}else e.notaDeDebitoFormGroup.get("cmbTipoNotaDebito").disable()})},t.prototype.cargarTiposDeComprobantes=function(){this.todosTiposComprobantes=this._tablaMaestraService.obtenerPorIdTabla(u.a);var t=[this._tiposService.TIPO_DOCUMENTO_FACTURA,this._tiposService.TIPO_DOCUMENTO_BOLETA];this.tiposDeComprobantes=this._tablaMaestraService.obtenerPorCodigosDeTablaMaestra(this.todosTiposComprobantes,t)},t.prototype.iniciarNotaDeDebitoFormGroup=function(){this.notaDeDebitoFormGroup=new a.FormGroup({cmbSerie:new a.FormControl({value:"",disabled:!0},[a.Validators.required,C.a.validarSelectForm("seleccioneUnaSerie")]),cmbTipoComprobante:new a.FormControl("",[a.Validators.required]),cmbSerieComprobante:new a.FormControl({value:"",disabled:!0},[a.Validators.required]),txtCorrelativoComprobante:new a.FormControl({value:"",disabled:!0},[a.Validators.required]),cmbTipoNotaDebito:new a.FormControl({value:"",disabled:!0},[a.Validators.required,C.a.validarSelectForm("seleccioneUnTipoDeNotaDeDebito")]),txtMotivoNotaDebito:new a.FormControl("",[a.Validators.required,a.Validators.maxLength(250)]),txtObservacionesNotaDebito:new a.FormControl("",[a.Validators.maxLength(250)]),txtDocumento:new a.FormControl({value:"",disabled:!0},[a.Validators.required]),txtRazonSocial:new a.FormControl({value:"",disabled:!0},[a.Validators.required]),txtMoneda:new a.FormControl({value:"",disabled:!0},[a.Validators.required])})},t.prototype.verificarEstadoComprobante=function(t){return-1!==[this._tiposService.TIPO_ESTADO_AUTORIZADO,this._tiposService.TIPO_ESTADO_AUTORIZADO_CON_OBSERVACIONES].findIndex(function(e){return e===Number(t)})},t.prototype.buscarComprobante=function(){var t=this;this._comprobantesService.buscarPorTipoComprobanteSerieCorrelativo(this.notaDeDebitoFormGroup.controls.cmbTipoComprobante.value,this.notaDeDebitoFormGroup.controls.cmbSerieComprobante.value,this.notaDeDebitoFormGroup.controls.txtCorrelativoComprobante.value).subscribe(function(e){if(e){var o="";t._translateService.get("mensajeErrorBusquedaComprobanteEnNotaDebito").take(1).subscribe(function(t){return o=t}),t.verificarEstadoComprobante(e.chEstadocomprobantepago)?(t.escogioUnComprobante.next(!0),t._notaDebitoService.cargandoDetalleComprobante(e,t.todosTiposUnidades),t.notaDeDebitoFormGroup.get("txtDocumento").setValue(e.entidadcompradora.vcDocumento),t.notaDeDebitoFormGroup.get("txtRazonSocial").setValue(e.entidadcompradora.vcDenominacion),t.notaDeDebitoFormGroup.get("txtMoneda").setValue(e.chMonedacomprobantepago),t._estilosService.eliminarEstiloInput("txtDocumento","is-empty"),t._estilosService.eliminarEstiloInput("txtRazonSocial","is-empty"),t._estilosService.eliminarEstiloInput("txtMoneda","is-empty")):(t.escogioUnComprobante.next(!1),swal({type:"error",title:o,confirmButtonClass:"btn btn-danger",buttonsStyling:!1}))}else t.limpiar(),t.escogioUnComprobante.next(!1)})},t.prototype.visualizarComprobanteReferencia=function(){this._archivoService.retornarArchivoRetencionPercepcionbase(this._notaDebitoService.comprobanteReferencia.value.inIdcomprobantepago).subscribe(function(t){if(t){var e='<embed width=100% height=100% type="application/pdf" src="data:application/pdf;base64,'+t+'"> </embed>';window.open("","PDF","dependent = yes, locationbar = no, menubar = yes, resizable, screenX = 50, screenY = 50, width = 800, height = 800").document.write(e)}})},t.prototype.limpiar=function(){this.habilitarPorTipoDeNotaDeDebito=-1,this.notaDeDebitoFormGroup.get("txtDocumento").reset(),this._estilosService.agregarEstiloInput("txtDocumento","is-empty"),this.notaDeDebitoFormGroup.get("txtRazonSocial").reset(),this._estilosService.agregarEstiloInput("txtRazonSocial","is-empty"),this.notaDeDebitoFormGroup.get("txtMoneda").reset(),this._estilosService.agregarEstiloInput("txtMoneda","is-empty"),this.notaDeDebitoFormGroup.get("txtMotivoNotaDebito").reset(),this._estilosService.agregarEstiloInput("txtMotivoNotaDebito","is-empty"),this.notaDeDebitoFormGroup.get("txtObservacionesNotaDebito").reset(),this._estilosService.agregarEstiloInput("txtObservacionesNotaDebito","is-empty"),this.notaDeDebitoFormGroup.controls.cmbTipoNotaDebito.reset("-1"),this._estilosService.eliminarEstiloInput("cmbTipoNotaDebito","is-empty"),this.notaDebito=new D.a},t.prototype.cambioTipoNotaDebito=function(){this._notaDebitoService.estaUsandoPersistencia||(this.notaDeDebitoFormGroup.get("txtMotivoNotaDebito").reset(),this._estilosService.agregarEstiloInput("txtMotivoNotaDebito","is-empty"),this.notaDeDebitoFormGroup.get("txtObservacionesNotaDebito").reset(),this._estilosService.agregarEstiloInput("txtObservacionesNotaDebito","is-empty"));var t=this.notaDeDebitoFormGroup.get("cmbTipoNotaDebito").value;switch(this._notaDebitoService.ponerTipoNotaDebito(t),t){case this._tiposService.TIPO_NOTA_DEBITO_INTERES_POR_MORA:this.cargarInteresPorMora();break;case this._tiposService.TIPO_NOTA_DEBITO_AUMENTO_EN_EL_VALOR:this.cargarAumentoValor()}},t.prototype.cargarInteresPorMora=function(){this.habilitarPorTipoDeNotaDeDebito=this.tiposVistasDeNotaDebito.NORMAL},t.prototype.cargarAumentoValor=function(){this.habilitarPorTipoDeNotaDeDebito=this.tiposVistasDeNotaDebito.TABLA},t.prototype.listarProductosDeAutcompletado=function(t){if(!t)return v.Observable.of([]);var e=this.notaDeDebitoFormGroup.get("cmbTipoComprobante").value;return null!=e?this._comprobantesService.buscarParaAutoComplete(e,t.toUpperCase()):void 0},t.prototype.cambioTipoComprobante=function(){this.notaDeDebitoFormGroup.get("txtDocumento").reset(),this.notaDeDebitoFormGroup.get("txtRazonSocial").reset(),this.notaDeDebitoFormGroup.get("txtMoneda").reset(),this.notaDeDebitoFormGroup.get("cmbSerieComprobante").reset(),this.notaDeDebitoFormGroup.get("txtCorrelativoComprobante").reset(),this._estilosService.agregarEstiloInput("txtDocumento","is-empty"),this._estilosService.agregarEstiloInput("txtRazonSocial","is-empty"),this._estilosService.agregarEstiloInput("txtMoneda","is-empty"),this._estilosService.agregarEstiloInput("cmbSerieComprobante","is-empty"),this._estilosService.agregarEstiloInput("txtCorrelativoComprobante","is-empty"),this.habilitarPorTipoDeNotaDeDebito=-1,this.escogioUnComprobante.next(!1),this.filtrarSeries(),this.cargarTiposDeNotasDeDebito(),this.notaDeDebitoFormGroup.get("cmbSerieComprobante").enable(),this.notaDeDebitoFormGroup.get("txtCorrelativoComprobante").enable(),this.filtrarSeriesComprobante()},t.prototype.vistaPrevia=function(){this._notaDebitoService.notaDebito.value.motivoComprobante=this.notaDeDebitoFormGroup.controls.txtMotivoNotaDebito.value,this._notaDebitoService.notaDebito.value.observacionComprobante=this.notaDeDebitoFormGroup.controls.txtObservacionesNotaDebito.value,this._notaDebitoService.setDatosPersistencia(this.tiposConceptos,this.tiposDeNotasDeDebito,this.notaDeDebitoFormGroup.controls.cmbTipoNotaDebito.value,this.series,this.notaDeDebitoFormGroup.controls.cmbSerie.value,this.notaDeDebitoFormGroup.controls.txtMotivoNotaDebito.value,this.notaDeDebitoFormGroup.controls.txtObservacionesNotaDebito.value),this._notaDebitoService.notaDebito.value.auxMonedaTablaMaestra=this._tablaMaestraService.obtenerPorCodigosDeTablaMaestra(this.todosTiposMonedas,[this._notaDebitoService.comprobanteReferencia.value.vcIdregistromoneda]).value[0],this._notaDebitoService.pasoAVistaPrevia.next(!0),this.router.navigate(["./vistaPrevia"],{relativeTo:this.route})},t.prototype.estaValidadoNotaDebitoDataTable=function(t){this.esValidadoDataTableNotaDebito=t},t.prototype.seInicioDataTable=function(t){t||(this.esValidadoDataTableNotaDebito=!0)},t}();N=O([o.i(i.Component)({selector:"app-nota-debito",template:o("./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.html"),styles:[o("./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.css")]}),S("design:paramtypes",["function"==typeof(y=void 0!==r.a&&r.a)&&y||Object,"function"==typeof(P=void 0!==s.a&&s.a)&&P||Object,"function"==typeof(E=void 0!==d.a&&d.a)&&E||Object,"function"==typeof(F=void 0!==n.a&&n.a)&&F||Object,"function"==typeof(R=void 0!==p.a&&p.a)&&R||Object,"function"==typeof(w=void 0!==b.a&&b.a)&&w||Object,"function"==typeof(G=void 0!==l.c&&l.c)&&G||Object,"function"==typeof(V=void 0!==l.b&&l.b)&&V||Object,"function"==typeof(M=void 0!==x.c&&x.c)&&M||Object,"function"==typeof(j=void 0!==c.a&&c.a)&&j||Object,"function"==typeof(A=void 0!==h.a&&h.a)&&A||Object,"function"==typeof(U=void 0!==g.a&&g.a)&&U||Object,"function"==typeof(L=void 0!==I.a&&I.a)&&L||Object,"function"==typeof(z=void 0!==T.a&&T.a)&&z||Object])],N);var y,P,E,F,R,w,G,V,M,j,A,U,L,z},"./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.module.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./node_modules/@angular/common/@angular/common.es5.js"),r=o("./node_modules/@ngx-translate/core/index.js"),n=o("./src/app/facturacion-electronica/general/services/comprobantes/comprobantes.service.ts"),s=o("./src/app/facturacion-electronica/general/services/configuracionDocumento/parametros.service.ts"),c=o("./src/app/facturacion-electronica/general/services/utils/persistenciaDatos.service.ts"),l=o("./src/app/facturacion-electronica/general/services/documento/tablaMaestra.service.ts"),d=o("./src/app/facturacion-electronica/general/services/servidores.ts"),p=o("./src/app/facturacion-electronica/general/utils/estilos.services.ts"),b=o("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),u=o("./src/app/facturacion-electronica/general/services/archivos/archivo.service.ts"),m=o("./src/app/facturacion-electronica/general/services/configuracionDocumento/series.service.ts"),v=o("./node_modules/ng2-auto-complete/dist/index.js"),h=(o.n(v),o("./node_modules/@angular/forms/@angular/forms.es5.js")),f=o("./src/app/facturacion-electronica/general/services/documento/conceptoDocumento.service.ts"),D=o("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts"),g=o("./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.ts"),C=o("./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.module.ts"),I=o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.module.ts"),x=o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.module.ts"),_=o("./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.routing.module.ts"),T=o("./src/app/facturacion-electronica/general/directivas/directivas.module.ts"),O=o("./src/app/facturacion-electronica/comprobantes/services/persistencia.service.ts");o.d(e,"NotaDebitoModule",function(){return N});var S=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},N=function(){function t(){}return t}();N=S([o.i(i.NgModule)({imports:[a.CommonModule,h.ReactiveFormsModule,_.a,r.a,v.Ng2AutoCompleteModule,x.a,I.a,C.a,T.a],declarations:[g.a],providers:[n.a,d.a,l.a,b.a,s.a,u.a,c.a,m.a,p.a,f.a,D.a,O.a]})],N)},"./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.routing.module.ts":function(t,e,o){"use strict";var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./node_modules/@angular/router/@angular/router.es5.js"),r=o("./src/app/facturacion-electronica/general/emision-comprobante/emision-comprobante.component.ts"),n=o("./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.ts"),s=o("./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.ts");o.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},l=[{path:"",children:[{path:"",pathMatch:"full",redirectTo:"crear"},{path:"crear",component:s.a,data:{codigo:"08",mostrarCombo:!0}},{path:"crear/vistaPrevia",component:n.a,data:{codigo:"08",mostrarCombo:!1,titulo:"notaDebitoElectronica"}},{path:"emision/:id",component:r.a,data:{codigo:"08",mostrarCombo:!1,titulo:"emisionNotaDebito"}}]}],d=function(){function t(){}return t}();d=c([o.i(i.NgModule)({imports:[a.a.forChild(l)],exports:[a.a]})],d)},"./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts":function(t,e,o){"use strict";var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./node_modules/rxjs/BehaviorSubject.js"),r=(o.n(a),o("./src/app/facturacion-electronica/general/services/comprobantes/comprobantes.service.ts")),n=o("./node_modules/rxjs/Subscription.js"),s=(o.n(n),o("./src/app/facturacion-electronica/general/services/documento/tablaMaestra.service.ts")),c=o("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),l=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleNotaDebito.ts"),d=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/notaDebito.ts"),p=o("./src/app/facturacion-electronica/general/services/utils/persistenciaDatos.service.ts"),b=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleDetalleNotaDebito.ts"),u=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/entidadNotaDebito.ts"),m=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoConceptoNotaDebito.ts"),v=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoParametroNotaDebito.ts"),h=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoReferenciaNotaDebito.ts"),f=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/jsonDocumentoParametroNotaDebito.ts"),D=o("./src/app/service/spinner.service.ts"),g=o("./src/app/facturacion-electronica/general/pipes/precio.pipe.ts"),C=o("./src/app/facturacion-electronica/comprobantes/nota-credito/modelos/detalleNotaCredito.ts");o.d(e,"a",function(){return _});var I=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},x=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_=function(){function t(t,e,o,i,r,s){this._comprobanteService=t,this._tablaMaestraService=e,this._notaDebitoPersistenciaService=o,this._tiposService=i,this._spinnerService=r,this._precioPipe=s,this.tipoNotaDebito=new a.BehaviorSubject(""),this.detalleModificadoLista=new a.BehaviorSubject([]),this.detalleOriginalLista=[],this.comprobanteReferencia=new a.BehaviorSubject(null),this.comprobanteReferenciaSubscription=new n.Subscription,this.notaDebito=new a.BehaviorSubject(new d.a),this.pasoAVistaPrevia=new a.BehaviorSubject(!1),this.estaUsandoPersistencia=new a.BehaviorSubject(!1),this._notaDebitoPersistenciaService.nombrePersistencia="notaDebitoPersistencia",this.padreFormGroup=new a.BehaviorSubject(null),this.itemAEditar=new a.BehaviorSubject(null),this.tiposConcepto=new a.BehaviorSubject([])}return t.prototype.ngOnDestroy=function(){this.comprobanteReferenciaSubscription.unsubscribe()},t.prototype.cargandoDetalleComprobante=function(t,e){this.cargarDetalleDecomprobanteReferencia(t,e),this.comprobanteReferencia.next(t)},t.prototype.buscarComprobanteReferencia=function(t,e){var o=this;this._spinnerService.set(!0),this.comprobanteReferenciaSubscription=this._comprobanteService.buscarPorUuid(t).subscribe(function(t){null!==t&&(o.cargarDetalleDecomprobanteReferencia(t,e),o._spinnerService.set(!1),o.comprobanteReferencia.next(t))})},t.prototype.obtenerNotaDebitoPersistencia=function(){var t=this._notaDebitoPersistenciaService.obtener();if(t){var e=t[0],o=t[1];return null!==e?(this.estaUsandoPersistencia.next(!0),this.comprobanteReferencia.next(o),this.notaDebito.next(e),this.detalleModificadoLista.next(e.detalleEbiz),e):(this.estaUsandoPersistencia.next(!1),null)}return this.estaUsandoPersistencia.next(!1),null},t.prototype.eliminarNotaDebitoPersistencia=function(){this._notaDebitoPersistenciaService.eliminar()},t.prototype.cargarDetalleDecomprobanteReferencia=function(t,e){for(var o=[],i=[],a=this,r=0,n=t.detalle;r<n.length;r++){var s=n[r];!function(t){var r=new l.a;r.codigoItem=t.vcCodigoProducto,r.cantidad=a._precioPipe.transform(t.deCantidaddespachada),r.codigoUnidadMedida=t.vcUnidadmedida,r.descripcionItem=t.vcDescripcionitem;var n=new b.a;n.idTipoIgv=t.inItipoAfectacionigv,n.codigoTipoIgv=t.inCodigoAfectacionigv,n.descripcionTipoIgv=t.vcDescAfectacionigv,n.idTipoIsc=t.inItipoCalculoisc,n.codigoTipoIsc=t.inCodigoCalculoisc,n.descripcionTipoIsc=t.vcDescCalculoisc,n.idTipoPrecio=t.inItipoPrecioventa,n.codigoTipoPrecio=t.inCodigoPrecioventa,n.descripcionTipoPrecio=t.vcDescPrecioventa,n.idProducto=t.inIproducto,n.numeroItem=t.deCantidaddespachada,n.precioUnitarioVenta=a._precioPipe.transform(t.dePreciounitarioitem),n.subtotalIsc=a._precioPipe.transform(t.nuSubtotalIsc),n.subtotalVenta=a._precioPipe.transform(t.dePreciototalitem),n.subtotalIgv=a._precioPipe.transform(t.nuSubtotalIgv),n.unidadMedida=t.vcUnidadmedida,n.descuento=a._precioPipe.transform(t.nuDescuento.toString()),r.detalle=n,r.montoImpuesto=a._precioPipe.transform(t.deMontoimpuesto),r.posicion=t.vcPosicion,r.precioTotal=a._precioPipe.transform(t.dePreciototalitem),r.precioUnitario=a._precioPipe.transform(t.dePreciounitarioitem),a._tablaMaestraService.obtenerPorAtributoDeTablaMaestra(e,[t.vcUnidadmedida],"iso").take(1).subscribe(function(t){1===t.length&&(r.idRegistroUnidad=t[0].codigo,r.idTablaUnidad=t[0].tabla.toString())}),o.push(r),i.push(r.copiar())}(s)}this.ponerDetalle(o),this.detalleOriginalLista=i},t.prototype.ponerTipoNotaDebito=function(t){this.tipoNotaDebito.next(t)},t.prototype.ponerDetalle=function(t){this.detalleModificadoLista.next(t)},t.prototype.obtenerDetalleOriginal=function(){for(var t=[],e=0,o=this.detalleOriginalLista;e<o.length;e++){var i=o[e],a=new C.a;a.copiarDetalle(i),t.push(a)}return t},t.prototype.setDatosPersistencia=function(t,e,o,i,a,r,n){var s=this;this.notaDebito.next(new d.a),this.tiposConcepto=t,this.setEntidadPersistencia(),this.setDocumentoParametro(e,o),this.setDocumentoReferencia(),this.setCabeceraPersistencia(i,a,r,n),this.pasoAVistaPrevia.subscribe(function(t){t&&(s._notaDebitoPersistenciaService.agregar([s.notaDebito.value,s.comprobanteReferencia.value]),s.estaUsandoPersistencia.next(!0),s.pasoAVistaPrevia.next(!1))})},t.prototype.setEntidadPersistencia=function(){if(null!==this.comprobanteReferencia.value){var t=new u.a,e=new u.a;t.idTipoEntidad="1",t.descripcionTipoEntidad="Emisor",t.idEntidad=this.comprobanteReferencia.value.entidadproveedora.seIentidad,t.tipoDocumento=this.comprobanteReferencia.value.entidadproveedora.inTipoDocumento,t.denominacion=this.comprobanteReferencia.value.entidadproveedora.vcDenominacion,t.direccionFiscal=this.comprobanteReferencia.value.entidadproveedora.vcDirFiscal,t.documento=this.comprobanteReferencia.value.entidadproveedora.vcDocumento,t.nombreComercial=this.comprobanteReferencia.value.entidadproveedora.vcNomComercia,t.notifica="N",t.ubigeo=this.comprobanteReferencia.value.entidadproveedora.vcUbigeo,t.correo=this.comprobanteReferencia.value.entidadproveedora.vcCorreo,e.idTipoEntidad="2",e.descripcionTipoEntidad="Receptor",e.idEntidad=this.comprobanteReferencia.value.entidadcompradora.seIentidad,e.tipoDocumento=this.comprobanteReferencia.value.entidadcompradora.inTipoDocumento,e.denominacion=this.comprobanteReferencia.value.entidadcompradora.vcDenominacion,e.direccionFiscal=this.comprobanteReferencia.value.entidadcompradora.vcDirFiscal,e.documento=this.comprobanteReferencia.value.entidadcompradora.vcDocumento,e.nombreComercial=this.comprobanteReferencia.value.entidadcompradora.vcNomComercia,e.notifica="S",e.ubigeo=this.comprobanteReferencia.value.entidadcompradora.vcUbigeo,e.correo=this.comprobanteReferencia.value.entidadcompradora.vcCorreo,this.notaDebito.value.documentoEntidad.push(t),this.notaDebito.value.documentoEntidad.push(e)}},t.prototype.setDocumentoConcepto=function(t){var e=this,o=new m.a,i=new m.a,a=new m.a,r=new m.a,n=new m.a,s=new m.a;this.notaDebito.value.documentoConcepto=[],t.subscribe(function(t){for(var c=0,l=t;c<l.length;c++){var d=l[c];switch(d.codigo){case e._tiposService.CONCEPTO_OPERACION_GRAVADA_CODIGO:o.idConcepto=d.idConcepto,o.descripcionConcepto=d.descripcion,o.codigoConcepto=d.codigo;break;case e._tiposService.CONCEPTO_OPERACION_INAFECTAS_CODIGO:i.idConcepto=d.idConcepto,i.descripcionConcepto=d.descripcion,i.codigoConcepto=d.codigo;break;case e._tiposService.CONCEPTO_OPERACION_EXONERADO_CODIGO:a.idConcepto=d.idConcepto,a.descripcionConcepto=d.descripcion,a.codigoConcepto=d.codigo;break;case e._tiposService.CONCEPTO_OPERACION_GRATUITA_CODIGO:r.idConcepto=d.idConcepto,r.descripcionConcepto=d.descripcion,r.codigoConcepto=d.codigo;break;case e._tiposService.CONCEPTO_OPERACION_SUB_TOTAL_VENTA_CODIGO:n.idConcepto=d.idConcepto,n.descripcionConcepto=d.descripcion,n.codigoConcepto=d.codigo,n.importe=e.notaDebito.value.subtotalComprobante;break;case e._tiposService.CONCEPTO_OPERACION_TOTAL_DESCUENTOS_CODIGO:s.idConcepto=d.idConcepto,s.descripcionConcepto=d.descripcion,s.codigoConcepto=d.codigo}}e.notaDebito.value.documentoConcepto.push(o),e.notaDebito.value.documentoConcepto.push(i),e.notaDebito.value.documentoConcepto.push(a),e.notaDebito.value.documentoConcepto.push(r),e.notaDebito.value.documentoConcepto.push(s)})},t.prototype.setDocumentoParametro=function(t,e){var o=this;t.subscribe(function(t){var i=t.find(function(t){return t.codigo_dominio===e}),a=new v.a;a.idParametro=i.idparametro.toString(),a.descripcionParametro=i.parametro_descripcion;var r=new f.a;r.tipo=3,r.valor=i.descripcion_dominio,r.auxiliarCaracter=i.codigo_dominio,a.json=JSON.stringify(r),o.notaDebito.value.documentoParametro.push(a)})},t.prototype.setDocumentoReferencia=function(){var t=new h.a;if(t.tipoDocumentoOrigen=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO,t.tipoDocumentoOrigenDescripcion=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO_NOMBRE,null!==this.comprobanteReferencia.value){t.idDocumentoDestino=this.comprobanteReferencia.value.inIdcomprobantepago,t.tipoDocumentoDestino=this.comprobanteReferencia.value.vcIdregistrotipocomprobante,t.correlativoDocumentoDestino=this.comprobanteReferencia.value.vcCorrelativo,t.serieDocumentoDestino=this.comprobanteReferencia.value.vcSerie,t.fechaEmisionDestino=this.comprobanteReferencia.value.tsFechaemision,t.totalImporteDestino=Number(this.comprobanteReferencia.value.deTotalcomprobantepago).toFixed(2);for(var e=0,o=0,i=this.comprobanteReferencia.value.detalle;o<i.length;o++){e+=i[o].nuSubtotalIgv}t.totalImporteAuxiliarDestino=Number(e).toFixed(2),t.monedaDestino=this.comprobanteReferencia.value.chMonedacomprobantepago.toString(),t.tipoDocumentoDestinoDescripcion=this.comprobanteReferencia.value.vcTipocomprobante,t.totalMonedaDestino=this.comprobanteReferencia.value.deTotalcomprobantepago,t.totalPorcentajeAuxiliarDestino=Number(0).toFixed(2)}this.notaDebito.value.documentoReferencia.push(t)},t.prototype.setCabeceraPersistencia=function(t,e,o,i){var a=this;t.subscribe(function(t){if(t.length>0){var o=t.find(function(t){return t.idSerie===Number(e)});null!=o&&(a.notaDebito.value.numeroComprobante=o.serie)}}),null!=this.comprobanteReferencia.value&&(this.notaDebito.value.rucProveedor=this.comprobanteReferencia.value.entidadproveedora.vcDocumento,this.notaDebito.value.razonSocialProveedor=this.comprobanteReferencia.value.entidadproveedora.vcDenominacion,this.notaDebito.value.idTablaMoneda=this.comprobanteReferencia.value.vcIdtablamoneda,this.notaDebito.value.idRegistroMoneda=this.comprobanteReferencia.value.vcIdregistromoneda,this.notaDebito.value.idTablaTipoComprobante=this.comprobanteReferencia.value.vcIdtablatipocomprobante,this.notaDebito.value.moneda=this.comprobanteReferencia.value.chMonedacomprobantepago.toString(),this.notaDebito.value.rucComprador=this.comprobanteReferencia.value.entidadcompradora.vcDocumento,this.notaDebito.value.razonSocialComprador=this.comprobanteReferencia.value.entidadcompradora.vcDenominacion),this.notaDebito.value.idRegistroTipoComprobante=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO,this.notaDebito.value.idTipoComprobante=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO,this.notaDebito.value.tipoComprobante=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO,this.notaDebito.value.observacionComprobante=i,this.notaDebito.value.tipoComprobante=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO_NOMBRE,this.notaDebito.value.motivoComprobante=o,this.notaDebito.value.usuarioCreacion=localStorage.getItem("username"),this.notaDebito.value.usuarioModificacion=localStorage.getItem("username"),this.notaDebito.value.idSerie=e},t.prototype.setCabeceraNormal=function(t){this.notaDebito.value.montoPagado=Number(t.montoPagado).toFixed(2),this.notaDebito.value.igv=Number(t.igv).toFixed(2),this.notaDebito.value.isc=Number(t.isc).toFixed(2),this.notaDebito.value.descuento=Number(t.descuentos).toFixed(2),this.notaDebito.value.totalComprobante=Number(t.total).toFixed(2),this.notaDebito.value.subtotalComprobante=Number(t.subTotal).toFixed(2),this.notaDebito.value.importeReferencial=Number(t.importeReferencial).toFixed(2),this.notaDebito.value.otrosTributos=Number(t.otrosTributos).toFixed(2),this.setDocumentoConcepto(this.tiposConcepto)},t.prototype.setDetalleNormal=function(t){this.notaDebito.value.detalleEbiz=null!==t?[t]:this.detalleModificadoLista.value},t.prototype.setCabeceraDataTable=function(t){t?this.ponerValoresEnCabecera(0,0,0,0,0,0,0,0):this.reCalcularTotalesDeDetalle(),this.setDocumentoConcepto(this.tiposConcepto)},t.prototype.ponerValoresEnCabecera=function(t,e,o,i,a,r,n,s){this.notaDebito.value.montoPagado=Number(t).toFixed(2),this.notaDebito.value.igv=Number(e).toFixed(2),this.notaDebito.value.isc=Number(o).toFixed(2),this.notaDebito.value.otrosTributos=Number(i).toFixed(2),this.notaDebito.value.importeReferencial=Number(a).toFixed(2),this.notaDebito.value.subtotalComprobante=Number(r).toFixed(2),this.notaDebito.value.totalComprobante=Number(s).toFixed(2),this.notaDebito.value.descuento=Number(n).toFixed(2)},t.prototype.reCalcularTotalesDeDetalle=function(){for(var t=0,e=0,o=0,i=0,a=0,r=0,n=0,s=0,c=this.notaDebito.value.detalleEbiz;s<c.length;s++){var l=c[s];l.montoImpuesto=l.detalle.subtotalIgv,t+=Number(l.precioTotal),e+=Number(l.detalle.subtotalIgv),o+=Number(l.detalle.subtotalIsc),i+=Number(l.montoImpuesto),a+=Number(l.detalle.subtotalVenta),r+=Number(l.precioTotal),n+=Number(l.detalle.descuento)}this.ponerValoresEnCabecera(t,e,o,0,i,a,n,r)},t.prototype.setDetalleDataTable=function(t){if(this.tipoNotaDebito.value===this._tiposService.TIPO_NOTA_DEBITO_AUMENTO_EN_EL_VALOR)for(var e in t)t[e].posicion=e,t[e].detalle.numeroItem=e,t[e].detalle.precioUnitarioVenta=t[e].precioTotal,t[e].detalle.subtotalVenta=(Number(t[e].detalle.precioUnitarioVenta)-Number(t[e].detalle.subtotalIgv)).toFixed(2);this.notaDebito.value.detalleEbiz=t,this.notaDebito.value.detalleEbiz=t},t}();_=I([o.i(i.Injectable)(),x("design:paramtypes",["function"==typeof(T=void 0!==r.a&&r.a)&&T||Object,"function"==typeof(O=void 0!==s.a&&s.a)&&O||Object,"function"==typeof(S=void 0!==p.a&&p.a)&&S||Object,"function"==typeof(N=void 0!==c.a&&c.a)&&N||Object,"function"==typeof(y=void 0!==D.a&&D.a)&&y||Object,"function"==typeof(P=void 0!==g.a&&g.a)&&P||Object])],_);var T,O,S,N,y,P},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.css":function(t,e,o){e=t.exports=o("./node_modules/css-loader/lib/css-base.js")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.html":function(t,e){t.exports='<div class="row">\r\n  <div class="col-md-12">\r\n    <app-data-table\r\n      #tablaDetalle\r\n      [idTabla]="\'tablaDetalle\'"\r\n      [columnas]="columnasTabla"\r\n      [ordenarPorElCampo]="ordenarPorElCampo"\r\n      [nombreIdDelItem]="nombreIdDelItem"\r\n\r\n      [acciones]="acciones"\r\n      [tipoAccion]="tipoAccion"\r\n      [habilitarAcciones]="true"\r\n      (iniciarData)="iniciarData($event)"\r\n      (accion)="ejecutarAccion($event)"\r\n      [pintarFilas]="pintarFilas"\r\n      [nombreCampoParaPintarFilas]="nombreCampoParaPintarFilas"\r\n    >\r\n    </app-data-table>\r\n  </div>\r\n</div>\r\n<app-tipo-nota-debito-editar-item\r\n  #editarItemComponent\r\n  [idModal]="idModal"\r\n>\r\n</app-tipo-nota-debito-editar-item>\r\n'},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.ts":function(t,e,o){"use strict";var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./src/app/facturacion-electronica/general/data-table/utils/accion.ts"),r=o("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),n=o("./src/app/facturacion-electronica/general/data-table/utils/modo-vista-accion.ts"),s=o("./src/app/facturacion-electronica/general/data-table/utils/tipo-accion.ts"),c=o("./node_modules/rxjs/Subscription.js"),l=(o.n(c),o("./src/app/facturacion-electronica/general/data-table/data-table.component.ts")),d=o("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts"),p=o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.ts"),b=o("./src/app/facturacion-electronica/general/data-table/utils/columna-data-table.ts");o.d(e,"a",function(){return v});var u=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=function(){function t(t,e){this._tiposService=t,this._notaDebitoService=e,this.estaValidadoNotaDebitoDataTable=new i.EventEmitter,this.seInicio=new i.EventEmitter,this.idModal="modal",this.columnasTabla=[new b.a("codigo","codigoItem"),new b.a("descripcion","descripcionItem",{"text-align":"left"}),new b.a("cantidad","cantidad",{"text-align":"right"}),new b.a("unidadMedida","detalle.unidadMedida"),new b.a("valorUnitario","precioUnitario",{"text-align":"right"}),new b.a("igv","detalle.subtotalIgv",{"text-align":"right"}),new b.a("isc","detalle.subtotalIsc",{"text-align":"right"}),new b.a("descuento","detalle.descuento",{"text-align":"right"}),new b.a("valorVenta","precioTotal",{"text-align":"right"})],this.ordenarPorElCampo="codigoItem",this.acciones=[new a.a("editar",new a.b("edit","btn-info"),s.a.EDITAR),new a.a("limpiar",new a.b("clear","btn-info"),s.a.LIMPIAR)],this.pintarFilas=!0,this.nombreCampoParaPintarFilas="cambioDetalle",this.nombreIdDelItem="posicion",this.tipoAccion=n.a.ICONOS,this.detalleLista=[]}return t.prototype.ngOnInit=function(){var t=this;this.detalleListaSubscription=new c.Subscription,this.seInicio.next(!0),this.pasoAVistaPreviaSubscription=this._notaDebitoService.pasoAVistaPrevia.subscribe(function(e){e&&(t.enviarDetalle(),t.enviarCabecera())})},t.prototype.ngDoCheck=function(){this.estaValidadoDataTable()},t.prototype.ngOnDestroy=function(){this.seInicio.next(!1),this.tipoNotaDebitoSubscription.unsubscribe(),this.detalleListaSubscription.unsubscribe()},t.prototype.verificarNotaDebitoPermitidos=function(t){return-1!==[this._tiposService.TIPO_NOTA_DEBITO_AUMENTO_EN_EL_VALOR].findIndex(function(e){return e===t})},t.prototype.iniciarData=function(t){var e=this;this.tipoNotaDebitoSubscription=this._notaDebitoService.tipoNotaDebito.subscribe(function(t){e.verificarNotaDebitoPermitidos(t)&&(e.tipoNotaDebito=t,e._notaDebitoService.estaUsandoPersistencia.value||(e.detalleLista=e._notaDebitoService.obtenerDetalleOriginal(),e.tablaDetalle.insertarData(e.detalleLista)))}),this._notaDebitoService.estaUsandoPersistencia.value&&(this.detalleListaSubscription=this._notaDebitoService.detalleModificadoLista.subscribe(function(t){if(e.verificarNotaDebitoPermitidos(e.tipoNotaDebito)){if(e.detalleLista=e._notaDebitoService.obtenerDetalleOriginal(),null!==e.detalleLista)for(var o=0,i=t;o<i.length;o++){var a=i[o];!function(t){var o=e.detalleLista.findIndex(function(e){return e.posicion===t.posicion});-1!==o&&(e.detalleLista[o]=t)}(a)}e.tablaDetalle.insertarData(e.detalleLista),e._notaDebitoService.estaUsandoPersistencia.next(!1)}}))},t.prototype.enviarDetalle=function(){this.filtrarDetallesModificados(),this._notaDebitoService.setDetalleDataTable(this.detalleLista)},t.prototype.enviarCabecera=function(){this._notaDebitoService.setCabeceraDataTable(!1)},t.prototype.filtrarDetallesModificados=function(){this.detalleLista=this.detalleLista.filter(function(t){return t.cambioDetalle})},t.prototype.ejecutarAccion=function(t){var e=t[0];switch(this.itemAEditar=t[1],e){case s.a.EDITAR:this.abrirEditarModal();break;case s.a.LIMPIAR:this.regresarADetalleOriginal()}},t.prototype.regresarADetalleOriginal=function(){var t=this,e=this._notaDebitoService.obtenerDetalleOriginal().find(function(e){return e.posicion===t.itemAEditar.posicion});this.itemAEditar.copiarDetalle(e)},t.prototype.estaValidadoDataTable=function(){for(var t=0,e=this.detalleLista;t<e.length;t++){if(e[t].cambioDetalle)return void this.estaValidadoNotaDebitoDataTable.next(!0)}this.estaValidadoNotaDebitoDataTable.next(!1)},t.prototype.abrirEditarModal=function(){this.editarItemComponent.llenarDatosItem(this.itemAEditar),this.editarItemComponent.abrirModal(),this.tipoNotaDebito===this._tiposService.TIPO_NOTA_DEBITO_AUMENTO_EN_EL_VALOR&&0===Number(this.itemAEditar.precioUnitario)&&this.regresarADetalleOriginal()},t}();u([o.i(i.ViewChild)("tablaDetalle"),m("design:type","function"==typeof(h=void 0!==l.a&&l.a)&&h||Object)],v.prototype,"tablaDetalle",void 0),u([o.i(i.ViewChild)("editarItemComponent"),m("design:type","function"==typeof(f=void 0!==p.a&&p.a)&&f||Object)],v.prototype,"editarItemComponent",void 0),u([o.i(i.Output)(),m("design:type",Object)],v.prototype,"estaValidadoNotaDebitoDataTable",void 0),u([o.i(i.Output)(),m("design:type",Object)],v.prototype,"seInicio",void 0),v=u([o.i(i.Component)({selector:"app-tipo-nota-debito-datatable",template:o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.html"),styles:[o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.css")]}),m("design:paramtypes",["function"==typeof(D=void 0!==r.a&&r.a)&&D||Object,"function"==typeof(g=void 0!==d.a&&d.a)&&g||Object])],v);var h,f,D,g},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.module.ts":function(t,e,o){"use strict";var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./node_modules/@angular/common/@angular/common.es5.js"),r=o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.ts"),n=o("./node_modules/@ngx-translate/core/index.js"),s=o("./src/app/facturacion-electronica/general/data-table/data-table.module.ts"),c=o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.module.ts");o.d(e,"a",function(){return d});var l=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},d=function(){function t(){}return t}();d=l([o.i(i.NgModule)({imports:[a.CommonModule,n.a,s.a,c.a],declarations:[r.a],exports:[r.a],providers:[]})],d)},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.css":function(t,e,o){e=t.exports=o("./node_modules/css-loader/lib/css-base.js")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.html":function(t,e){t.exports='<div class="modal fade" #modalEditar [id]="idModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="material-icons">clear</i></button>\r\n        <div class="row">\r\n          <div class="col-md-4">\r\n            <h5 class="modal-title" id="myModalLabel">{{\'editarItem\' | translate}}</h5>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <form [formGroup]="editarItemFormGroup" autocomplete="off">\r\n        <div class="modal-body">\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblCantidad" class="control-label">{{\'cantidad\' | translate}}</label>\r\n                <input class="form-control" id="txtCantidad" formControlName="txtCantidad" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtCantidad\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtCantidad\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtCantidad} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtCantidad\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblCodigo" class="control-label">{{\'codigo\' | translate}}</label>\r\n                <input class="form-control" id="txtCodigo" formControlName="txtCodigo" type="text">\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtCodigo\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtCodigo\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtCodigo} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtCodigo\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblDescripcion" class="control-label">{{\'descripcion\' | translate}}</label>\r\n                <textarea class="form-control" id="txtDescripcion" formControlName="txtDescripcion" type="text" rows="3"></textarea>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtDescripcion\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtDescripcion\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtDescripcion} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtDescripcion\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblUnidadMedida" class="control-label">{{\'unidadMedida\' | translate}}</label>\r\n                <input class="form-control" id="txtUnidadMedida" formControlName="txtUnidadMedida" type="text">\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtUnidadMedida\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtUnidadMedida\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtUnidadMedida} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtUnidadMedida\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblValorUnitario" class="control-label">{{\'valorUnitario\' | translate}}</label>\r\n                <input class="form-control" id="txtValorUnitario" formControlName="txtValorUnitario" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtValorUnitario\').valid && tipoNotaDebito === _tiposService.TIPO_NOTA_DEBITO_AUMENTO_EN_EL_VALOR">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtValorUnitario\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtValorUnitario} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtValorUnitario\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtValorUnitario\').hasError(\'max\')"\r\n                          class="text-danger">{{\'debeSerMayorA\' | translate: {digito: \'0.00\'} }}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblIgv" class="control-label">{{\'igv\' | translate}}</label>\r\n                <input class="form-control" id="txtIgv" formControlName="txtIgv" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtIgv\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtIgv\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtIgv} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtIgv\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblIsc" class="control-label">{{\'isc\' | translate}}</label>\r\n                <input class="form-control" id="txtIsc" formControlName="txtIsc" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtIsc\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtIsc\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtIsc} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtIsc\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblDescuento" class="control-label">{{\'descuento\' | translate}}</label>\r\n                <input class="form-control" id="txtDescuento" formControlName="txtDescuento" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtDescuento\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtDescuento\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtDescuento} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtDescuento\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblValorVenta" class="control-label">{{\'valorVenta\' | translate}}</label>\r\n                <input class="form-control" id="txtValorVenta" formControlName="txtValorVenta" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtValorVenta\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtValorVenta\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtValorVenta} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtValorVenta\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="modal-footer text-center">\r\n          <button type="submit" class="btn btn-default" data-dismiss="modal" [disabled]="!(editarItemFormGroup.valid)" (click)="guardarItem()">{{\'guardar\' | translate}}</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.ts":function(t,e,o){"use strict";var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./src/app/facturacion-electronica/general/utils/estilos.services.ts"),r=o("./node_modules/@angular/forms/@angular/forms.es5.js"),n=o("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),s=o("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts");o.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,o){this._estilosService=t,this._tiposService=e,this._notaDebitoService=o,this.iniciarTamanios()}return t.prototype.iniciarTamanios=function(){this.tamanioTxtCantidad=16,this.tamanioTxtCodigo=30,this.tamanioTxtDescripcion=250,this.tamanioTxtUnidadMedida=3,this.tamanioTxtValorUnitario=15,this.tamanioTxtIgv=15,this.tamanioTxtIsc=15,this.tamanioTxtDescuento=15,this.tamanioTxtValorVenta=15,this.estaValidadoFormGroup=!1},t.prototype.iniciarFormGroup=function(){this.editarItemFormGroup=new r.FormGroup({txtCantidad:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtCantidad)]),txtCodigo:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtCodigo)]),txtDescripcion:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtDescripcion)]),txtUnidadMedida:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtUnidadMedida)]),txtValorUnitario:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtValorUnitario)]),txtIgv:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtIgv)]),txtIsc:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtIsc)]),txtDescuento:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtDescuento)]),txtValorVenta:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtValorVenta)])})},t.prototype.ngOnInit=function(){var t=this;this.iniciarFormGroup(),this.detalleLista=this._notaDebitoService.obtenerDetalleOriginal(),this.tipoNotaDebitoSubscription=this._notaDebitoService.tipoNotaDebito.subscribe(function(e){t.tipoNotaDebito=e})},t.prototype.ngOnDestroy=function(){this.tipoNotaDebitoSubscription.unsubscribe()},t.prototype.recalcularDetalleEbiz=function(t,e,o,i,a,r,n){var s=this;this.editarItemFormGroup.controls[t].valueChanges.subscribe(function(t){if(t&&s.editarItemFormGroup.valid){var c=Number(s.editarItemFormGroup.controls[e].value),l=Number(s.editarItemFormGroup.controls[o].value),d=Number(s.editarItemFormGroup.controls[a].value),p=c*l+d,b=.18*p,u=Number(s.editarItemFormGroup.controls[r].value),m=p+b-u;s.editarItemFormGroup.controls[i].setValue(Number(b).toFixed(2)),s.editarItemFormGroup.controls[n].setValue(Number(m).toFixed(2))}})},t.prototype.abrirModal=function(){$("#"+this.idModal).modal("show")},t.prototype.habilitarFormsControl=function(t,e){for(var o=0,i=e;o<i.length;o++){var a=i[o];this.editarItemFormGroup.controls[a].disable(),$("#"+a).parent().children("label").children("span").remove()}for(var r=0,n=t;r<n.length;r++){var s=n[r];this.editarItemFormGroup.controls[s].enable(),$("#"+s).parent().children("label").children("span").remove(),$("#"+s).parent().children("label").append("<span class='star'>*</span>")}},t.prototype.guardarItem=function(){this.detalleEbiz.cantidad=this.editarItemFormGroup.controls.txtCantidad.value,this.detalleEbiz.codigoItem=this.editarItemFormGroup.controls.txtCodigo.value,this.detalleEbiz.descripcionItem=this.editarItemFormGroup.controls.txtDescripcion.value,this.detalleEbiz.detalle.unidadMedida=this.editarItemFormGroup.controls.txtUnidadMedida.value,this.detalleEbiz.precioUnitario=this.editarItemFormGroup.controls.txtValorUnitario.value,this.detalleEbiz.detalle.subtotalIgv=this.editarItemFormGroup.controls.txtIgv.value,this.detalleEbiz.detalle.subtotalIsc=this.editarItemFormGroup.controls.txtIsc.value,this.detalleEbiz.detalle.descuento=this.editarItemFormGroup.controls.txtDescuento.value,this.detalleEbiz.precioTotal=this.editarItemFormGroup.controls.txtValorVenta.value,this.verificarSiCambioItem()},t.prototype.verificarSiCambioItem=function(){Number(this.detalleEbiz.precioUnitario)!==Number(this.detalleEbizSinModificar.precioUnitario)?this.detalleEbiz.cambioDetalle=!0:this.detalleEbiz.cambioDetalle=!1},t.prototype.llenarDatosItem=function(t){var e=this;this.editarItemFormGroup.reset(),this.detalleEbiz=t,this.detalleEbizSinModificar=this.detalleLista.find(function(t){return t.posicion===e.detalleEbiz.posicion}),this.verificartipoNotaDebito(),this.editarItemFormGroup.controls.txtCantidad.setValue(this.detalleEbiz.cantidad),this.editarItemFormGroup.controls.txtCodigo.setValue(this.detalleEbiz.codigoItem),this.editarItemFormGroup.controls.txtDescripcion.setValue(this.detalleEbiz.descripcionItem),this.editarItemFormGroup.controls.txtUnidadMedida.setValue(this.detalleEbiz.detalle.unidadMedida),this.editarItemFormGroup.controls.txtValorUnitario.setValue(this.detalleEbiz.precioUnitario),this.editarItemFormGroup.controls.txtIgv.setValue(this.detalleEbiz.detalle.subtotalIgv),this.editarItemFormGroup.controls.txtIsc.setValue(this.detalleEbiz.detalle.subtotalIsc),this.editarItemFormGroup.controls.txtDescuento.setValue(this.detalleEbiz.detalle.descuento),this.editarItemFormGroup.controls.txtValorVenta.setValue(this.detalleEbiz.precioTotal),this._estilosService.eliminarEstilosTodosTag("is-empty","input"),this._estilosService.eliminarEstilosTodosTag("is-empty","textarea")},t.prototype.verificartipoNotaDebito=function(){var t=this;switch(this.tipoNotaDebito){case this._tiposService.TIPO_NOTA_DEBITO_AUMENTO_EN_EL_VALOR:this.detalleEbiz.precioUnitario="0.00",this.habilitarFormsControl(["txtValorUnitario"],["txtDescripcion","txtDescuento","txtCantidad","txtValorVenta"]),this.recalcularDetalleEbiz("txtValorUnitario","txtCantidad","txtValorUnitario","txtIgv","txtIsc","txtDescuento","txtValorVenta"),this.editarItemFormGroup.controls.txtValorUnitario.valueChanges.subscribe(function(e){if(e){var o=Number(t.editarItemFormGroup.controls.txtValorUnitario.value);Number(t.detalleEbizSinModificar.precioUnitario);o>0?(t.editarItemFormGroup.controls.txtValorUnitario.setErrors(null),t.estaValidadoFormGroup=!0):(t.editarItemFormGroup.controls.txtValorUnitario.setErrors({max:!0}),t.estaValidadoFormGroup=!1)}})}},t}();c([o.i(i.Input)(),l("design:type",String)],d.prototype,"idModal",void 0),c([o.i(i.ViewChild)("modalEditar"),l("design:type","function"==typeof(p=void 0!==i.ElementRef&&i.ElementRef)&&p||Object)],d.prototype,"modalEditar",void 0),d=c([o.i(i.Component)({selector:"app-tipo-nota-debito-editar-item",template:o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.html"),styles:[o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.css")]}),l("design:paramtypes",["function"==typeof(b=void 0!==a.a&&a.a)&&b||Object,"function"==typeof(u=void 0!==n.a&&n.a)&&u||Object,"function"==typeof(m=void 0!==s.a&&s.a)&&m||Object])],d);var p,b,u,m},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.module.ts":function(t,e,o){"use strict";var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./node_modules/@angular/common/@angular/common.es5.js"),r=o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.ts"),n=o("./node_modules/@ngx-translate/core/index.js"),s=o("./src/app/facturacion-electronica/general/directivas/directivas.module.ts"),c=o("./node_modules/@angular/forms/@angular/forms.es5.js");o.d(e,"a",function(){return d});var l=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},d=function(){function t(){}return t}();d=l([o.i(i.NgModule)({imports:[a.CommonModule,n.a,c.ReactiveFormsModule,s.a],declarations:[r.a],exports:[r.a],providers:[]})],d)},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.css":function(t,e,o){e=t.exports=o("./node_modules/css-loader/lib/css-base.js")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.html":function(t,e){t.exports='<form [formGroup]="notaDebitoNormalFormGroup" autocomplete="off">\r\n  <div class="row">\r\n    <div class="col-md-3">\r\n      <div class="form-group label-floating">\r\n        <label id="lblMontoInteresPorMora" class="control-label">\r\n          {{\'montoInteresPorMora\' | translate}}<span class="star">*</span>\r\n        </label>\r\n        <input class="form-control" id="txtMontoInteresPorMora" formControlName="txtMontoInteresPorMora" type="text" precioDirectiva>\r\n        <div class="row" *ngIf="!notaDebitoNormalFormGroup.valid">\r\n          <div class="col-md-12">\r\n            <span class="text-danger"\r\n                  *ngIf="notaDebitoNormalFormGroup.controls[\'txtMontoInteresPorMora\'].hasError(\'min\')">\r\n                {{\'debeSerMayorA\' | translate: {digito: \'0.00\'} }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n'},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.ts":function(t,e,o){"use strict";var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./src/app/facturacion-electronica/general/utils/estilos.services.ts"),r=o("./node_modules/@angular/forms/@angular/forms.es5.js"),n=o("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),s=o("./src/app/facturacion-electronica/general/models/leyendaComprobante.ts"),c=o("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts"),l=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleNotaDebito.ts");o.d(e,"a",function(){return b});var d=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(){function t(t,e,o){this._tiposService=t,this._estilosServices=e,this._notaDebitoService=o}return t.prototype.ngOnInit=function(){var t=this;this.iniciarFormGroup(),this.tipoNotaDebitoSubscription=this._notaDebitoService.tipoNotaDebito.subscribe(function(e){t.tipoNotaDebito=e,t._notaDebitoService.detalleModificadoLista.next(t._notaDebitoService.obtenerDetalleOriginal()),t.cargarDatosEnForm()}),this.pasoAVistaPreviaSubscription=this._notaDebitoService.pasoAVistaPrevia.subscribe(function(e){e&&(t._notaDebitoService.setCabeceraNormal(t.obtenerLeyenda()),t._notaDebitoService.setDetalleNormal(t.obtenerDetalle()))})},t.prototype.ngOnDestroy=function(){this.tipoNotaDebitoSubscription.unsubscribe(),this.pasoAVistaPreviaSubscription.unsubscribe(),this.padreFormGroup.removeControl(this.nombreControl)},t.prototype.cargarDatosEnForm=function(){this._notaDebitoService.estaUsandoPersistencia.value?(this.notaDebitoNormalFormGroup.controls.txtMontoInteresPorMora.setValue(this._notaDebitoService.notaDebito.value.totalComprobante),this._estilosServices.eliminarEstiloInput("txtMontoInteresPorMora","is-empty"),this._notaDebitoService.estaUsandoPersistencia.next(!1)):this.limpiar()},t.prototype.obtenerLeyenda=function(){var t=new s.a,e=Number(this.notaDebitoNormalFormGroup.controls.txtMontoInteresPorMora.value).toFixed(2);return t.total=e,t.subTotal=e,t.montoPagado=e,t.importeReferencial=e,t},t.prototype.obtenerDetalle=function(){var t=new l.a,e=Number(this.notaDebitoNormalFormGroup.controls.txtMontoInteresPorMora.value).toFixed(2),o=this._notaDebitoService.comprobanteReferencia.value;t.detalle.idProducto=null;for(var i=!1,a=0,r=o.detalle;a<r.length;a++){var n=r[a];if(n.inItipoAfectacionigv&&n.inItipoCalculoisc&&n.inItipoPrecioventa&&n.inCodigoAfectacionigv&&n.inCodigoCalculoisc&&n.inCodigoPrecioventa&&n.vcDescAfectacionigv&&n.vcDescCalculoisc&&n.vcDescPrecioventa){i=!0,t.detalle.idTipoIgv=n.inItipoAfectacionigv,t.detalle.idTipoIsc=n.inItipoCalculoisc,t.detalle.idTipoPrecio=n.inItipoPrecioventa,t.detalle.codigoTipoIgv=n.inCodigoAfectacionigv,t.detalle.codigoTipoIsc=n.inCodigoCalculoisc,t.detalle.codigoTipoPrecio=n.inCodigoPrecioventa,t.detalle.descripcionTipoIgv=n.vcDescAfectacionigv,t.detalle.descripcionTipoIsc=n.vcDescCalculoisc,t.detalle.descripcionTipoPrecio=n.vcDescPrecioventa;break}}var s=o.detalle[0];return i||(t.detalle.idTipoIgv=s.inItipoAfectacionigv,t.detalle.idTipoIsc=s.inItipoCalculoisc,t.detalle.idTipoPrecio=s.inItipoPrecioventa,t.detalle.codigoTipoIgv=s.inCodigoAfectacionigv,t.detalle.codigoTipoIsc=s.inCodigoCalculoisc,t.detalle.codigoTipoPrecio=s.inCodigoPrecioventa,t.detalle.descripcionTipoIgv=s.vcDescAfectacionigv,t.detalle.descripcionTipoIsc=s.vcDescCalculoisc,t.detalle.descripcionTipoPrecio=s.vcDescPrecioventa),t.posicion="1",t.detalle.numeroItem="1",t.cantidad="0.00",t.precioUnitario=e,t.detalle.subtotalVenta=t.precioUnitario,t.precioTotal=e,t.detalle.precioUnitarioVenta=t.precioTotal,t.descripcionItem=this._notaDebitoService.notaDebito.value.motivoComprobante,t},t.prototype.limpiar=function(){this.notaDebitoNormalFormGroup.controls.txtMontoInteresPorMora.setValue("0.00")},t.prototype.iniciarFormGroup=function(){this.notaDebitoNormalFormGroup=new r.FormGroup({txtMontoInteresPorMora:new r.FormControl({value:"0.00",disabled:!1},[r.Validators.required,r.Validators.min(.01)])}),this.padreFormGroup.addControl(this.nombreControl,this.notaDebitoNormalFormGroup)},t}();d([o.i(i.Input)("padreFormGroup"),p("design:type","function"==typeof(u=void 0!==r.FormGroup&&r.FormGroup)&&u||Object)],b.prototype,"padreFormGroup",void 0),d([o.i(i.Input)("nombreControl"),p("design:type",String)],b.prototype,"nombreControl",void 0),b=d([o.i(i.Component)({selector:"app-tipo-nota-debito-normal",template:o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.html"),styles:[o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.css")]}),p("design:paramtypes",["function"==typeof(m=void 0!==n.a&&n.a)&&m||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(h=void 0!==c.a&&c.a)&&h||Object])],b);var u,m,v,h},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.module.ts":function(t,e,o){"use strict";var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./node_modules/@angular/common/@angular/common.es5.js"),r=o("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.ts"),n=o("./node_modules/@ngx-translate/core/index.js"),s=o("./src/app/facturacion-electronica/general/directivas/directivas.module.ts"),c=o("./node_modules/@angular/forms/@angular/forms.es5.js");o.d(e,"a",function(){return d});var l=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},d=function(){function t(){}return t}();d=l([o.i(i.NgModule)({imports:[a.CommonModule,n.a,c.ReactiveFormsModule,s.a],declarations:[r.a],exports:[r.a],providers:[]})],d)},"./src/app/facturacion-electronica/comprobantes/nota-debito/utils/tipos-vistas-nota-debito.ts":function(t,e,o){"use strict";o.d(e,"a",function(){return i});var i;!function(t){t[t.NORMAL=0]="NORMAL",t[t.TABLA=1]="TABLA"}(i||(i={}))},"./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.css":function(t,e,o){e=t.exports=o("./node_modules/css-loader/lib/css-base.js")(!1),e.push([t.i,".center{text-align:center}.left{text-align:left}.borde-simple{border-style:solid;border-radius:2px;border-color:#aaa}.logoVisualizar{width:100%;height:45px;overflow:hidden;border-radius:5px;background-color:#fff;left:70px;z-index:5}.card img{max-width:100%;max-height:100%;width:auto;height:auto}",""]),t.exports=t.exports.toString()},"./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.html":function(t,e){t.exports='\r\n<div class="card">\r\n  <div class="card-header card-header-text" data-background-color="blue">\r\n    <h4 class="card-title">{{\'vistaPrevia\' | translate}}</h4>\r\n  </div>\r\n  <div class="card-content">\r\n    \x3c!-- <div class="row">\r\n      <div class="col-md-4">\r\n        <label>\r\n          <h5>\r\n            <b *ngIf="notaDebito.documentoEntidad[0]">{{notaDebito.documentoEntidad[0].denominacion}}</b>\r\n          </h5>\r\n        </label>\r\n      </div>\r\n      <div class="col-md-4 col-md-offset-4">\r\n        <div class="row">\r\n          <div class="col-md-4">\r\n            <label>\r\n              <h4>\r\n                <b>{{\'ruc\' | translate}}:</b>\r\n              </h4>\r\n            </label>\r\n          </div>\r\n          <div class="col-md-8">\r\n            <label>\r\n              <h5 *ngIf="notaDebito.documentoEntidad[0]">{{notaDebito.documentoEntidad[0].documento}}</h5>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="row">\r\n      <div class="col-md-4">\r\n        <label>\r\n          <h5>\r\n            <b *ngIf="notaDebito.documentoEntidad[0]">{{notaDebito.documentoEntidad[0].direccionFiscal}}</b>\r\n          </h5>\r\n        </label>\r\n      </div>\r\n      <div class="col-md-4 col-md-offset-4">\r\n        <label>\r\n          <h3>\r\n            <b>{{tituloComprobante | translate | uppercase}}</b>\r\n          </h3>\r\n        </label>\r\n      </div>\r\n    </div>\r\n    <br>\r\n    <div class="row">\r\n      <div class="col-md-4 col-md-offset-8">\r\n        <div class="row">\r\n          <div class="col-md-4">\r\n            <label>\r\n              <h3>\r\n                <b>{{\'serie\' | translate}}:</b>\r\n              </h3>\r\n            </label>\r\n          </div>\r\n          <div class="col-md-8">\r\n            <label>\r\n              <h3>{{notaDebito.numeroComprobante}}</h3>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div> --\x3e\r\n    \r\n    <div class="row">\r\n        <div class="col-md-4 left">\r\n              \x3c!-- <div *ngIf="urlLogo != \'\'" class="logoVisualizar">\r\n                <img src="{{urlLogo}}">\r\n              </div> --\x3e\r\n          <label>\r\n            \x3c!-- Razon Social Proveedor --\x3e\r\n            <b *ngIf="notaDebito.documentoEntidad[0]">{{notaDebito.documentoEntidad[0].denominacion}}</b>\r\n          </label>\r\n          <br>\r\n          <label>\r\n            \x3c!-- Direccion Proveedor --\x3e\r\n            <b>{{notaDebito.documentoEntidad[0].direccionFiscal}}</b>\r\n          </label>\r\n        </div>\r\n        <div class="col-md-4 col-md-offset-4 center">\r\n          <div class="col-md-12 borde-simple">\r\n            <label>\r\n              \x3c!-- RUC + Nmero de Ruc --\x3e\r\n              <b>{{\'rucNumero\'| translate}}: {{notaDebito.documentoEntidad[0].documento}}</b>\r\n            </label>\r\n            <br>\r\n            <label>\r\n              \x3c!-- Comprobante Electronico --\x3e\r\n              <b>{{\'notaDebito\' | translate | uppercase}} {{\'baseComprobanteElectronica\' | translate | uppercase}}</b>\r\n            </label>\r\n            <br>\r\n            <label>\r\n              \x3c!-- Serie Label + Serie --\x3e\r\n              <b>{{\'serie\'| translate}}: {{notaDebito.numeroComprobante}}</b>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    <br>\r\n\r\n    <div class="row">\r\n      <div class="col-md-6">\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n            <label>\r\n              <b>{{\'seniorSeniors\' | translate}}:</b>\r\n            </label>\r\n          </div>\r\n          <div class="col-md-6">\r\n            <label *ngIf="notaDebito.documentoEntidad[1]">{{notaDebito.documentoEntidad[1].denominacion}}</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="row">\r\n      <div class="col-md-6">\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n            <label>\r\n              <b>{{\'ruc\' | translate}}:</b>\r\n            </label>\r\n          </div>\r\n          <div class="col-md-6">\r\n            <label *ngIf="notaDebito.documentoEntidad[1]">{{notaDebito.documentoEntidad[1].documento}}</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="row">\r\n      <div class="col-md-6">\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n            <label>\r\n              <b>{{\'domicilioFiscal\' | translate}}:</b>\r\n            </label>\r\n          </div>\r\n          <div class="col-md-6">\r\n            <label *ngIf="notaDebito.documentoEntidad[1]">{{notaDebito.documentoEntidad[1].direccionFiscal}}</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="row">\r\n      <div class="col-md-6">\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n            <label>\r\n              <b>{{\'fechaEmision\' | translate}}:</b>\r\n            </label>\r\n          </div>\r\n          <div class="col-md-6">\r\n            <label>{{formatoFechaEmision}}</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="row">\r\n      <div class="col-md-6">\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n            <label>\r\n              <b>{{\'tipoMoneda\' | translate}}:</b>\r\n            </label>\r\n          </div>\r\n          <div class="col-md-6">\r\n            <label>{{notaDebito.moneda}}</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="row">\r\n      <div class="col-md-6">\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n            <label>\r\n              <b>{{\'tipoNotaCredito\' | translate}}:</b>\r\n            </label>\r\n          </div>\r\n          <div class="col-md-6">\r\n            <label>{{tipoNotaComprobante | uppercase}}</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="row">\r\n      <div class="col-md-6">\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n            <label>\r\n              <b>{{\'motivoSustento\' | translate}}:</b>\r\n            </label>\r\n          </div>\r\n          <div class="col-md-6">\r\n            <label>{{notaDebito.motivoComprobante}}</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <br>\r\n    <app-data-table\r\n      #tablaVistaPrevia\r\n      (iniciarData)="iniciarDataTable($event)"\r\n      [idTabla]="\'tablaVistaPrevia\'"\r\n      [columnas]="columnasTabla"\r\n      [ordenarPorElCampo]="ordenarPorElCampo"\r\n    ></app-data-table>\r\n    <br>\r\n    <div class="row">\r\n      <div class="col-md-6">\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n            <label>\r\n              <b>{{\'observaciones\' | translate}}:</b>\r\n            </label>\r\n          </div>\r\n          <div class="col-md-6">\r\n            <label>{{notaDebito.observacionComprobante}}</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <br>\r\n    <div class="row">\r\n      <div class="col-md-2 col-md-offset-5">\r\n        <label>\r\n          <b>{{\'importeTotal\' | translate}}:</b>\r\n        </label>\r\n      </div>\r\n      <div class="col-md-5">\r\n        <label>{{notaDebito.totalComprobante}}</label>\r\n      </div>\r\n    </div>\r\n    <div class="row">\r\n      <div class="col-md-2 col-md-offset-5">\r\n        <label>\r\n          <b>{{\'montoEnLetras\' | translate}}:</b>\r\n        </label>\r\n      </div>\r\n      <div class="col-md-5">\r\n        <label>{{totalEnPalabras | uppercase}}</label>\r\n      </div>\r\n    </div>\r\n    <br>\r\n    <br>\r\n  </div>\r\n  <div class="row">\r\n    <div class="col-md-12" align="right">\r\n      <button name="btnRegresar" type="button" class="btn btn-default" style="right: 15px;" (click)="regresar()">\r\n        {{\'regresar\' | translate}}\r\n      </button>\r\n      <button name="btnEmitir" type="button" class="btn btn-default" style="right: 15px;" (click)="emitir()">\r\n        {{\'emitir\' | translate}}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.ts":function(t,e,o){"use strict";var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./node_modules/@angular/router/@angular/router.es5.js"),r=o("./src/app/facturacion-electronica/general/services/comprobantes/creacionComprobantes.ts"),n=o("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),s=o("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/notaDebito.ts"),c=o("./node_modules/written-number/lib/index.js"),l=(o.n(c),o("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts")),d=o("./node_modules/@ngx-translate/core/index.js"),p=o("./src/app/facturacion-electronica/comprobantes/services/padre-comprobante.service.ts"),b=o("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),u=o("./src/app/facturacion-electronica/general/data-table/utils/columna-data-table.ts");o.d(e,"a",function(){return h});var m=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},v=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(t,e,o,i,a,r,n){this.route=t,this._notaDebitoService=e,this.router=o,this._creacionComprobantes=i,this._translateService=a,this._tiposService=r,this._padreComprobanteService=n,this._padreComprobanteService.actualizarComprobante(this.route.snapshot.data.codigo,this.route.snapshot.data.mostrarCombo),this.notaDebito=this._notaDebitoService.obtenerNotaDebitoPersistencia(),this.eliminarPersistencia=!0,this._notaDebitoService.estaUsandoPersistencia.value?(this.tituloComprobante="",this.columnasTabla=[new u.a("codigo","codigoItem"),new u.a("descripcion","descripcionItem",{"text-align":"left"}),new u.a("cantidad","cantidad",{"text-align":"right"}),new u.a("unidadMedida","detalle.unidadMedida"),new u.a("valorUnitario","precioUnitario",{"text-align":"right"}),new u.a("igv","detalle.subtotalIgv",{"text-align":"right"}),new u.a("isc","detalle.subtotalIsc",{"text-align":"right"}),new u.a("valorVenta","precioTotal",{"text-align":"right"})],this.ordenarPorElCampo="codigoItem",this.fechaEmision=new Date,this.formatoFechaEmision=this.obtenerFecha(),this.leerParametrosUrl()):this.regresar()}return t.prototype.obtenerFecha=function(){var t=new Date,e=t.getDate(),o=t.getMonth()+1;return t.getFullYear()+"-"+this.ponerCeros(o,2)+o+"-"+this.ponerCeros(e,2)+e},t.prototype.ponerCeros=function(t,e){return"0".repeat(e-t.toString().length)},t.prototype.leerParametrosUrl=function(){var t=this;this.route.queryParams.subscribe(function(e){t.pathRegresarA=e.regresarA})},t.prototype.ngOnInit=function(){var t=this;this.route.data.subscribe(function(e){t.tituloComprobante=e.titulo});var e=this.notaDebito.documentoParametro[0];if(e){var o=JSON.parse(e.json);this.tipoNotaComprobante=o.valor}var i=this.notaDebito.totalComprobante.toString().split("."),a=i[0],r=i[1],n="";this._translateService.get("con").take(1).subscribe(function(t){return n=t}),this.totalEnPalabras=c(Number(a),{lang:"es"})+" "+n+" "+r+"/100 "+this.notaDebito.auxMonedaTablaMaestra.descripcionLarga},t.prototype.ngOnDestroy=function(){this.eliminarPersistencia&&this._notaDebitoService.eliminarNotaDebitoPersistencia()},t.prototype.getRUCOrganizacion=function(){var t=JSON.parse(localStorage.getItem("usuarioActual"));this.urlLogo=null!=t.org_url_image?t.org_url_image:""},t.prototype.iniciarDataTable=function(t){var e=this.notaDebito.detalleEbiz;e.map(function(t){""===t.codigoItem&&(t.codigoItem="-"),""===t.descripcionItem&&(t.descripcionItem="-"),""===t.detalle.unidadMedida&&(t.detalle.unidadMedida="-")}),this.dataTable.insertarData(e)},t.prototype.emitir=function(){var t=this;this.fechaEmision=new Date,this.notaDebito.fechaEmision=this.fechaEmision.getTime(),this._creacionComprobantes.crearNotaDebito(this.notaDebito).subscribe(function(e){null!==e&&(t._notaDebitoService.notaDebito.next(new s.a),t._notaDebitoService.eliminarNotaDebitoPersistencia(),t._notaDebitoService.estaUsandoPersistencia.next(!1),t.router.navigate(["../../emision",e.id],{relativeTo:t.route}))})},t.prototype.regresar=function(){this.eliminarPersistencia=!1,this.router.navigate(["../"],{relativeTo:this.route})},t}();m([o.i(i.ViewChild)(n.a),v("design:type","function"==typeof(f=void 0!==n.a&&n.a)&&f||Object)],h.prototype,"dataTable",void 0),h=m([o.i(i.Component)({selector:"app-vista-previa-nota-debito",template:o("./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.html"),styles:[o("./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.css")]}),v("design:paramtypes",["function"==typeof(D=void 0!==a.b&&a.b)&&D||Object,"function"==typeof(g=void 0!==l.a&&l.a)&&g||Object,"function"==typeof(C=void 0!==a.c&&a.c)&&C||Object,"function"==typeof(I=void 0!==r.a&&r.a)&&I||Object,"function"==typeof(x=void 0!==d.c&&d.c)&&x||Object,"function"==typeof(_=void 0!==b.a&&b.a)&&_||Object,"function"==typeof(T=void 0!==p.a&&p.a)&&T||Object])],h);var f,D,g,C,I,x,_,T},"./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.module.ts":function(t,e,o){"use strict";var i=o("./node_modules/@angular/core/@angular/core.es5.js"),a=o("./node_modules/@angular/common/@angular/common.es5.js"),r=o("./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.ts"),n=o("./node_modules/@ngx-translate/core/index.js"),s=o("./node_modules/@angular/common/@angular/common/http.es5.js"),c=o("./src/app/facturacion-electronica/general/services/comprobantes/creacionComprobantes.ts"),l=o("./src/app/facturacion-electronica/general/data-table/data-table.module.ts"),d=o("./src/app/facturacion-electronica/general/emision-comprobante/emision-comprobante.module.ts"),p=o("./src/app/facturacion-electronica/general/services/tokenInterceptor.service.ts");o.d(e,"a",function(){return u});var b=this&&this.__decorate||function(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n},u=function(){function t(){}return t}();u=b([o.i(i.NgModule)({imports:[a.CommonModule,n.a,l.a,s.a,d.a],declarations:[r.a],exports:[r.a],providers:[c.a,{provide:s.c,useClass:p.a,multi:!0}]})],u)}});