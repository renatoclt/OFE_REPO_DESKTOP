webpackJsonp([7],{"./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-boleta-factura/comprobante-visualizar-boleta-factura.component.css":function(e,o,r){o=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1),o.push([e.i,".center{text-align:center}.left{text-align:left}.borde-simple{border-style:solid;border-radius:2px;border-color:#aaa}.logoVisualizar{width:100%;height:45px;overflow:hidden;border-radius:5px;background-color:#fff;left:70px;z-index:5}.card img{max-width:100%;max-height:100%;width:auto;height:auto}.table-striped thead tr th{background:#e6e6e6;color:#4d4d4d;padding:4px 10px}.table-striped tbody tr td{padding:4px 10px}",""]),e.exports=e.exports.toString()},"./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-boleta-factura/comprobante-visualizar-boleta-factura.component.ts":function(e,o,r){"use strict";var a=r("./node_modules/@angular/core/@angular/core.es5.js"),t=r("./node_modules/@angular/router/@angular/router.es5.js"),n=r("./node_modules/written-number/lib/index.js"),c=(r.n(n),r("./node_modules/@angular/common/@angular/common/http.es5.js")),i=r("./src/app/facturacion-electronica/general/models/archivos/tipoArchivo.ts"),s=r("./src/app/facturacion-electronica/general/services/servidores.ts"),l=r("./src/app/facturacion-electronica/general/services/correo/correo.service.ts"),d=r("./src/app/facturacion-electronica/general/models/consultaDocumentoQuery.ts"),p=r("./src/app/facturacion-electronica/percepcion-retencion/services/percepcion-retencion-referencias.service.ts"),u=r("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),b=r("./src/app/facturacion-electronica/general/services/archivos/archivo.service.ts"),m=r("./src/app/facturacion-electronica/comprobantes/services/persistencia.service.ts"),v=r("./src/app/facturacion-electronica/general/services/comprobantes/documentoQuery.service.ts"),f=r("./src/app/facturacion-electronica/general/models/comprobantes/index.ts"),h=r("./node_modules/rxjs/BehaviorSubject.js"),g=(r.n(h),r("./src/app/facturacion-electronica/general/utils/rutas.service.ts")),y=r("./src/app/facturacion-electronica/general/data-table/utils/columna-data-table.ts"),C=r("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),_=r("./src/app/facturacion-electronica/general/utils/catalogo-documento-identidad.service.ts");r.d(o,"a",function(){return x});var w=this&&this.__decorate||function(e,o,r,a){var t,n=arguments.length,c=n<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,o,r,a);else for(var i=e.length-1;i>=0;i--)(t=e[i])&&(c=(n<3?t(c):n>3?t(o,r,c):t(o,r))||c);return n>3&&c&&Object.defineProperty(o,r,c),c},D=this&&this.__metadata||function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},x=function(){function e(e,o,r,a,t,n,c,s,l,d,p,u){this.route=e,this.router=o,this.httpClient=r,this._servidores=a,this.correoService=t,this.archivoServicio=n,this._persistenciaService=c,this._documentoQuery=s,this._percepcionRetencionReferenciasService=l,this._tipos=d,this._rutas=p,this._catalogoDocumentosIdentidad=u,this.documentoService=new h.BehaviorSubject(null),this.documento=new f.a,this.tiposArchivos=i.a,this.detalle=[],this.urlLogo="",this.totalPagoPalabras="",this.columnasTabla=[new y.a("codigo","vcCodigoProducto"),new y.a("descripcion","vcDescripcionitem",{"text-align":"left"}),new y.a("cantidad","deCantidaddespachada",{"text-align":"right"}),new y.a("Unidad de Medida","vcUnidadmedida"),new y.a("valorUnitario","dePreciounitarioitem",{"text-align":"right"}),new y.a("igv","deMontoimpuesto",{"text-align":"right"}),new y.a("isc","nuSubtotalIsc",{"text-align":"right"}),new y.a("descuento","nuDescuento",{"text-align":"right"}),new y.a("valorVenta","dePreciototalitem",{"text-align":"right"})]}return e.prototype.ngOnInit=function(){var e=this;this.getRUCOrganizacion(),this.route.params.subscribe(function(o){e.uuid=o.id}),console.log("UUID"),console.log(this.uuid),null===this.uuid&&this.regresar(),this.documentoService=this._documentoQuery.buscarDocumenentoPorId(this.uuid),this.getDocumento()},e.prototype.setNombreTipoDocumento=function(){switch(this.documento.entidadproveedora.inTipoDocumento){case Number(this._catalogoDocumentosIdentidad.TIPO_DOCUMENTO_IDENTIDAD_RUC):this.nombreTipoDocumeto="RUC";break;case Number(this._catalogoDocumentosIdentidad.TIPO_DOCUMENTO_IDENTIDAD_DNI):case Number(this._catalogoDocumentosIdentidad.TIPO_DOCUMENTO_IDENTIDAD_PASAPORTE):case this._catalogoDocumentosIdentidad.TIPO_DOCUMENTO_IDENTIDAD_CEDULA_DIPLOMATICA_IDENTIDAD:case Number(this._catalogoDocumentosIdentidad.TIPO_DOCUMENTO_IDENTIDAD_CARNET_EXTRANJERIA):this.nombreTipoDocumeto=this.documento.entidadproveedora[0].vcTipoDocumento;break;default:this.nombreTipoDocumeto="NÚMERO DE DOCUMENTO"}},e.prototype.getRUCOrganizacion=function(){var e=JSON.parse(localStorage.getItem("usuarioActual"));this.urlLogo=null!=e.org_url_image?e.org_url_image:""},e.prototype.getDocumento=function(){var e=this,o=this._servidores.HOSTLOCAL+"/documento?id="+this.uuid;this.httpClient.get(o,{responseType:"text"}).subscribe(function(o){console.log(o),e.documento=JSON.parse(o),console.log(e.documento),e.documento.deTotalcomprobantepago=e.formatearNumeroFormatoMoneda(Number(e.documento.deTotalcomprobantepago)),e.documento.dePagomontopagado=e.formatearNumeroFormatoMoneda(Number(e.documento.dePagomontopagado)),e.calcularTotales(),e.getDetalleComprobante(),e.setNombreTipoDocumento()},function(e){console.log(e)})},e.prototype.getDetalleComprobante=function(){this.detalle=this.documento.detalle;for(var e=0;e<this.detalle.length;e++)this.detalle[e].deCantidaddespachada=this.formatearNumeroFormatoMoneda(Number(this.detalle[e].deCantidaddespachada)),this.detalle[e].dePreciounitarioitem=this.formatearNumeroFormatoMoneda(Number(this.detalle[e].dePreciounitarioitem)),this.detalle[e].deMontoimpuesto=this.formatearNumeroFormatoMoneda(Number(this.detalle[e].deMontoimpuesto)),this.detalle[e].nuSubtotalIsc=this.formatearNumeroFormatoMoneda(Number(this.detalle[e].nuSubtotalIsc)),this.detalle[e].nuDescuento=this.formatearNumeroFormatoMoneda(Number(this.detalle[e].nuDescuento)),this.detalle[e].dePreciototalitem=this.formatearNumeroFormatoMoneda(Number(this.detalle[e].dePreciototalitem));this.tabla.insertarData(this.detalle)},e.prototype.calcularTotales=function(){this.totalPagoPalabras=this.formatearNumeroFormatoMoneda(Number(this.documento.deTotalcomprobantepago));var e=this.totalPagoPalabras.split("."),o=e[0],r=e[1];this.totalPagoPalabras=n(Number(o),{lang:"es"})+"  CON "+r+"/100 SOLES."},e.prototype.cargarData=function(){this.totalPagoPalabras=this.formatearNumeroFormatoMoneda(Number(this.documento)),this.calcularTotales()},e.prototype.formatearNumeroFormatoMoneda=function(e){return e.toFixed(2)},e.prototype.regresar=function(){this.router.navigateByUrl(this._rutas.URL_CONSULTAR_COMPROBANTE),this._persistenciaService.removePersistenciaSimple("UUIDConsultaComprobante")},e.prototype.imprimir=function(){this.archivoServicio.retornarArchivoRetencionPercepcionbase(this.uuid).subscribe(function(e){if(console.log(e),e){var o='<embed width=100% height=100% type="application/pdf" src="data:application/pdf;base64,'+e+'"> </embed>';window.open("","PDF","dependent = yes, locationbar = no, menubar = yes, resizable, screenX = 50, screenY = 50, width = 800, height = 800").document.write(o)}}),console.log(this.uuid)},e.prototype.enviarCorreo=function(){var e=this;swal({title:"Agregar Correos Electrónicos",html:'<div class="form-group label-floating" xmlns="http://www.w3.org/1999/html"><label class="control-label">Correos Electrónicos<span class="star">*</span> </label><textarea id="correos" type="text" class="form-control"/></textarea> <label>Para separar correos se deberán separar por comas(,).</label></div>',allowOutsideClick:!1,preConfirm:function(){return new Promise(function(e,o){setTimeout(function(){var r=!0,a=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,t=$("#correos").val();t=t.split(",");var n=t.filter(function(e){return!a.test(e)&&(r=!1,!0)});r?e(t):(swal.showValidationError(),o(new Error(n)))},500)})},showCancelButton:!0,confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",confirmButtonText:"SÍ",cancelButtonText:"NO",buttonsStyling:!1}).then(function(o){var r=(e.uuid,e.documento.vcSerie),a=e.documento.vcCorrelativo,t=e.documento.vcTipocomprobante,n=e.documento.tsFechacreacion,c=e.uuid+"-1.pdf",i=e.uuid+"-2.xml";console.log(o,t,r,a,n,c,i);e.correoService.enviarNotificacion(o,t,r,a,n,c,i).value})},e.prototype.cargarDataTabla=function(){new d.a;this.parametrosVisualizar=(new c.d).set("comprobanteID",this.uuid),this.urlVisualizarRetencion=this._percepcionRetencionReferenciasService.urlQry,this.tabla.setParametros(this.parametrosVisualizar),console.log("LA SUPER CONSULTA"),this.tipoConsultaVisualizarRetencion=this._percepcionRetencionReferenciasService.TIPO_ATRIBUTO_REFERENCIAS},e.prototype.iniciarData=function(e){this.calcularTotales()},e.prototype.guardarArchivo=function(e){console.log("DESCARGA DE ARCHIVOS TIPOS"),console.log(e.idArchivo),console.log(this.uuid),this.archivoServicio.descargararchivotipo(this.uuid,e.idArchivo)},e}();w([r.i(a.ViewChild)("tablaNormal"),D("design:type","function"==typeof(O=void 0!==u.a&&u.a)&&O||Object)],x.prototype,"tabla",void 0),x=w([r.i(a.Component)({selector:"app-comprobante-visualizar-boleta-factura",template:r("./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-boleta-factura/comprobante-visualizar-boleta-factura.html"),styles:[r("./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-boleta-factura/comprobante-visualizar-boleta-factura.component.css")]}),D("design:paramtypes",["function"==typeof(j=void 0!==t.b&&t.b)&&j||Object,"function"==typeof(T=void 0!==t.c&&t.c)&&T||Object,"function"==typeof(S=void 0!==c.b&&c.b)&&S||Object,"function"==typeof(P=void 0!==s.a&&s.a)&&P||Object,"function"==typeof(I=void 0!==l.a&&l.a)&&I||Object,"function"==typeof(R=void 0!==b.a&&b.a)&&R||Object,"function"==typeof(N=void 0!==m.a&&m.a)&&N||Object,"function"==typeof(z=void 0!==v.a&&v.a)&&z||Object,"function"==typeof(M=void 0!==p.a&&p.a)&&M||Object,"function"==typeof(E=void 0!==C.a&&C.a)&&E||Object,"function"==typeof(A=void 0!==g.a&&g.a)&&A||Object,"function"==typeof(U=void 0!==_.a&&_.a)&&U||Object])],x);var O,j,T,S,P,I,R,N,z,M,E,A,U;(function(){function e(){}})(),function(){function e(){}}()},"./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-boleta-factura/comprobante-visualizar-boleta-factura.html":function(e,o){e.exports='<div class="main-content">\r\n  <div class="container-fluid">\r\n    <div class="row col-md-12">\r\n      <div class="card">\r\n        <div class="card-header card-header-text" data-background-color="blue">\r\n          <h4 class="card-title">{{\'visualizar\' | translate}}</h4>\r\n        </div>\r\n        <div class="card-content">\r\n          <div class="row">\r\n            <div class="col-md-4 left">\r\n                  \x3c!-- <div class="logoVisualizar">\r\n                    <img src="{{urlLogo}}">\r\n                  </div> --\x3e\r\n              <label>\r\n                <b>{{documento.entidadproveedora.vcNomComercia}}</b>\r\n              </label>\r\n              <br>\r\n              <label>\r\n                <b>{{documento.entidadproveedora.vcDirFiscal}}</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-4 col-md-offset-4 center">\r\n              <div class="col-md-12 borde-simple">\r\n                <label>\r\n                  <b>{{\'rucNumero\'| translate}}: {{documento.entidadproveedora.vcDocumento}}</b>\r\n                </label>\r\n                <br>\r\n                <label>\r\n                  <b>{{documento.vcTipocomprobante | uppercase}} {{\'baseComprobanteElectronica\' | translate | uppercase}}</b>\r\n                </label>\r\n                <br>\r\n                <label>\r\n                    <b>{{documento.vcSerie}} - {{documento.vcCorrelativo}}</b>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <br>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'senior\'| translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{documento.entidadcompradora.vcNomComercia}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    \x3c!-- <b>{{\'ruc\'| translate}}:</b> --\x3e\r\n                    <b *ngIf="this.documento.chIdtipocomprobante == this._tipos.TIPO_DOCUMENTO_FACTURA">{{\'rucNumero\'| translate}}:</b>\r\n                    <b *ngIf="this.documento.chIdtipocomprobante == this._tipos.TIPO_DOCUMENTO_BOLETA">\r\n                      {{nombreTipoDocumeto}}\r\n                      \x3c!-- <ng-container [ngSwitch]="this.documento.entidadcompradora.vcTipoDocumento">\r\n                        <b *ngSwitchCase="\'1\'">{{\'dni\'| translate | uppercase}}</b>\r\n                        <b *ngSwitchCase="\'4\'">{{\'carnetExtranjeria\'| translate | uppercase}}</b>\r\n                        <b *ngSwitchCase="\'6\'">{{\'ruc\'| translate | uppercase}}</b>\r\n                        <b *ngSwitchCase="\'7\'">{{\'pasaporte\'| translate | uppercase}}</b>\r\n                        <b *ngSwitchCase="\'A\'">{{\'cedulaDiplomatica\'| translate | uppercase}}</b>\r\n                      </ng-container> --\x3e\r\n                    </b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{documento.entidadcompradora.vcDocumento}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'domicilioFiscal\'| translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{documento.entidadcompradora.vcDirFiscal}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'fechaEmision\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{documento.tsFechaemision | date:\'d/M/yyyy\'}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'tipoMoneda\'| translate}}</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{documento.chMonedacomprobantepago}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <br>\r\n\r\n          <div class="row container-fluid" *ngIf="documento.referencias.length > 0">\r\n            <div class="col-md-12 table responsive">\r\n              \x3c!-- <label><b>{{\'documentosRelacionados\' | translate}}</b></label> --\x3e\r\n              <table class="table table-striped">\r\n                <thead>\r\n                  <tr>\r\n                    <th>{{\'tipoDocumentoRelacionado\' | translate}}</th>\r\n                    <th>{{\'documentosRelacionados\' | translate}}</th>\r\n                    <th>{{\'montoAnticipo\' | translate}}</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngFor="let item of documento.referencias">\r\n                    <td>{{item.vcTdocDesDesc}}</td>\r\n                    <td>\r\n                      {{item.chSerieDest  + \'-\' + item.chCorrDest}}\r\n                    </td>\r\n                    <td>{{item.deAnticipo| number: 3.1-2}}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          \x3c!-- <br> --\x3e\r\n          <app-data-table\r\n            (iniciarData)="iniciarData($event)"\r\n            #tablaNormal\r\n            [idTabla]="\'tabla1\'"\r\n            [columnas]="columnasTabla"\r\n\r\n            [usaServicio]="false"\r\n            [parametros]="parametrosVisualizar"\r\n            [tipoAtributoServicio]="tipoConsultaVisualizarRetencion"\r\n            [urlServicio]="urlVisualizarRetencion"></app-data-table>\r\n          <br>\r\n          <br>\r\n          <div class="row">\r\n            <div class="col-md-2 col-md-offset-5">\r\n              <label>\r\n                <b>{{\'labelTotalImporte\'| translate}}:</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-5">\r\n              <label>{{documento.dePagomontopagado}}</label>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-2 col-md-offset-5">\r\n              <label>\r\n                <b>{{\'baseTotal\'| translate}} {{documento.vcTipocomprobante}} {{\'baseComprobanteElectronica\' | translate}}</b>\r\n                \x3c!-- <b>Total Factura Electrónica:</b> --\x3e\r\n              </label>\r\n            </div>\r\n            <div class="col-md-5">\r\n              <label>{{documento.deTotalcomprobantepago}}</label>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-2 col-md-offset-5">\r\n              <label>\r\n                <b>{{\'baseSon\' | translate}}:</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-5">\r\n              \x3c!-- <label>{{totalPagoPalabras | uppercase}}</label> --\x3e\r\n              <label>{{documento.vcMontocomprobantepago | uppercase}}</label>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <br>\r\n        </div>\r\n        <div class="row">\r\n          <div class="col-lg-8 col-md-12 col-sm-12 col-xs-12 col-lg-offset-6">\r\n            <div class=" col-xs-12 col-sm-6 col-md-3 col-lg-3 border">\r\n              <button name="btnregresar" type="button" class="btn btn-default btn-block" (click)="regresar()">Regresar\r\n              </button>\r\n            </div>\r\n            <div class=" col-xs-12 col-sm-6 col-md-3 col-lg-3 border">\r\n              <button type="btnEnviarCorreo" class="btn btn-default btn-block" (click)="enviarCorreo()"> {{\'enviarCorreo\' |\r\n                translate}}\r\n              </button>\r\n            </div>\r\n            \x3c!-- <div class="dropdown col-xs-12 col-sm-6 col-md-3 col-lg-3 border">\r\n              <button class="dropdown-toggle btn btn-default btn-block" data-toggle="dropdown"\r\n                      style="padding-left: 17px;">\r\n                {{\'descargar\' | translate}}\r\n                <b class="caret"></b>\r\n                <ul class="dropdown-menu">\r\n                  <li *ngFor="let archivo of tiposArchivos">\r\n                    <a (click)="guardarArchivo(archivo)">{{archivo.descripcion}}</a>\r\n                  </li>\r\n                </ul>\r\n              </button>\r\n            </div> --\x3e\r\n            <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3 border">\r\n              <button type="btnimprimir" class="btn btn-default btn-block" (click)="imprimir()"> {{\'imprimir\' | translate}}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-nota-credito-debito/comprobante-visualizar-nota-credito-debito.component.ts":function(e,o,r){"use strict";var a=r("./node_modules/@angular/core/@angular/core.es5.js"),t=r("./node_modules/@angular/router/@angular/router.es5.js"),n=r("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),c=r("./src/app/facturacion-electronica/general/services/comprobantes/comprobantes.service.ts"),i=r("./src/app/service/spinner.service.ts"),s=r("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),l=r("./src/app/facturacion-electronica/general/models/archivos/tipoArchivo.ts"),d=r("./src/app/facturacion-electronica/general/services/archivos/archivo.service.ts"),p=r("./src/app/facturacion-electronica/general/services/correo/correo.service.ts"),u=r("./node_modules/@ngx-translate/core/index.js"),b=r("./src/app/facturacion-electronica/general/pipes/precio.pipe.ts"),m=r("./src/app/facturacion-electronica/general/data-table/utils/columna-data-table.ts");r.d(o,"a",function(){return h});var v=this&&this.__decorate||function(e,o,r,a){var t,n=arguments.length,c=n<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,o,r,a);else for(var i=e.length-1;i>=0;i--)(t=e[i])&&(c=(n<3?t(c):n>3?t(o,r,c):t(o,r))||c);return n>3&&c&&Object.defineProperty(o,r,c),c},f=this&&this.__metadata||function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},h=function(){function e(e,o,r,a,t,n,c,i,s){this.route=e,this.router=o,this._comprobantesService=r,this._spinnerService=a,this._tiposService=t,this._archivoService=n,this._correoService=c,this._translateService=i,this._precioPipe=s,this.tiposArchivos=l.a,this.leerParametrosUrl()}return e.prototype.inicializarVariables=function(){this.tituloComprobante="",this.columnasTabla=[new m.a("codigo","vcCodigoProducto"),new m.a("descripcion","vcDescripcionitem",{"text-align":"left"}),new m.a("cantidad","deCantidaddespachada",{"text-align":"right"}),new m.a("unidadMedida","vcUnidadmedida"),new m.a("valorUnitario","dePreciounitarioitem",{"text-align":"right"}),new m.a("igv","nuSubtotalIgv",{"text-align":"right"}),new m.a("isc","nuSubtotalIsc",{"text-align":"right"}),new m.a("descuento","nuDescuento",{"text-align":"right"}),new m.a("valorVenta","dePreciototalitem",{"text-align":"right"})],this.ordenarPorElCampo="producto.vcCodigo",this.fechaEmision=new Date,this.formatoFechaEmision=this.obtenerFecha()},e.prototype.obtenerFecha=function(){var e=new Date,o=e.getDate(),r=e.getMonth()+1;return e.getFullYear()+"-"+this.ponerCeros(r,2)+r+"-"+this.ponerCeros(o,2)+o},e.prototype.ponerCeros=function(e,o){return"0".repeat(o-e.toString().length)},e.prototype.leerParametrosUrl=function(){var e=this;this.route.params.subscribe(function(o){e.comprobante=e._comprobantesService.buscarPorUuid(o.id),e._spinnerService.set(!0),e.comprobanteSubscription=e.comprobante.subscribe(function(o){o&&(e.inicializarVariables(),e.cargarData(),e._spinnerService.set(!1))},function(o){e._spinnerService.set(!1),e.regresar()})})},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.comprobanteSubscription.unsubscribe()},e.prototype.cargarData=function(){var e=this;this.comprobante.value.chIdtipocomprobante===this._tiposService.TIPO_DOCUMENTO_NOTA_CREDITO?(this.tituloComprobante="notaCreditoElectronica",this.tipoNotaTitulo="tipoNotaCredito"):(this.tituloComprobante="notaDebitoElectronica",this.tipoNotaTitulo="tipoNotaDebito");var o=this.comprobante.value.parametros.find(function(o){return o.auxCaracter===e.comprobante.value.chIdtipocomprobante});if(o){var r=JSON.parse(o.vcJson);this.tipoNotaComprobante=r.valor}var a=this.comprobante.value.deTotalcomprobantepago.toString().split(".");a[0],a[1]},e.prototype.iniciarDataTable=function(e){var o=this;this.comprobante.value.detalle.map(function(e){e.vcCodigoProducto=e.vcCodigoProducto?e.vcCodigoProducto:"-",e.vcDescripcionitem=e.vcDescripcionitem?e.vcDescripcionitem:"-",e.vcUnidadmedida=e.vcUnidadmedida?e.vcUnidadmedida:"-",e.deCantidaddespachada=o._precioPipe.transform(e.deCantidaddespachada),e.dePreciounitarioitem=o._precioPipe.transform(e.dePreciounitarioitem),e.nuSubtotalIgv=o._precioPipe.transform(e.nuSubtotalIgv),e.nuSubtotalIsc=o._precioPipe.transform(e.nuSubtotalIsc),e.nuDescuento=o._precioPipe.transform(e.nuDescuento),e.dePreciototalitem=o._precioPipe.transform(e.dePreciototalitem)}),this.dataTable.insertarData(this.comprobante.value.detalle)},e.prototype.regresar=function(){this.router.navigate(["../../../"],{relativeTo:this.route})},e.prototype.imprimir=function(){this._archivoService.retornarArchivoRetencionPercepcionbase(this.comprobante.value.inIdcomprobantepago).subscribe(function(e){if(e){var o='<embed width=100% height=100% type="application/pdf" src="data:application/pdf;base64,'+e+'"> </embed>';window.open("","PDF","dependent = yes, locationbar = no, menubar = yes, resizable, screenX = 50, screenY = 50, width = 800, height = 800").document.write(o)}})},e.prototype.enviarCorreo=function(){var e=this,o="";this._translateService.get("agregarCorreosElectronicos").take(1).subscribe(function(e){return o=e});var r="";this._translateService.get("correosElectronicos").take(1).subscribe(function(e){return r=e});var a="";this._translateService.get("mensajeRestriccionCorreosElectronicos").take(1).subscribe(function(e){return a=e});var t="";this._translateService.get("si").take(1).subscribe(function(e){return t=e});var n="";this._translateService.get("no").take(1).subscribe(function(e){return n=e}),swal({title:o,html:'<div class="form-group label-floating" xmlns="http://www.w3.org/1999/html"><label class="control-label">'+r+'<span class="star">*</span> </label><textarea id="correos" type="text" class="form-control"/></textarea> <label>'+a+"</label></div>",allowOutsideClick:!1,preConfirm:function(){return new Promise(function(e,o){setTimeout(function(){var r=!0,a=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,t=$("#correos").val();t=t.split(",");var n=t.filter(function(e){return!a.test(e)&&(r=!1,!0)});r?e(t):(swal.showValidationError(),o(new Error(n)))},500)})},showCancelButton:!0,confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",confirmButtonText:t,cancelButtonText:n,buttonsStyling:!1}).then(function(o){if(void 0!==e.comprobante){var r=e.comprobante.value.vcSerie,a=e.comprobante.value.vcCorrelativo,t=e.comprobante.value.vcTipocomprobante,n=e.comprobante.value.tsFechacreacion,c=e.comprobante.value.inIdcomprobantepago+"-1.pdf",i=e.comprobante.value.inIdcomprobantepago+"-2.xml";e._correoService.enviarNotificacion(o,t,r,a,n,c,i)}})},e.prototype.guardarArchivo=function(e){this._archivoService.descargararchivotipo(this.comprobante.value.inIdcomprobantepago,e.idArchivo)},e}();v([r.i(a.ViewChild)(n.a),f("design:type","function"==typeof(g=void 0!==n.a&&n.a)&&g||Object)],h.prototype,"dataTable",void 0),h=v([r.i(a.Component)({selector:"comprobante-visualizar-nota-credito-debito",template:r("./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-nota-credito-debito/comprobante-visualizar-nota-credito-debito.html"),styles:[r("./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-nota-credito-debito/comprobante-visualizar-nota-credito-debito.css")]}),f("design:paramtypes",["function"==typeof(y=void 0!==t.b&&t.b)&&y||Object,"function"==typeof(C=void 0!==t.c&&t.c)&&C||Object,"function"==typeof(_=void 0!==c.a&&c.a)&&_||Object,"function"==typeof(w=void 0!==i.a&&i.a)&&w||Object,"function"==typeof(D=void 0!==s.a&&s.a)&&D||Object,"function"==typeof(x=void 0!==d.a&&d.a)&&x||Object,"function"==typeof(O=void 0!==p.a&&p.a)&&O||Object,"function"==typeof(j=void 0!==u.c&&u.c)&&j||Object,"function"==typeof(T=void 0!==b.a&&b.a)&&T||Object])],h);var g,y,C,_,w,D,x,O,j,T},"./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-nota-credito-debito/comprobante-visualizar-nota-credito-debito.css":function(e,o,r){o=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1),o.push([e.i,"@media (min-width:992px){.border{padding-right:5px;padding-left:5px}}.center{text-align:center}.left{text-align:left}.borde-simple{border-style:solid;border-radius:2px;border-color:#aaa}.logoVisualizar{width:100%;height:45px;overflow:hidden;border-radius:5px;background-color:#fff;left:70px;z-index:5}.card img{max-width:100%;max-height:100%;width:auto;height:auto}",""]),e.exports=e.exports.toString()},"./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-nota-credito-debito/comprobante-visualizar-nota-credito-debito.html":function(e,o){e.exports='<div class="main-content">\r\n  <div class="container-fluid">\r\n    <div class="row col-md-12">\r\n      <div class="card">\r\n        <div class="card-header card-header-text" data-background-color="blue">\r\n          <h4 class="card-title">{{\'vistaPrevia\' | translate}}</h4>\r\n        </div>\r\n        <div class="card-content" *ngIf="(comprobante | async)">\r\n          \x3c!-- <div class="row">\r\n            <div class="col-md-4">\r\n              <label>\r\n                <h5>\r\n                  <b *ngIf="(comprobante | async).entidadproveedora">{{(comprobante | async).entidadproveedora.vcDenominacion}}</b>\r\n                </h5>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-4 col-md-offset-4">\r\n              <div class="row">\r\n                <div class="col-md-4">\r\n                  <label>\r\n                    <h4>\r\n                      <b>{{\'ruc\' | translate}}:</b>\r\n                    </h4>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-8">\r\n                  <label>\r\n                    <h5 *ngIf="(comprobante | async).entidadproveedora">{{(comprobante | async).entidadproveedora.vcDocumento}}</h5>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-4">\r\n              <label>\r\n                <h5>\r\n                  <b *ngIf="(comprobante | async).entidadproveedora">{{(comprobante | async).entidadproveedora.vcDirFiscal}}</b>\r\n                </h5>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-4 col-md-offset-4">\r\n              <label>\r\n                <h3>\r\n                  <b>{{tituloComprobante | translate | uppercase}}</b>\r\n                </h3>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class="row">\r\n            <div class="col-md-4 col-md-offset-8">\r\n              <div class="row">\r\n                <div class="col-md-12">\r\n                  <label>\r\n                    <h3>{{(comprobante | async).serieCorrelativo}}</h3>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div> --\x3e\r\n\r\n          <div class="row">\r\n            <div class="col-md-4 left">\r\n                  \x3c!-- <div class="logoVisualizar">\r\n                    <img src="{{urlLogo}}">\r\n                  </div> --\x3e\r\n              <label>\r\n                <b *ngIf="(comprobante | async).entidadproveedora">{{(comprobante | async).entidadproveedora.vcDenominacion}}</b>\r\n              </label>\r\n              <br>\r\n              <label>\r\n                <b *ngIf="(comprobante | async).entidadproveedora">{{(comprobante | async).entidadproveedora.vcDirFiscal}}</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-4 col-md-offset-4 center">\r\n              <div class="col-md-12 borde-simple">\r\n                <label>\r\n                  <b *ngIf="(comprobante | async).entidadproveedora">{{\'rucNumero\'| translate}}: {{(comprobante | async).entidadproveedora.vcDocumento}}</b>\r\n                </label>\r\n                <br>\r\n                <label>\r\n                  <b>{{tituloComprobante | translate | uppercase}}</b>\r\n                  \x3c!-- <b>{{documento.vcTipocomprobante | uppercase}} {{\'baseComprobanteElectronica\' | translate | uppercase}}</b> --\x3e\r\n                </label>\r\n                <br>\r\n                <label>\r\n                    <b>{{(comprobante | async).serieCorrelativo}}</b>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <br>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'seniorSeniors\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label *ngIf="(comprobante | async).entidadcompradora">{{(comprobante | async).entidadcompradora.vcDenominacion}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'ruc\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label *ngIf="(comprobante | async).entidadcompradora">{{(comprobante | async).entidadcompradora.vcDocumento}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'domicilioFiscal\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label *ngIf="(comprobante | async).entidadcompradora">{{(comprobante | async).entidadcompradora.vcDirFiscal}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'fechaEmision\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{formatoFechaEmision}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'tipoMoneda\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{(comprobante | async).chMonedacomprobantepago}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{tipoNotaTitulo | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{tipoNotaComprobante | uppercase}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'motivoSustento\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{(comprobante | async).motivoComprobante}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <app-data-table\r\n            #tablaVistaPrevia\r\n            (iniciarData)="iniciarDataTable($event)"\r\n            [idTabla]="\'tablaVistaPrevia\'"\r\n            [columnas]="columnasTabla"\r\n            [ordenarPorElCampo]="ordenarPorElCampo"\r\n          ></app-data-table>\r\n          <br>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'observaciones\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{(comprobante | async).vcObscomprobantepago}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class="row">\r\n            <div class="col-md-2 col-md-offset-5">\r\n              <label>\r\n                <b>{{\'importeTotal\' | translate}}:</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-5">\r\n              <label>{{(comprobante | async).deTotalcomprobantepago | number : \'1.2-2\'}}</label>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-2 col-md-offset-5">\r\n              <label>\r\n                <b>{{\'montoEnLetras\' | translate}}:</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-5">\r\n              <label>{{(comprobante | async).vcMontocomprobantepago | uppercase}}</label>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <br>\r\n        </div>\r\n        <div class="row">\r\n          <div class="col-lg-8 col-md-12 col-sm-12 col-xs-12 col-lg-offset-4">\r\n            <div class=" col-xs-12 col-sm-6 col-md-3 col-lg-3 border">\r\n              <button name="btnregresar" type="button" class="btn btn-default btn-block" (click)="regresar()">Regresar\r\n              </button>\r\n            </div>\r\n            <div class=" col-xs-12 col-sm-6 col-md-3 col-lg-3 border">\r\n              <button type="btnEnviarCorreo" class="btn btn-default btn-block" (click)="enviarCorreo()"> {{\'enviarCorreo\' |\r\n                translate}}\r\n              </button>\r\n            </div>\r\n            <div class="dropdown col-xs-12 col-sm-6 col-md-3 col-lg-3 border">\r\n              <button class="dropdown-toggle btn btn-default btn-block" data-toggle="dropdown"\r\n                      style="padding-left: 17px;">\r\n                {{\'descargar\' | translate}}\r\n                <b class="caret"></b>\r\n                <ul class="dropdown-menu">\r\n                  <li *ngFor="let archivo of tiposArchivos">\r\n                    <a (click)="guardarArchivo(archivo)">{{archivo.descripcion}}</a>\r\n                  </li>\r\n                </ul>\r\n              </button>\r\n            </div>\r\n            <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3 border">\r\n              <button type="btnimprimir" class="btn btn-default btn-block" (click)="imprimir()"> Imprimir</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar.module.ts":function(e,o,r){"use strict";var a=r("./node_modules/@angular/core/@angular/core.es5.js"),t=r("./node_modules/@angular/common/@angular/common.es5.js"),n=r("./node_modules/@angular/forms/@angular/forms.es5.js"),c=r("./src/app/facturacion-electronica/general/services/archivos/archivo.service.ts"),i=r("./src/app/directives/datepicker.module.ts"),s=r("./src/app/facturacion-electronica/general/data-table/data-table.module.ts"),l=r("./src/app/facturacion-electronica/general/directivas/directivas.module.ts"),d=r("./node_modules/ng2-auto-complete/dist/index.js"),p=(r.n(d),r("./node_modules/ng2-completer/index.js")),u=r("./node_modules/@ngx-translate/core/index.js"),b=r("./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-boleta-factura/comprobante-visualizar-boleta-factura.component.ts"),m=r("./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobantes-visualizar.ts"),v=r("./src/app/facturacion-electronica/general/services/servidores.ts"),f=r("./src/app/facturacion-electronica/comprobantes/services/persistencia.service.ts"),h=r("./src/app/facturacion-electronica/general/services/comprobantes/documentoQuery.service.ts"),g=r("./src/app/facturacion-electronica/percepcion-retencion/services/percepcion-retencion-referencias.service.ts"),y=r("./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-nota-credito-debito/comprobante-visualizar-nota-credito-debito.component.ts"),C=r("./src/app/facturacion-electronica/general/services/comprobantes/comprobantes.service.ts"),_=r("./node_modules/@angular/common/@angular/common/http.es5.js"),w=r("./src/app/facturacion-electronica/general/services/tokenInterceptor.service.ts");r.d(o,"a",function(){return x});var D=this&&this.__decorate||function(e,o,r,a){var t,n=arguments.length,c=n<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,o,r,a);else for(var i=e.length-1;i>=0;i--)(t=e[i])&&(c=(n<3?t(c):n>3?t(o,r,c):t(o,r))||c);return n>3&&c&&Object.defineProperty(o,r,c),c},x=function(){function e(){}return e}();x=D([r.i(a.NgModule)({imports:[t.CommonModule,n.ReactiveFormsModule,i.a,s.a,u.a,p.a,d.Ng2AutoCompleteModule,l.a],declarations:[b.a,m.a,y.a],exports:[b.a,m.a,y.a],providers:[c.a,h.a,C.a,f.a,v.a,g.a,{provide:_.c,useClass:w.a,multi:!0}]})],x)},"./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobantes-visualizar.ts":function(e,o,r){"use strict";var a=r("./node_modules/@angular/core/@angular/core.es5.js");r.d(o,"a",function(){return c});var t=this&&this.__decorate||function(e,o,r,a){var t,n=arguments.length,c=n<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,o,r,a);else for(var i=e.length-1;i>=0;i--)(t=e[i])&&(c=(n<3?t(c):n>3?t(o,r,c):t(o,r))||c);return n>3&&c&&Object.defineProperty(o,r,c),c},n=this&&this.__metadata||function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},c=function(){function e(){}return e}();c=t([r.i(a.Component)({selector:"comprobante-visualizar",template:""}),n("design:paramtypes",[])],c)},"./src/app/facturacion-electronica/comprobantes/comprobantes.component.css":function(e,o,r){o=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1),o.push([e.i,"",""]),e.exports=e.exports.toString()},"./src/app/facturacion-electronica/comprobantes/comprobantes.component.html":function(e,o){e.exports='<div class="main-content">\r\n  <div class="container-fluid">\r\n    <div class="row">\r\n      <div class="col-sm-12">\r\n        <div class="card">\r\n          <div class="card-header card-header-text" data-background-color="blue">\r\n            <h4 class="card-title">{{titulo | translate}}</h4>\r\n          </div>\r\n          <div class="card-content">\r\n            <div class="row">\r\n              <div class="col-xs-12 col-sm-3 col-md-3 col-lg-2">\r\n                <select name="cmbTiposComprobante" class="form-control" (change)="cargarComprobante()" [(ngModel)]="comprobanteSeleccionadoValor" [disabled]="!(mostrarCombo | async)">\r\n                  <option *ngFor="let tipoComprobante of tiposDeComprobante | async" [ngValue]="tipoComprobante"> {{tipoComprobante.descripcionLarga | translate}} </option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <router-outlet></router-outlet>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/comprobantes/comprobantes.component.ts":function(e,o,r){"use strict";var a=r("./node_modules/@angular/core/@angular/core.es5.js"),t=r("./node_modules/@angular/router/@angular/router.es5.js"),n=r("./src/app/facturacion-electronica/comprobantes/services/padre-comprobante.service.ts"),c=r("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),i=r("./src/app/facturacion-electronica/comprobantes/services/persistencia.service.ts");r.d(o,"a",function(){return d});var s=this&&this.__decorate||function(e,o,r,a){var t,n=arguments.length,c=n<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,o,r,a);else for(var i=e.length-1;i>=0;i--)(t=e[i])&&(c=(n<3?t(c):n>3?t(o,r,c):t(o,r))||c);return n>3&&c&&Object.defineProperty(o,r,c),c},l=this&&this.__metadata||function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},d=function(){function e(e,o,r,a,t){this.router=e,this.route=o,this._tiposService=r,this.padreComprobanteService=a,this._persistenciaService=t,this.titulo="crearComprobantes"}return e.prototype.ngOnInit=function(){this.cargarDataRutaComponente()},e.prototype.actualizarComprobante=function(){var e=this;this.comprobanteSeleccinadoSubscription=this.padreComprobanteService.comprobanteSeleccionado.subscribe(function(o){o&&(e.comprobanteSeleccionadoValor=o,e.padreComprobanteService.soloCambiarMostrarCombo||e.navegarHacia(e.comprobanteSeleccionadoValor))})},e.prototype.ngOnDestroy=function(){this.comprobanteSeleccinadoSubscription.unsubscribe()},e.prototype.cargarDataRutaComponente=function(){this.tiposDeComprobante=this.padreComprobanteService.tiposDeComprobantes,this.mostrarCombo=this.padreComprobanteService.mostrarCombo,this.actualizarComprobante()},e.prototype.cargarComprobante=function(){this._persistenciaService.removePersistencias(),this.navegarHacia(this.comprobanteSeleccionadoValor)},e.prototype.navegarHacia=function(e){var o="";switch(e.codigo){case this._tiposService.TIPO_DOCUMENTO_FACTURA:o="factura";break;case this._tiposService.TIPO_DOCUMENTO_BOLETA:o="boleta"}this.router.navigate([o+"/crear"],{relativeTo:this.route})},e}();d=s([r.i(a.Component)({selector:"app-comprobantes",template:r("./src/app/facturacion-electronica/comprobantes/comprobantes.component.html"),styles:[r("./src/app/facturacion-electronica/comprobantes/comprobantes.component.css")]}),l("design:paramtypes",["function"==typeof(p=void 0!==t.c&&t.c)&&p||Object,"function"==typeof(u=void 0!==t.b&&t.b)&&u||Object,"function"==typeof(b=void 0!==c.a&&c.a)&&b||Object,"function"==typeof(m=void 0!==n.a&&n.a)&&m||Object,"function"==typeof(v=void 0!==i.a&&i.a)&&v||Object])],d);var p,u,b,m,v},"./src/app/facturacion-electronica/comprobantes/comprobantes.module.ts":function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=r("./node_modules/@angular/core/@angular/core.es5.js"),t=r("./node_modules/@angular/common/@angular/common.es5.js"),n=r("./src/app/facturacion-electronica/comprobantes/comprobantes.routing.module.ts"),c=r("./src/app/facturacion-electronica/comprobantes/comprobantes.component.ts"),i=r("./node_modules/@angular/forms/@angular/forms.es5.js"),s=r("./node_modules/@angular/http/@angular/http.es5.js"),l=r("./node_modules/@angular/common/@angular/common/http.es5.js"),d=r("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),p=r("./src/app/facturacion-electronica/general/utils/rutas.service.ts"),u=r("./src/app/facturacion-electronica/comprobantes/general/productos-comprobante.service.ts"),b=r("./src/app/facturacion-electronica/comprobantes/services/comprobante.productos.service.ts"),m=r("./src/app/directives/datepicker.module.ts"),v=r("./src/app/facturacion-electronica/general/utils/constantes.service.ts"),f=r("./src/app/facturacion-electronica/general/consulta/consulta.module.ts"),h=r("./src/app/facturacion-electronica/comprobantes/services/persistencia.service.ts"),g=r("./node_modules/@ngx-translate/core/index.js"),y=r("./src/app/facturacion-electronica/general/services/organizacion/entidad.service.ts"),C=r("./src/app/facturacion-electronica/general/services/documento/tablaMaestra.service.ts"),_=r("./src/app/facturacion-electronica/general/services/configuracionDocumento/parametros.service.ts"),w=r("./src/app/facturacion-electronica/general/services/configuracionDocumento/tipoPrecioVenta.service.ts"),D=r("./src/app/facturacion-electronica/general/services/configuracionDocumento/tipoCalculoIsc.service.ts"),x=r("./src/app/facturacion-electronica/general/services/configuracionDocumento/tipoAfectacionIgv.service.ts"),O=r("./src/app/facturacion-electronica/general/directivas/directivas.module.ts"),j=r("./src/app/facturacion-electronica/general/utils/catalogo-igv.service.ts"),T=r("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia-post.ts"),S=r("./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar.module.ts"),P=r("./src/app/facturacion-electronica/comprobantes/services/padre-comprobante.service.ts"),I=r("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia.entidad.service.ts");r.d(o,"ComprobantesModule",function(){return N});var R=this&&this.__decorate||function(e,o,r,a){var t,n=arguments.length,c=n<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,o,r,a);else for(var i=e.length-1;i>=0;i--)(t=e[i])&&(c=(n<3?t(c):n>3?t(o,r,c):t(o,r))||c);return n>3&&c&&Object.defineProperty(o,r,c),c},N=function(){function e(){}return e}();N=R([r.i(a.NgModule)({imports:[t.CommonModule,n.a,i.FormsModule,s.HttpModule,i.ReactiveFormsModule,l.a,m.a,f.a,g.a,O.a,S.a],declarations:[c.a],providers:[d.a,v.a,p.a,u.a,b.a,h.a,y.a,C.a,_.a,w.a,D.a,x.a,j.a,T.a,P.a,I.a]})],N)},"./src/app/facturacion-electronica/comprobantes/comprobantes.routing.module.ts":function(e,o,r){"use strict";var a=r("./node_modules/@angular/core/@angular/core.es5.js"),t=r("./node_modules/@angular/router/@angular/router.es5.js"),n=r("./src/app/facturacion-electronica/comprobantes/comprobantes.component.ts"),c=r("./src/app/facturacion-electronica/general/consulta/consulta.component.ts"),i=r("./src/app/facturacion-electronica/comprobantes/comprobante-vista-previa/comprobante-vista-previa.component.ts"),s=r("./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-boleta-factura/comprobante-visualizar-boleta-factura.component.ts"),l=r("./src/app/facturacion-electronica/comprobantes/comprobantes-visualizar/comprobante-visualizar-nota-credito-debito/comprobante-visualizar-nota-credito-debito.component.ts");r.d(o,"a",function(){return u});var d=this&&this.__decorate||function(e,o,r,a){var t,n=arguments.length,c=n<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,o,r,a);else for(var i=e.length-1;i>=0;i--)(t=e[i])&&(c=(n<3?t(c):n>3?t(o,r,c):t(o,r))||c);return n>3&&c&&Object.defineProperty(o,r,c),c},p=[{path:"",component:n.a,children:[{path:"",pathMatch:"full",redirectTo:"factura"},{path:"factura",loadChildren:"../comprobantes/factura/factura.module#FacturaModule"},{path:"boleta",loadChildren:"./boleta/boleta.module#BoletaModule"},{path:"notaCredito",loadChildren:"./nota-credito/nota-credito.module#NotaCreditoModule"},{path:"notaDebito",loadChildren:"./nota-debito/nota-debito.module#NotaDebitoModule"}]},{path:"consultar",component:c.a,data:{titulo:"consultarComprobante",tipoConsulta:1}},{path:"consultar/vistaprevia/:id",component:i.a,data:{tipoAccion:1}},{path:"consultar/visualizar/factura/:id",component:s.a,data:{tipoComprobante:1}},{path:"consultar/visualizar/boleta/:id",component:s.a,data:{tipoComprobante:2}},{path:"consultar/visualizar/notaCredito/:id",component:l.a,data:{tipoComprobante:"07"}},{path:"consultar/visualizar/notaDebito/:id",component:l.a,data:{tipoComprobante:"08"}}],u=function(){function e(){}return e}();u=d([r.i(a.NgModule)({imports:[t.a.forChild(p)],exports:[t.a]})],u)},"./src/app/facturacion-electronica/comprobantes/services/comprobante.productos.service.ts":function(e,o,r){"use strict";var a=r("./node_modules/@angular/core/@angular/core.es5.js"),t=r("./node_modules/@angular/common/@angular/common/http.es5.js"),n=r("./node_modules/rxjs/Rx.js"),c=(r.n(n),r("./node_modules/rxjs/BehaviorSubject.js"));r.n(c);r.d(o,"a",function(){return l});var i=this&&this.__decorate||function(e,o,r,a){var t,n=arguments.length,c=n<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,o,r,a);else for(var i=e.length-1;i>=0;i--)(t=e[i])&&(c=(n<3?t(c):n>3?t(o,r,c):t(o,r))||c);return n>3&&c&&Object.defineProperty(o,r,c),c},s=this&&this.__metadata||function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},l=function(){function e(e){this.httpClient=e,this.urlUnidadMedida="https://facturacion-cb377.firebaseio.com/unidadMedida.json",this.urlTipoPrecioVenta="https://facturacion-cb377.firebaseio.com/tipoPrecioVentaUnitario.json",this.urlCalculoIsc="https://facturacion-cb377.firebaseio.com/isc.json",this.urlIgv="https://facturacion-cb377.firebaseio.com/igv.json",this.unidadMedidaChanged=new c.BehaviorSubject([]),this.tipoPrecioVentaChanged=new c.BehaviorSubject([]),this.calculoIscChanged=new c.BehaviorSubject([]),this.igvChanged=new c.BehaviorSubject([]),this.getUnidadMedida(),this.getTipoPrecioVenta(),this.getCalculoIsc(),this.getIgv()}return e.prototype.getUnidadMedida=function(){var e=this;this.getTipos(this.urlUnidadMedida).subscribe(function(o){e.unidadMedida=o,e.unidadMedidaChanged.next(o.slice())})},e.prototype.getTipoPrecioVenta=function(){var e=this;this.getTipos(this.urlTipoPrecioVenta).subscribe(function(o){e.tipoPrecioVenta=o,e.tipoPrecioVentaChanged.next(o.slice())})},e.prototype.getCalculoIsc=function(){var e=this;this.getTipos(this.urlCalculoIsc).subscribe(function(o){e.calculoIsc=o,e.calculoIscChanged.next(o.slice())})},e.prototype.getIgv=function(){var e=this;this.getTipos(this.urlIgv).subscribe(function(o){e.igv=o,e.igvChanged.next(o.slice())})},e.prototype.getTipos=function(e){return this.httpClient.get(e,{observe:"body",responseType:"json"}).map(function(e){return e})},e}();l=i([r.i(a.Injectable)(),s("design:paramtypes",["function"==typeof(d=void 0!==t.b&&t.b)&&d||Object])],l);var d}});