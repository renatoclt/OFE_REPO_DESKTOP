webpackJsonp([8],{"./src/app/facturacion-electronica/general/models/sincronizacion/boletaErpDTO.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o});var i=(function(){function t(){}}(),function(){function t(){}return t}()),n=function(){function t(){}return t}(),o=function(){function t(){}return t}();!function(){function t(){}}()},"./src/app/facturacion-electronica/general/models/sincronizacion/facturaErpDTO.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o});var i=(function(){function t(){}}(),function(){function t(){}return t}()),n=function(){function t(){}return t}(),o=function(){function t(){}return t}();!function(){function t(){}}()},"./src/app/facturacion-electronica/general/models/sincronizacion/percepcionErpDTO.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o});var i=(function(){function t(){}}(),function(){function t(){}return t}()),n=function(){function t(){}return t}(),o=function(){function t(){}return t}();!function(){function t(){}}()},"./src/app/facturacion-electronica/general/services/sincronizacion/SincronizacionRetenciones.ts":function(t,e,r){"use strict";var i=r("./node_modules/@angular/core/@angular/core.es5.js"),n=r("./src/app/service/login.service.ts"),o=r("./src/app/facturacion-electronica/general/services/servidores.ts"),a=r("./node_modules/@angular/common/@angular/common/http.es5.js"),s=r("./src/app/facturacion-electronica/general/models/sincronizacion/retencionErpDTO.ts");r.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,r){this.loginService=t,this.servidores=e,this.httpClient=r,this.url="",this.hostLocal=this.servidores.HOSTLOCAL,this.urlObtenerRetencionesLocales="/sincronizacionRetencion",this.urlEnviarRetencion="/api/retencion",this.urlActualizarRetencion="/sincronizacionRetencion/actualizarSincronizacion",this.urlActualizarRetencionErronea="/sincronizacionRetencion/actualizarSincronizacionErronea",this.urlActualizarEstadoComprobante="/sincronizacionRetencion/actualizarEstadoComprobante",this.urlObtenerComprobante="/documento",this.urlActualizarComprobanteLocal="/sincronizacionRetencion/urlActualizarComprobanteLocal",this.urlObtenerRetenciones="/documento/query",this.urlSincronizacionRetentecion="/sincronizacionRetencion",this.urlActualizarFecha="/sincronizacionRetencion/actualizarFecha",this.urlObtenerRetencionesBajas="/sincronizacionRetencion/obtenerComunicacionBaja",this.urlEnviarRetencionesBaja="/comunicacionesDeBaja",this.urlActualizarErrorRetencionBaja="/sincronizacionRetencion/actualizarErrorBaja",this.urlActualizarRetencionBaja="/sincronizacionRetencion/actualizarBaja"}return t.prototype.tokenNuevo=function(){return this.loginService.login(localStorage.getItem("username"),localStorage.getItem("passwordActual"))},t.prototype.actualizarToken=function(t){localStorage.setItem("access_token",t.access_token);var e=new Date((new Date).getTime()+864e5);e.setDate(e.getDate()+1),localStorage.setItem("expires",e.getTime().toString()),localStorage.setItem("expires_in",t.expires_in)},t.prototype.obtenerRetencionesCreadas=function(){var t=this;this.url=this.hostLocal+this.urlObtenerRetencionesLocales;var e=new a.d;return this.httpClient.get(this.url,{params:e}).map(function(e){return e.map(function(e){t.convertirSincronizacionLongToDate(e)}),e})},t.prototype.enviarRetencionesCreadas=function(t){new a.d;return this.url=this.servidores.DOCUCMD+this.urlEnviarRetencion,this.httpClient.post(this.url,t,{headers:this.getCabezera()})},t.prototype.getCabezera=function(){var t=JSON.parse(localStorage.getItem("usuarioActual")),e=localStorage.getItem("access_token"),r=(localStorage.getItem("Ocp_Apim_Subscription_Key"),t.tipo_empresa),i=t.org_id;return(new a.e).set("Authorization","Bearer "+e).set("Content-Type","application/json").set("Accept","application/json").set("Ocp-Apim-Subscription-Key","07a12d074c714f62ab037bb2f88e30d3").set("origen_datos","PEB2M").set("tipo_empresa",r).set("origin","http://localhost:4200").set("org_id",i)},t.prototype.convertirSincronizacionLongToDate=function(t){t.fechaEmision=Number(new Date(t.fechaEmision)),t.facturasAfectadas.map(function(t){t.fechaEmision=Number(new Date(t.fechaEmision))})},t.prototype.actualizarEstadoSincronizacionRetencion=function(t){var e=new s.b;return e.id=t,this.url=this.hostLocal+this.urlActualizarRetencion,this.httpClient.post(this.url,e)},t.prototype.actualizarErrorRetencion=function(t,e){var r=new s.c;r.id=t;var i="";return e.error.errors.forEach(function(t){i=i+t+". "}),r.error=i,this.url=this.hostLocal+this.urlActualizarRetencionErronea,console.log(r),this.httpClient.post(this.url,r)},t.prototype.obtenerRetencionesPendientes=function(){var t=new a.d;return this.url=this.hostLocal+this.urlActualizarEstadoComprobante,this.httpClient.get(this.url,{params:t})},t.prototype.obtenerRetencion=function(t){var e=(new a.d).set("id",t);return this.url=this.servidores.DOCUQRY+this.urlObtenerComprobante,this.httpClient.get(this.url,{params:e,responseType:"text/plain",headers:this.getCabezera()})},t.prototype.guardarRetencionPendientes=function(t){var e=new s.a;return e.id=t.inIdcomprobantepago,e.chEstadocomprobantepago=t.chEstadocomprobantepago,e.chEstadocomprobantepagocomp=t.chEstadocomprobantepagocomp,e.eventos=t.eventos,this.url=this.hostLocal+this.urlActualizarComprobanteLocal,this.httpClient.post(this.url,e)},t.prototype.descargarRetenciones=function(t){console.log(t);var e=t.split("-"),r=Number(new Date(new Date(e[2],e[1]-1,e[0])));console.log(r);var i=Number(new Date),n=(new a.d).set("idEntidadEmisora",localStorage.getItem("id_entidad")).set("tipoComprobanteTabla","10007").set("tipoComprobanteRegistro","20").set("fechaEmisionDel",r.toString()).set("fechaEmisionAl",i.toString()).set("tipoDocumento","").set("nroDocumento","").set("ticket","").set("estado","").set("nroSerie","").set("correlativoInicial","").set("correlativoFinal","").set("nroPagina","0").set("regXPagina","10").set("ordenar","tsFechaemision").set("fechaBajaAl","").set("fechaBajaDel","").set("ticketBaja","").set("seriecorrelativo","").set("ticketResumen","").set("anticipo","N");return this.url=this.servidores.DOCUQRY+this.urlObtenerRetenciones,this.httpClient.get(this.url,{params:n,headers:this.getCabezera()})},t.prototype.descargarRetencionesPagina=function(t,e){var r=e.split("-"),i=Number(new Date(new Date(r[2],r[1]-1,r[0]))),n=Number(new Date),o=(new a.d).set("idEntidadEmisora",localStorage.getItem("id_entidad")).set("tipoComprobanteTabla","10007").set("tipoComprobanteRegistro","20").set("fechaEmisionDel",i.toString()).set("fechaEmisionAl",n.toString()).set("tipoDocumento","").set("nroDocumento","").set("ticket","").set("estado","").set("nroSerie","").set("correlativoInicial","").set("correlativoFinal","").set("nroPagina",t.toString()).set("regXPagina","10").set("ordenar","tsFechaemision").set("fechaBajaAl","").set("fechaBajaDel","").set("ticketBaja","").set("seriecorrelativo","").set("ticketResumen","").set("anticipo","N");return this.url=this.servidores.DOCUQRY+this.urlObtenerRetenciones,this.httpClient.get(this.url,{params:o,headers:this.getCabezera()})},t.prototype.guardarRetencionDescargada=function(t){return this.url=this.hostLocal+this.urlSincronizacionRetentecion,this.httpClient.post(this.url,t)},t.prototype.actualizarFechaDescarga=function(t){return this.url=this.hostLocal+this.urlActualizarFecha,this.httpClient.post(this.url,{fecha:t})},t.prototype.obtenerRetencionBajas=function(){this.url=this.hostLocal+this.urlObtenerRetencionesBajas;var t=new a.d;return this.httpClient.get(this.url,{params:t})},t.prototype.enviarRetencionBaja=function(t){new a.d;return this.url=this.servidores.DOCUCMD+this.urlEnviarRetencionesBaja,this.httpClient.post(this.url,t,{headers:this.getCabezera()})},t.prototype.actualizarErrorRetencionBaja=function(t){this.url=this.hostLocal+this.urlActualizarErrorRetencionBaja;var e=new a.e;return this.httpClient.post(this.url,{id:t},{headers:e})},t.prototype.actualizarRetencionBaja=function(t,e){return this.url=this.hostLocal+this.urlActualizarRetencionBaja,this.httpClient.post(this.url,{id:t,numeroDocumento:e})},t}();l=c([r.i(i.Injectable)(),u("design:paramtypes",["function"==typeof(p=void 0!==n.a&&n.a)&&p||Object,"function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(d=void 0!==a.b&&a.b)&&d||Object])],l);var p,h,d},"./src/app/facturacion-electronica/general/services/sincronizacion/parametros.service.ts":function(t,e,r){"use strict";var i=r("./node_modules/@angular/core/@angular/core.es5.js"),n=r("./node_modules/@angular/common/@angular/common/http.es5.js"),o=r("./node_modules/rxjs/BehaviorSubject.js"),a=(r.n(o),r("./src/app/facturacion-electronica/general/services/servidores.ts")),s=r("./node_modules/angular-persistence/index.js");r.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,r){this.httpClient=t,this.persistenceService=e,this.servidores=r,this.urlParametros=r.PARMQRY,this.urlTiposCalculo="http://localhost:3000/v1/sincronizacion/tipoCalcIsc",this.urlMac="http://localhost:3000/v1/sincronizacion/consultarMac"}return t.prototype.buscarParametros=function(){var t=new o.BehaviorSubject({});return this.httpClient.get(this.urlParametros).subscribe(function(e){t.next(e)}),t},t.prototype.obtenerTipoCalculo=function(t){var e=new o.BehaviorSubject([]);return this.httpClient.get(t).map(function(t){return t._embedded.tipoCalculoIscRedises}).subscribe(function(t){e.next(t)}),e},t.prototype.guardarTipoCalculo=function(t){var e="",r=JSON.stringify(t);return this.httpClient.post(this.urlTiposCalculo,r).subscribe(function(t){console.log(t),e="se registraron los tipos de calculo obtenidos"},function(t){console.log(t),e="Error, no se pudo registrar los tipos de calculo"}),e},t}();l=c([r.i(i.Injectable)(),u("design:paramtypes",["function"==typeof(p=void 0!==n.b&&n.b)&&p||Object,"function"==typeof(h=void 0!==s.c&&s.c)&&h||Object,"function"==typeof(d=void 0!==a.a&&a.a)&&d||Object])],l);var p,h,d},"./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacionBoleta.ts":function(t,e,r){"use strict";var i=r("./node_modules/@angular/core/@angular/core.es5.js"),n=r("./src/app/service/login.service.ts"),o=r("./src/app/facturacion-electronica/general/services/servidores.ts"),a=r("./node_modules/@angular/common/@angular/common/http.es5.js"),s=r("./src/app/facturacion-electronica/general/models/sincronizacion/boletaErpDTO.ts");r.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,r){this.loginService=t,this.servidores=e,this.httpClient=r,this.url="",this.hostLocal=this.servidores.HOSTLOCAL,this.urlObtenerBoletasLocales="/sincronizacionBoletas",this.urlEnviarBoleta="/api/boleta",this.urlActualizarBoleta="/sincronizacionBoletas/actualizarSincronizacion",this.urlActualizarBoletaErronea="/sincronizacionBoletas/actualizarSincronizacionErronea",this.urlActualizarEstadoComprobante="/sincronizacionBoletas/actualizarEstadoComprobante",this.urlObtenerComprobante="/documento",this.urlActualizarComprobanteLocal="/sincronizacionBoletas/urlActualizarComprobanteLocal",this.urlObtenerBoletas="/documento/query",this.urlSincronizacionBoleta="/sincronizacionBoletas",this.urlActualizarFecha="/sincronizacionBoletas/actualizarFecha",this.urlObtenerBoletasBajas="/sincronizacionBoletas/obtenerComunicacionBaja",this.urlEnviarBoletasBaja="/comunicacionesDeBaja",this.urlActualizarErrorBoletaBaja="/sincronizacionBoletas/actualizarErrorBaja",this.urlActualizarBoletaBaja="/sincronizacionBoletas/actualizarBaja"}return t.prototype.tokenNuevo=function(){return this.loginService.login(localStorage.getItem("username"),localStorage.getItem("passwordActual"))},t.prototype.actualizarToken=function(t){localStorage.setItem("access_token",t.access_token);var e=new Date((new Date).getTime()+864e5);e.setDate(e.getDate()+1),localStorage.setItem("expires",e.getTime().toString()),localStorage.setItem("expires_in",t.expires_in)},t.prototype.obtenerBoletasCreadas=function(){this.url=this.hostLocal+this.urlObtenerBoletasLocales;var t=new a.d;return this.httpClient.get(this.url,{params:t}).map(function(t){return t})},t.prototype.enviarBoletasCreadas=function(t){var e=JSON.parse(localStorage.getItem("usuarioActual")),r=e.org_id,i=(new a.e).set("Content-Type","application/json").set("Accept","application/json").set("origen_datos","PEB2M").set("Authorization","Bearer "+localStorage.getItem("access_token")).set("tipo_empresa",localStorage.getItem("tipo_empresa")).set("org_id",r).set("Ocp-Apim-Subscription-Key",localStorage.getItem("Ocp_Apim_Subscription_Key"));new a.d;return this.url=this.servidores.DOCUCMD+this.urlEnviarBoleta,this.httpClient.post(this.url,t,{headers:i})},t.prototype.convertirSincronizacionLongToDate=function(t){t.fechaEmision=Number(new Date(t.fechaEmision)),t.boletasAfectadas.map(function(t){t.fechaEmision=Number(new Date(t.fechaEmision))})},t.prototype.actualizarEstadoSincronizacionBoleta=function(t){var e=new s.a;return e.id=t,this.url=this.hostLocal+this.urlActualizarBoleta,this.httpClient.post(this.url,e)},t.prototype.actualizarErrorBoleta=function(t,e){var r=new s.b;r.id=t;var i="";return e.error.errors.forEach(function(t){i=i+t+". "}),r.error=i,this.url=this.hostLocal+this.urlActualizarBoletaErronea,console.log(r),this.httpClient.post(this.url,r)},t.prototype.obtenerBoletasPendientes=function(){var t=new a.d;return this.url=this.hostLocal+this.urlActualizarEstadoComprobante,this.httpClient.get(this.url,{params:t})},t.prototype.obtenerBoleta=function(t){var e=(new a.d).set("id",t);return this.url=this.servidores.DOCUQRY+this.urlObtenerComprobante,this.httpClient.get(this.url,{params:e,responseType:"text/plain",headers:this.getCabezera()})},t.prototype.guardarBoletaPendientes=function(t){var e=new s.c;return e.id=t.inIdcomprobantepago,e.chEstadocomprobantepago=t.chEstadocomprobantepago,e.chEstadocomprobantepagocomp=t.chEstadocomprobantepagocomp,e.eventos=t.eventos,this.url=this.hostLocal+this.urlActualizarComprobanteLocal,this.httpClient.post(this.url,e)},t.prototype.descargarBoletas=function(t){console.log(t);var e=t.split("-"),r=Number(new Date(new Date(e[2],e[1]-1,e[0])));console.log(r);var i=Number(new Date),n=(new a.d).set("idEntidadEmisora",localStorage.getItem("id_entidad")).set("tipoComprobanteTabla","10007").set("tipoComprobanteRegistro","03").set("fechaEmisionDel",r.toString()).set("fechaEmisionAl",i.toString()).set("tipoDocumento","").set("nroDocumento","").set("ticket","").set("estado","").set("nroSerie","").set("correlativoInicial","").set("correlativoFinal","").set("nroPagina","0").set("regXPagina","10").set("ordenar","tsFechaemision").set("fechaBajaAl","").set("fechaBajaDel","").set("ticketBaja","").set("seriecorrelativo","").set("ticketResumen","").set("anticipo","N");return this.url=this.servidores.DOCUQRY+this.urlObtenerBoletas,this.httpClient.get(this.url,{params:n,headers:this.getCabezera()})},t.prototype.descargarBoletasPagina=function(t,e){var r=e.split("-"),i=Number(new Date(new Date(r[2],r[1]-1,r[0]))),n=Number(new Date),o=(new a.d).set("idEntidadEmisora",localStorage.getItem("id_entidad")).set("tipoComprobanteTabla","10007").set("tipoComprobanteRegistro","03").set("fechaEmisionDel",i.toString()).set("fechaEmisionAl",n.toString()).set("tipoDocumento","").set("nroDocumento","").set("ticket","").set("estado","").set("nroSerie","").set("correlativoInicial","").set("correlativoFinal","").set("nroPagina",t.toString()).set("regXPagina","10").set("ordenar","tsFechaemision").set("fechaBajaAl","").set("fechaBajaDel","").set("ticketBaja","").set("seriecorrelativo","").set("ticketResumen","").set("anticipo","N");return this.url=this.servidores.DOCUQRY+this.urlObtenerBoletas,this.httpClient.get(this.url,{params:o,headers:this.getCabezera()})},t.prototype.guardarBoletaDescargada=function(t){return this.url=this.hostLocal+this.urlSincronizacionBoleta,this.httpClient.post(this.url,t)},t.prototype.actualizarFechaDescarga=function(t){return this.url=this.hostLocal+this.urlActualizarFecha,this.httpClient.post(this.url,{fecha:t})},t.prototype.obtenerBoletaBajas=function(){this.url=this.hostLocal+this.urlObtenerBoletasBajas;var t=new a.d;return this.httpClient.get(this.url,{params:t})},t.prototype.enviarBoletaBaja=function(t){new a.d;return this.url=this.servidores.DOCUCMD+this.urlEnviarBoletasBaja,this.httpClient.post(this.url,t,{headers:this.getCabezera()})},t.prototype.getCabezera=function(){var t=JSON.parse(localStorage.getItem("usuarioActual")),e=localStorage.getItem("access_token"),r=(localStorage.getItem("Ocp_Apim_Subscription_Key"),t.tipo_empresa),i=t.org_id;return(new a.e).set("Authorization","Bearer "+e).set("Content-Type","application/json").set("Accept","application/json").set("Ocp-Apim-Subscription-Key","07a12d074c714f62ab037bb2f88e30d3").set("origen_datos","PEB2M").set("origin","http://localhost:4200").set("tipo_empresa",r).set("org_id",i)},t.prototype.actualizarErrorBoletaBaja=function(t){this.url=this.hostLocal+this.urlActualizarErrorBoletaBaja;var e=new a.e;return this.httpClient.post(this.url,{id:t},{headers:e})},t.prototype.actualizarBoletaBaja=function(t,e){return this.url=this.hostLocal+this.urlActualizarBoletaBaja,this.httpClient.post(this.url,{id:t,numeroDocumento:e})},t}();l=c([r.i(i.Injectable)(),u("design:paramtypes",["function"==typeof(p=void 0!==n.a&&n.a)&&p||Object,"function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(d=void 0!==a.b&&a.b)&&d||Object])],l);var p,h,d},"./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacionFactura.ts":function(t,e,r){"use strict";var i=r("./node_modules/@angular/core/@angular/core.es5.js"),n=r("./src/app/service/login.service.ts"),o=r("./src/app/facturacion-electronica/general/services/servidores.ts"),a=r("./node_modules/@angular/common/@angular/common/http.es5.js"),s=r("./src/app/facturacion-electronica/general/models/sincronizacion/facturaErpDTO.ts");r.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,r){this.loginService=t,this.servidores=e,this.httpClient=r,this.url="",this.hostLocal=this.servidores.HOSTLOCAL,this.urlObtenerFacturasLocales="/sincronizacionFacturas",this.urlEnviarFactura="/api/factura",this.urlActualizarFactura="/sincronizacionFacturas/actualizarSincronizacion",this.urlActualizarFacturaErronea="/sincronizacionFacturas/actualizarSincronizacionErronea",this.urlActualizarEstadoComprobante="/sincronizacionFacturas/actualizarEstadoComprobante",this.urlObtenerComprobante="/documento",this.urlActualizarComprobanteLocal="/sincronizacionFacturas/urlActualizarComprobanteLocal",this.urlObtenerFacturas="/documento/query",this.urlSincronizacionFactura="/sincronizacionFacturas",this.urlActualizarFecha="/sincronizacionFacturas/actualizarFecha",this.urlObtenerFacturasBajas="/sincronizacionFacturas/obtenerComunicacionBaja",this.urlEnviarFacturasBaja="/comunicacionesDeBaja",this.urlActualizarErrorFacturaBaja="/sincronizacionFacturas/actualizarErrorBaja",this.urlActualizarFacturaBaja="/sincronizacionFacturas/actualizarBaja"}return t.prototype.tokenNuevo=function(){return this.loginService.login(localStorage.getItem("username"),localStorage.getItem("passwordActual"))},t.prototype.actualizarToken=function(t){localStorage.setItem("access_token",t.access_token);var e=new Date((new Date).getTime()+864e5);e.setDate(e.getDate()+1),localStorage.setItem("expires",e.getTime().toString()),localStorage.setItem("expires_in",t.expires_in)},t.prototype.obtenerFacturasCreadas=function(){this.url=this.hostLocal+this.urlObtenerFacturasLocales;var t=new a.d;return this.httpClient.get(this.url,{params:t}).map(function(t){return t})},t.prototype.enviarFacturasCreadas=function(t){var e=JSON.parse(localStorage.getItem("usuarioActual")),r=e.org_id;(new a.e).set("Content-Type","application/json").set("Accept","application/json").set("origen_datos","PEB2M").set("Authorization","Bearer "+localStorage.getItem("access_token")).set("tipo_empresa",localStorage.getItem("tipo_empresa")).set("org_id",r).set("Ocp-Apim-Subscription-Key",localStorage.getItem("Ocp_Apim_Subscription_Key")),new a.d;return this.url=this.servidores.DOCUCMD+this.urlEnviarFactura,this.httpClient.post(this.url,t,{headers:this.getCabezera()})},t.prototype.convertirSincronizacionLongToDate=function(t){t.fechaEmision=Number(new Date(t.fechaEmision)),t.facturasAfectadas.map(function(t){t.fechaEmision=Number(new Date(t.fechaEmision))})},t.prototype.actualizarEstadoSincronizacionFactura=function(t){var e=new s.a;return e.id=t,this.url=this.hostLocal+this.urlActualizarFactura,this.httpClient.post(this.url,e)},t.prototype.actualizarErrorFactura=function(t,e){var r=new s.b;r.id=t;var i="";return e.error.errors.forEach(function(t){i=i+t+". "}),r.error=i,this.url=this.hostLocal+this.urlActualizarFacturaErronea,console.log(r),this.httpClient.post(this.url,r)},t.prototype.obtenerFacturasPendientes=function(){var t=new a.d;return this.url=this.hostLocal+this.urlActualizarEstadoComprobante,this.httpClient.get(this.url,{params:t})},t.prototype.obtenerFactura=function(t){var e=(new a.d).set("id",t);return this.url=this.servidores.DOCUQRY+this.urlObtenerComprobante,this.httpClient.get(this.url,{params:e,headers:this.getCabezera()})},t.prototype.guardarFacturaPendientes=function(t){var e=new s.c;return e.id=t.inIdcomprobantepago,e.chEstadocomprobantepago=t.chEstadocomprobantepago,e.chEstadocomprobantepagocomp=t.chEstadocomprobantepagocomp,e.eventos=t.eventos,this.url=this.hostLocal+this.urlActualizarComprobanteLocal,this.httpClient.post(this.url,e)},t.prototype.descargarFacturas=function(t){var e=t.split("-"),r=Number(new Date(new Date(e[2],e[1]-1,e[0])));console.log("fechaDe"+r.toString());var i=Number(new Date),n=(new a.d).set("idEntidadEmisora",localStorage.getItem("id_entidad")).set("tipoComprobanteTabla","10007").set("tipoComprobanteRegistro","01").set("fechaEmisionDel",r.toString()).set("fechaEmisionAl",i.toString()).set("tipoDocumento","").set("nroDocumento","").set("ticket","").set("estado","").set("nroSerie","").set("correlativoInicial","").set("correlativoFinal","").set("nroPagina","0").set("regXPagina","10").set("ordenar","tsFechaemision").set("fechaBajaAl","").set("fechaBajaDel","").set("ticketBaja","").set("seriecorrelativo","").set("ticketResumen","").set("anticipo","N");return this.url=this.servidores.DOCUQRY+this.urlObtenerFacturas,this.httpClient.get(this.url,{params:n,headers:this.getCabezera()})},t.prototype.getCabezera=function(){var t=JSON.parse(localStorage.getItem("usuarioActual")),e=localStorage.getItem("access_token"),r=(localStorage.getItem("Ocp_Apim_Subscription_Key"),t.tipo_empresa),i=t.org_id;return(new a.e).set("Authorization","Bearer "+e).set("Content-Type","application/json").set("Accept","application/json").set("Ocp-Apim-Subscription-Key","07a12d074c714f62ab037bb2f88e30d3").set("origen_datos","PEB2M").set("tipo_empresa",r).set("origin","http://localhost:4200").set("org_id",i)},t.prototype.descargarFacturasPagina=function(t,e){var r=e.split("-"),i=Number(new Date(new Date(r[2],r[1]-1,r[0]))),n=Number(new Date),o=(new a.d).set("idEntidadEmisora",localStorage.getItem("id_entidad")).set("tipoComprobanteTabla","10007").set("tipoComprobanteRegistro","01").set("fechaEmisionDel",i.toString()).set("fechaEmisionAl",n.toString()).set("tipoDocumento","").set("nroDocumento","").set("ticket","").set("estado","").set("nroSerie","").set("correlativoInicial","").set("correlativoFinal","").set("nroPagina",t.toString()).set("regXPagina","10").set("ordenar","tsFechaemision").set("fechaBajaAl","").set("fechaBajaDel","").set("ticketBaja","").set("seriecorrelativo","").set("ticketResumen","").set("anticipo","N");return this.url=this.servidores.DOCUQRY+this.urlObtenerFacturas,this.httpClient.get(this.url,{params:o,headers:this.getCabezera()})},t.prototype.guardarFacturaDescargada=function(t){return this.url=this.hostLocal+this.urlSincronizacionFactura,this.httpClient.post(this.url,t)},t.prototype.actualizarFechaDescarga=function(t){return this.url=this.hostLocal+this.urlActualizarFecha,this.httpClient.post(this.url,{fecha:t})},t.prototype.obtenerFacturaBajas=function(){this.url=this.hostLocal+this.urlObtenerFacturasBajas;var t=new a.d;return this.httpClient.get(this.url,{params:t})},t.prototype.enviarFacturaBaja=function(t){var e=JSON.parse(localStorage.getItem("usuarioActual")),r=e.org_id;(new a.e).set("Content-Type","application/json").set("Accept","application/json").set("origen_datos","PEB2M").set("Authorization","Bearer "+localStorage.getItem("access_token")).set("tipo_empresa",localStorage.getItem("tipo_empresa")).set("org_id",r).set("Ocp-Apim-Subscription-Key",localStorage.getItem("Ocp_Apim_Subscription_Key")),new a.d;return this.url=this.servidores.DOCUCMD+this.urlEnviarFacturasBaja,this.httpClient.post(this.url,t,{headers:this.getCabezera()})},t.prototype.actualizarErrorFacturaBaja=function(t){this.url=this.hostLocal+this.urlActualizarErrorFacturaBaja;var e=new a.e;return this.httpClient.post(this.url,{id:t},{headers:e})},t.prototype.actualizarFacturaBaja=function(t,e){return this.url=this.hostLocal+this.urlActualizarFacturaBaja,this.httpClient.post(this.url,{id:t,numeroDocumento:e})},t}();l=c([r.i(i.Injectable)(),u("design:paramtypes",["function"==typeof(p=void 0!==n.a&&n.a)&&p||Object,"function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(d=void 0!==a.b&&a.b)&&d||Object])],l);var p,h,d},"./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacionParametros.ts":function(t,e,r){"use strict";var i=r("./node_modules/@angular/core/@angular/core.es5.js"),n=r("./src/app/service/login.service.ts"),o=r("./node_modules/rxjs/Observable.js"),a=(r.n(o),r("./src/app/facturacion-electronica/general/services/servidores.ts")),s=r("./node_modules/@angular/common/@angular/common/http.es5.js"),c=r("./node_modules/rxjs/Rx.js"),u=(r.n(c),r("./src/app/model/dtoMaestra.ts")),l=r("./src/app/model/dtoEntidad.ts"),p=r("./src/app/model/dtoDocumentoAzure.ts"),h=r("./src/app/model/DtoSeries.ts"),d=r("./src/app/model/dtoQueryParametro.ts"),m=r("./src/app/model/dtoQueryTipoPrecioVenta.ts"),f=r("./src/app/model/dtoQueryTipoAfectacionIgv.ts"),g=r("./src/app/model/dtoQueryTipoCalcIsc.ts"),b=r("./src/app/model/dtoConcepto.ts");r.d(e,"a",function(){return C});var v=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},z=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},C=function(){function t(t,e,r){this.loginService=t,this.servidores=e,this.httpClient=r,this.url="",this.hostLocal=this.servidores.HOSTLOCAL,this.idiomaDTO=[],this.eventoDTO=[],this.maestraDTO=new u.a,this.paremetroEntidadDTO=[],this.tipoEntidadDTO=[],this.queryEstadoDTO=[],this.entidadDTO=new l.a,this.serieDTO=[],this.queryParametrosDto=[],this.queryTipoPrecioVentaDto=[],this.queryTipoAfectacionIgv=[],this.queryTipoCalculoIsc=[],this.conceptos=[]}return t.prototype.tokenNuevo=function(){return this.loginService.login(localStorage.getItem("username"),localStorage.getItem("passwordActual"))},t.prototype.actualizarToken=function(t){localStorage.setItem("access_token",t.access_token);var e=new Date((new Date).getTime()+864e5);e.setDate(e.getDate()+1),localStorage.setItem("expires",e.getTime().toString()),localStorage.setItem("expires_in",t.expires_in)},t.prototype.eliminarIdioma=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/idiomaEliminar";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.guardarIdioma=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/idioma";this.idiomaDTO=[{id:"1",descripcion:"ES",descripcionCorta:"Español"},{id:"2",descripcion:"EN",descripcionCorta:"Ingles"}];new c.BehaviorSubject(null);return this.httpClient.post(t,this.idiomaDTO)},t.prototype.guardarIdiomaQuery=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/queryIdioma";return this.idiomaDTO=[{id:"1",descripcion:"ES",descripcionCorta:"Español"},{id:"2",descripcion:"EN",descripcionCorta:"Ingles"}],this.httpClient.post(t,this.idiomaDTO)},t.prototype.eliminarIdiomaQuery=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/idiomaEliminarQuery";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.guardarEvento=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/evento";new c.BehaviorSubject(null);return this.eventoDTO=[{id:"10",idioma:"1",descripcion:"Almacenado"},{id:"20",idioma:"1",descripcion:"Rechazado"},{id:"30",idioma:"1",descripcion:"Pdf Generado"},{id:"40",idioma:"1",descripcion:"Notificacion enviada"},{id:"50",idioma:"1",descripcion:"UBL Generado"},{id:"60",idioma:"1",descripcion:"CDR Generado"},{id:"70",idioma:"1",descripcion:"Respuesta conector"}],this.httpClient.post(t,this.eventoDTO)},t.prototype.eliminarEvento=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/eventoEliminar";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.getCabezera=function(){var t=JSON.parse(localStorage.getItem("usuarioActual")),e=localStorage.getItem("access_token"),r=(localStorage.getItem("Ocp_Apim_Subscription_Key"),t.tipo_empresa),i=t.org_id;return(new s.e).set("Authorization","Bearer "+e).set("Content-Type","application/json").set("Accept","application/json").set("Ocp-Apim-Subscription-Key","07a12d074c714f62ab037bb2f88e30d3").set("origen_datos","PEB2M").set("tipo_empresa",r).set("org_id",i)},t.prototype.eliminarMaestra=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/maestraEliminar";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.obtenerMaestra=function(){var t=this.servidores.PARMQRY+"/maestra",e=new s.d;return this.httpClient.get(t,{params:e,headers:this.getCabezera()})},t.prototype.guardarMaestra=function(t){var e=this,r=[],i=this.servidores.HOSTLOCAL+"/sincronizacion/maestra";return t._embedded.maestraRedises.forEach(function(t){e.maestraDTO=new u.a,e.maestraDTO.organizacion=t.organizacion,e.maestraDTO.tabla=t.tabla,e.maestraDTO.codigo=t.codigo,e.maestraDTO.descripcionCorta=t.descripcionCorta,e.maestraDTO.descripcionLarga=t.descripcionLarga,e.maestraDTO.descripcionLargaIngles=t.descripcionLargaIngles,e.maestraDTO.iso=t.iso,e.maestraDTO.habilitado=t.habilitado,e.maestraDTO.idMaestra=t.idMaestra,r.push(e.maestraDTO)}),this.httpClient.post(i,r)},t.prototype.guardarParemetroEntidad=function(){this.paremetroEntidadDTO=[{id:"1",descripcion:"Pais"},{id:"2",descripcion:"Tipos de documentos de identidad"},{id:"3",descripcion:"Ubigeo"},{id:"4",descripcion:"Clave SOL"},{id:"5",descripcion:"Certificado Digital"},{id:"6",descripcion:"Logo"},{id:"7",descripcion:"Plantilla Factura"},{id:"8",descripcion:"Plantilla Boleta"},{id:"9",descripcion:"Plantilla Nota Credito"},{id:"10",descripcion:"Plantilla Nota Debito"},{id:"11",descripcion:"Plantilla Guia Remision"},{id:"12",descripcion:"Plantilla Retencion"},{id:"13",descripcion:"Plantilla Percepcion"},{id:"14",descripcion:"Recibir Notificaciones"}];var t=this.servidores.HOSTLOCAL+"/sincronizacion/parametroEntidad";return this.httpClient.post(t,this.paremetroEntidadDTO)},t.prototype.eliminarParametrosEntidad=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/paremetroEntidadEliminar";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.guardarTipoEntidad=function(){var t=new Date,e=this.servidores.HOSTLOCAL+"/sincronizacion/tipoEntidad";return this.tipoEntidadDTO=[{id:"1",descripcion:"Emisor",usuarioCreacion:"Offline",usuarioModificacion:"Offline",fechaCreacion:t.toString(),fechaModificacion:t.toString(),estado:""},{id:"2",descripcion:"Receptor",usuarioCreacion:"Offline",usuarioModificacion:"Offline",fechaCreacion:t.toString(),fechaModificacion:t.toString(),estado:""}],this.httpClient.post(e,this.tipoEntidadDTO)},t.prototype.eliminarTipoEntidad=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/eliminarTipoEntidad";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.eliminarQueryEstado=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/eliminarQueryEstado";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.guardarQueryEstado=function(){var t=(new Date,this.servidores.HOSTLOCAL+"/sincronizacion/queryEstado");return this.queryEstadoDTO=[{id:"1",idioma:"1",descripcion:"Pendiente de Envio",abreviatura:"Pendiente"},{id:"2",idioma:"1",descripcion:"Bloqueado",abreviatura:"Bloqueado"},{id:"3",idioma:"1",descripcion:"Autorizado",abreviatura:"Autorizado"},{id:"4",idioma:"1",descripcion:"Autorizado con Observaciones",abreviatura:"Autorizado con Obs."},{id:"5",idioma:"1",descripcion:"Rechazado",abreviatura:"Rechazado"},{id:"6",idioma:"1",descripcion:"Dado de Baja",abreviatura:"Baja"},{id:"99",idioma:"1",descripcion:"Error",abreviatura:"Error"}],this.httpClient.post(t,this.queryEstadoDTO)},t.prototype.obtenerEntidad=function(){var t=JSON.parse(localStorage.getItem("usuarioActual")),e=localStorage.getItem("access_token"),r=(localStorage.getItem("Ocp_Apim_Subscription_Key"),t.tipo_empresa),i=t.org_id,n=new s.d,o=this.servidores.ORGAQRY+"/organizaciones/"+i,a=(new s.e).set("Authorization","Bearer "+e).set("Content-Type","application/json").set("Accept","application/json").set("Ocp-Apim-Subscription-Key","07a12d074c714f62ab037bb2f88e30d3").set("origen_datos","PEB2M").set("tipo_empresa",r).set("org_id",i);return this.httpClient.get(o,{params:n,headers:a})},t.prototype.guardarEntidad=function(t){this.entidadDTO.id=t.id,this.entidadDTO.documento=t.documento,this.entidadDTO.denominacion=t.denominacion,this.entidadDTO.nombreComercial=t.nombreComercial,this.entidadDTO.direccion=t.direccionFiscal,this.entidadDTO.correo=t.correoElectronico,this.entidadDTO.logo=t.logo,this.entidadDTO.pais=t.pais,this.entidadDTO.ubigeo=t.ubigeo,this.entidadDTO.tipoDocumento=t.tipoDocumento,this.entidadDTO.idTipoDocumento=t.idTipoDocumento,this.entidadDTO.idEbiz=t.idEbiz,this.entidadDTO.usuarioCreacion=t.usuarioCreacion,this.entidadDTO.usuarioModificacion=t.usuarioModificacion,this.entidadDTO.fechaCreacion=t.fechaCreacion,this.entidadDTO.fechaModificacion=t.fechaModificacion,this.entidadDTO.estado=t.estado;var e=this.servidores.HOSTLOCAL+"/sincronizacion/entidad";return this.httpClient.post(e,this.entidadDTO)},t.prototype.eliminarEntidad=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/entidadEliminar";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.eliminarDocumentoAzure=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/eliminarDocumentosAzure";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.eliminarSerie=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/eliminarSerie";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.obtenerSerie=function(){var t=this.servidores.ORGAQRY+"/seriesCmd/search/correlativos",e=(new s.d).set("id_entidad",localStorage.getItem("id_entidad"));return this.httpClient.get(t,{params:e,headers:this.getCabezera()})},t.prototype.eliminarParametro=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/eliminarParametro";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.obtenerParametros=function(){var t=this.servidores.PARMQRY+"/parametros",e=new s.d;return this.httpClient.get(t,{params:e,headers:this.getCabezera()})},t.prototype.guardarParametro=function(t){var e=this;this.queryParametrosDto=[];var r=this.servidores.HOSTLOCAL+"/sincronizacion/parametros";return t._embedded.parametroRedises.forEach(function(t){var r=new d.a;r=t,e.queryParametrosDto.push(r)}),this.httpClient.post(r,this.queryParametrosDto)},t.prototype.guardarSerie=function(t){var e=this;this.serieDTO=[];var r=this.servidores.HOSTLOCAL+"/sincronizacion/querySerie";return t._embedded.serieCommands.forEach(function(t){var r=new h.a;r.correlativo=t.correlativo,r.idTipoSerie=t.tipoSerie,r.direccion=t.direccion,r.estado=t.estado,r.idEntidad=t.idEntidad,r.idSerie=t.idSerie,r.idTipoComprobante=t.idTipoDocumento,r.serie=t.serie,r.idUbigeo=t.idDominioUbigeo,r.codigoUbigeo="",r.mac=t.direccionMac,e.serieDTO.push(r)}),this.httpClient.post(r,this.serieDTO)},t.prototype.guardarDocumentoAzure=function(t,e,r,i,n,a){var c=this.servidores.HOSTLOCAL+"/sincronizacion/documentoAzure",u=(new s.d,new p.a);return u.id=t,u.idEntidad=e,u.logoEbiz=i,u.logoEntidad=n,u.plantillaPdf=a,u.tipoComprobante=r,this.httpClient.post(c,u).subscribe(),new o.Observable},t.prototype.obtenerAzure=function(t){var e=this.servidores.FILEQRY+"/archivos/search?nombre_archivo="+t,r=new s.d;new o.Observable;return this.httpClient.get(e,{params:r,responseType:"text/plain",headers:this.getCabezera()})},t.prototype.obtenerTipoPrecioVenta=function(){var t=this.servidores.PARMQRY+"/tipoprecioventa",e=new s.d;return this.httpClient.get(t,{params:e,headers:this.getCabezera()})},t.prototype.guardarTipoPrecioVenta=function(t){var e=this;this.queryTipoPrecioVentaDto=[];var r=this.servidores.HOSTLOCAL+"/sincronizacion/tipoprecioventa";return t._embedded.tipoPrecioVentaRedises.forEach(function(t){var r=new m.a;r=t,e.queryTipoPrecioVentaDto.push(r)}),this.httpClient.post(r,this.queryTipoPrecioVentaDto)},t.prototype.obtenerTipoAfectacionIgv=function(){var t=this.servidores.PARMQRY+"/tipoafectacionigv",e=new s.d;return this.httpClient.get(t,{params:e,headers:this.getCabezera()})},t.prototype.guardarTipoAfectacionIgv=function(t){var e=this,r=this.servidores.HOSTLOCAL+"/sincronizacion/queryTipoAfecacionIgv";return this.queryTipoAfectacionIgv=[],t._embedded.tipoAfectacionIgvRedises.forEach(function(t){var r=new f.a;r=t,e.queryTipoAfectacionIgv.push(r)}),this.httpClient.post(r,this.queryTipoAfectacionIgv)},t.prototype.obtenerTipoCalculoIsc=function(){var t=this.servidores.PARMQRY+"/tipocalculoisc",e=new s.d;return this.httpClient.get(t,{params:e,headers:this.getCabezera()})},t.prototype.guardarTipoCalculoIsc=function(t){var e=this,r=this.servidores.HOSTLOCAL+"/sincronizacion/queryTipoCalcIsc";return this.queryTipoCalculoIsc=[],t._embedded.tipoCalculoIscRedises.forEach(function(t){var r=new g.a;r=t,e.queryTipoCalculoIsc.push(r)}),this.httpClient.post(r,this.queryTipoCalculoIsc)},t.prototype.obtenerConceptos=function(){var t=this.servidores.PARMQRY+"/concepto",e=new s.d;return this.httpClient.get(t,{params:e,headers:this.getCabezera()})},t.prototype.guardarConcepto=function(t){var e=this,r=this.servidores.HOSTLOCAL+"/sincronizacion/concepto";return this.conceptos=[],t._embedded.conceptoRedises.forEach(function(t){var r=new b.a;r=t,e.conceptos.push(r)}),this.httpClient.post(r,this.conceptos)},t.prototype.eliminarTipoPrecioVenta=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/eliminarTipoPrecioVenta";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.eliminarTipoAfectacionIgv=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/eliminarTipoAfectacionIgv";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.eliminarTipoCalculoIsc=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/eliminarTipoCalculoIsc";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.eliminarConcepto=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/eliminarConcepto";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.eliminarUsuarios=function(){var t=this.servidores.HOSTLOCAL+"/sincronizacion/eliminarUsuarios";new c.BehaviorSubject(null);return this.httpClient.post(t,{})},t.prototype.guardarUsuariosOffline=function(t){var e=this.servidores.HOSTLOCAL+"/sincronizacion/guardarUsuarios";return this.httpClient.post(e,t)},t.prototype.obtenerUsuariosOffline=function(t){var e=this.servidores.ebiz+"/offorg/",r=(new s.d).set("ruc_emisor",t),i=(new s.e).set("Authorization","Bearer "+localStorage.getItem("access_token")).set("Ocp-Apim-Subscription-Key",localStorage.getItem("Ocp_Apim_Subscription_Key")).set("origen_datos","OFFLINE");return this.httpClient.get(e,{params:r,headers:i})},t.prototype.actualizarFechaDescarga=function(t){return this.url=this.hostLocal+"/sincronizacion/actualizarFecha",this.httpClient.post(this.url,{fecha:t})},t}();C=v([r.i(i.Injectable)(),z("design:paramtypes",["function"==typeof(P=void 0!==n.a&&n.a)&&P||Object,"function"==typeof(y=void 0!==a.a&&a.a)&&y||Object,"function"==typeof(O=void 0!==s.b&&s.b)&&O||Object])],C);var P,y,O},"./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacionPercepeciones.ts":function(t,e,r){"use strict";var i=r("./node_modules/@angular/core/@angular/core.es5.js"),n=r("./src/app/service/login.service.ts"),o=r("./src/app/facturacion-electronica/general/services/servidores.ts"),a=r("./node_modules/@angular/common/@angular/common/http.es5.js"),s=r("./src/app/facturacion-electronica/general/models/sincronizacion/percepcionErpDTO.ts");r.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,r){this.loginService=t,this.servidores=e,this.httpClient=r,this.url="",this.hostLocal=this.servidores.HOSTLOCAL,this.urlObtenerPercepcionesLocales="/sincronizacionPercepcion",this.urlEnviarPercepcion="/api/percepcion",this.urlActualizarPercepcion="/sincronizacionPercepcion/actualizarSincronizacion",this.urlActualizarPercepcionErronea="/sincronizacionPercepcion/actualizarSincronizacionErronea",this.urlActualizarEstadoComprobante="/sincronizacionPercepcion/actualizarEstadoComprobante",this.urlObtenerComprobante="/documento",this.urlActualizarComprobanteLocal="/sincronizacionPercepcion/urlActualizarComprobanteLocal",this.urlObtenerPercepciones="/documento/query",this.urlSincronizacionPercepcion="/sincronizacionPercepcion",this.urlActualizarFecha="/sincronizacionPercepcion/actualizarFecha",this.urlObtenerPercepcionesBajas="/sincronizacionPercepcion/obtenerComunicacionBaja",this.urlEnviarPercepcionesBaja="/comunicacionesDeBaja",this.urlActualizarErrorPercepcionBaja="/sincronizacionPercepcion/actualizarErrorBaja",this.urlActualizarPercepcionBaja="/sincronizacionPercepcion/actualizarBaja"}return t.prototype.tokenNuevo=function(){return this.loginService.login(localStorage.getItem("username"),localStorage.getItem("passwordActual"))},t.prototype.actualizarToken=function(t){localStorage.setItem("access_token",t.access_token);var e=new Date((new Date).getTime()+864e5);e.setDate(e.getDate()+1),localStorage.setItem("expires",e.getTime().toString()),localStorage.setItem("expires_in",t.expires_in)},t.prototype.obtenerPercepcionesCreadas=function(){this.url=this.hostLocal+this.urlObtenerPercepcionesLocales;var t=new a.d;return this.httpClient.get(this.url,{params:t}).map(function(t){return console.log(t),t})},t.prototype.enviarPercepcionesCreadas=function(t){var e=JSON.parse(localStorage.getItem("usuarioActual")),r=e.org_id,i=(new a.e).set("Content-Type","application/json").set("Accept","application/json").set("origen_datos","PEB2M").set("Authorization","Bearer "+localStorage.getItem("access_token")).set("tipo_empresa",localStorage.getItem("tipo_empresa")).set("org_id",r).set("Ocp-Apim-Subscription-Key",localStorage.getItem("Ocp_Apim_Subscription_Key"));new a.d;return this.url=this.servidores.DOCUCMD+this.urlEnviarPercepcion,this.httpClient.post(this.url,t,{headers:i})},t.prototype.convertirSincronizacionLongToDate=function(t){t.fechaEmision=Number(new Date(t.fechaEmision)),t.facturasAfectadas.map(function(t){t.fechaEmision=Number(new Date(t.fechaEmision))})},t.prototype.actualizarEstadoSincronizacionPercepcion=function(t){var e=new s.a;return e.id=t,this.url=this.hostLocal+this.urlActualizarPercepcion,this.httpClient.post(this.url,e)},t.prototype.actualizarErrorPercepcion=function(t,e){var r=new s.b;r.id=t;var i="";return e.error.errors.forEach(function(t){i=i+t+". "}),r.error=i,this.url=this.hostLocal+this.urlActualizarPercepcionErronea,console.log(r),this.httpClient.post(this.url,r)},t.prototype.obtenerPercepcionesPendientes=function(){var t=new a.d;return this.url=this.hostLocal+this.urlActualizarEstadoComprobante,this.httpClient.get(this.url,{params:t})},t.prototype.obtenerPercepcion=function(t){var e=(new a.d).set("id",t);return this.url=this.servidores.DOCUQRY+this.urlObtenerComprobante,this.httpClient.get(this.url,{params:e,responseType:"text/plain",headers:this.getCabezera()})},t.prototype.guardarPercepcionPendientes=function(t){var e=new s.c;return e.id=t.inIdcomprobantepago,e.chEstadocomprobantepago=t.chEstadocomprobantepago,e.chEstadocomprobantepagocomp=t.chEstadocomprobantepagocomp,e.eventos=t.eventos,this.url=this.hostLocal+this.urlActualizarComprobanteLocal,this.httpClient.post(this.url,e)},t.prototype.descargarPercepciones=function(t){var e=t.split("-"),r=Number(new Date(new Date(e[2],e[1]-1,e[0]))),i=Number(new Date),n=(new a.d).set("idEntidadEmisora",localStorage.getItem("id_entidad")).set("tipoComprobanteTabla","10007").set("tipoComprobanteRegistro","40").set("fechaEmisionDel",r.toString()).set("fechaEmisionAl",i.toString()).set("tipoDocumento","").set("nroDocumento","").set("ticket","").set("estado","").set("nroSerie","").set("correlativoInicial","").set("correlativoFinal","").set("nroPagina","0").set("regXPagina","10").set("ordenar","tsFechaemision").set("fechaBajaAl","").set("fechaBajaDel","").set("ticketBaja","").set("seriecorrelativo","").set("ticketResumen","").set("anticipo","N");return this.url=this.servidores.DOCUQRY+this.urlObtenerPercepciones,this.httpClient.get(this.url,{params:n,headers:this.getCabezera()})},t.prototype.descargarPercepcionesPagina=function(t,e){var r=e.split("-"),i=Number(new Date(new Date(r[2],r[1]-1,r[0]))),n=Number(new Date),o=(new a.d).set("idEntidadEmisora",localStorage.getItem("id_entidad")).set("tipoComprobanteTabla","10007").set("tipoComprobanteRegistro","40").set("fechaEmisionDel",i.toString()).set("fechaEmisionAl",n.toString()).set("tipoDocumento","").set("nroDocumento","").set("ticket","").set("estado","").set("nroSerie","").set("correlativoInicial","").set("correlativoFinal","").set("nroPagina",t.toString()).set("regXPagina","10").set("ordenar","tsFechaemision").set("fechaBajaAl","").set("fechaBajaDel","").set("ticketBaja","").set("seriecorrelativo","").set("ticketResumen","").set("anticipo","N");return this.url=this.servidores.DOCUQRY+this.urlObtenerPercepciones,this.httpClient.get(this.url,{params:o,headers:this.getCabezera()})},t.prototype.guardarPercepcionDescargada=function(t){return this.url=this.hostLocal+this.urlSincronizacionPercepcion,this.httpClient.post(this.url,t)},t.prototype.actualizarFechaDescarga=function(t){return this.url=this.hostLocal+this.urlActualizarFecha,this.httpClient.post(this.url,{fecha:t})},t.prototype.obtenerPercepcionBajas=function(){this.url=this.hostLocal+this.urlObtenerPercepcionesBajas;var t=new a.d;return this.httpClient.get(this.url,{params:t})},t.prototype.enviarPercepcionBaja=function(t){var e=JSON.parse(localStorage.getItem("usuarioActual")),r=e.org_id,i=(new a.e).set("Content-Type","application/json").set("Accept","application/json").set("origen_datos","PEB2M").set("Authorization","Bearer "+localStorage.getItem("access_token")).set("tipo_empresa",localStorage.getItem("tipo_empresa")).set("org_id",r).set("Ocp-Apim-Subscription-Key",localStorage.getItem("Ocp_Apim_Subscription_Key"));new a.d;return this.url=this.servidores.DOCUCMD+this.urlEnviarPercepcionesBaja,this.httpClient.post(this.url,t,{headers:i})},t.prototype.actualizarErrorPercepcionBaja=function(t){this.url=this.hostLocal+this.urlActualizarErrorPercepcionBaja;var e=new a.e;return this.httpClient.post(this.url,{id:t},{headers:e})},t.prototype.actualizarPercepcionBaja=function(t,e){return this.url=this.hostLocal+this.urlActualizarPercepcionBaja,this.httpClient.post(this.url,{id:t,numeroDocumento:e})},t.prototype.getCabezera=function(){var t=JSON.parse(localStorage.getItem("usuarioActual")),e=localStorage.getItem("access_token"),r=(localStorage.getItem("Ocp_Apim_Subscription_Key"),t.tipo_empresa),i=t.org_id;return(new a.e).set("Authorization","Bearer "+e).set("Content-Type","application/json").set("Accept","application/json").set("Ocp-Apim-Subscription-Key","07a12d074c714f62ab037bb2f88e30d3").set("origen_datos","PEB2M").set("tipo_empresa",r).set("origin","http://localhost:4200").set("org_id",i)},t}();l=c([r.i(i.Injectable)(),u("design:paramtypes",["function"==typeof(p=void 0!==n.a&&n.a)&&p||Object,"function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(d=void 0!==a.b&&a.b)&&d||Object])],l);var p,h,d},"./src/app/facturacion-electronica/sincronizacion/sincronizacion.component.html":function(t,e){t.exports='<div class="main-content">\r\n    <div class="container-fluid">\r\n        <div class="row">\r\n            <div class="col-lg-12">\r\n                <div class="card">\r\n                    <div class="card-header card-header-text" data-background-color="blue">\r\n                        <h4 class="card-title">{{\'sincronizacion\' | translate}}</h4>\r\n                    </div>\r\n                    <div class="card-content">\r\n                        <div class="col-lg-12">\r\n                            <div class="card">\r\n                                <div class="card-content">\r\n                                    <table class="table">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th scope="col" class="center">{{\'codigo\' | translate}}</th>\r\n                                                <th scope="col">{{\'documento\' | translate}}</th>\r\n                                                <th scope="col">{{\'ultimaFechaSincronizacion\' | translate}}</th>\r\n                                                \x3c!-- <th scope="col">tipo comprobante</th> --\x3e\r\n                                                <th scope="col" style="text-align: center">{{\'accion\' | translate}}</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor="let item of listSincronizacion">\r\n                                                <th scope="col">{{item.id}}</th>\r\n                                                <th scope="col">{{item.descripcion}}</th>\r\n                                                <th scope="col">{{item.fechaSincronizacion}}</th>\r\n                                                \x3c!-- <th scope="col">{{item.tipoComprobante}}</th> --\x3e\r\n                                                <th scope="col" style="text-align: center">\r\n                                                    <button *ngIf="item.tipoComprobante != \'05\' && item.tipoComprobante != \'06\'" title="Bitácora" type="button" style="background: transparent; border: 0px" (click)="verBitacora(item.tipoComprobante)">\r\n                                                        <i class="material-icons">book</i>\r\n                                                    </button>\r\n                                                    <button type="button" style="background: transparent; border: 0px" title="Sincronizar" (click)="sincronizar(item)">\r\n                                                        <i class="material-icons">autorenew</i>\r\n                                                    </button>\r\n                                                </th>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},"./src/app/facturacion-electronica/sincronizacion/sincronizacion.component.ts":function(t,e,r){"use strict";var i=r("./node_modules/@angular/core/@angular/core.es5.js"),n=r("./node_modules/@angular/router/@angular/router.es5.js"),o=r("./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacion.service.ts"),a=r("./src/app/facturacion-electronica/general/services/sincronizacion/parametros.service.ts"),s=r("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),c=r("./src/app/facturacion-electronica/general/models/configuracionDocumento/idioma.ts"),u=r("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),l=r("./src/app/facturacion-electronica/general/services/sincronizacion/SincronizacionRetenciones.ts"),p=r("./src/app/service/spinner.service.ts"),h=r("./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacionBoleta.ts"),d=r("./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacionFactura.ts"),m=r("./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacionPercepeciones.ts"),f=r("./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacionParametros.ts");r.d(e,"a",function(){return C});var g=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},b=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))(function(n,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?n(t.value):new r(function(e){e(t.value)}).then(a,s)}c((i=i.apply(t,e||[])).next())})},z=this&&this.__generator||function(t,e){function r(t){return function(e){return i([t,e])}}function i(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(a=o[2&r[0]?"return":r[0]?"throw":"next"])&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[0,a.value]),r[0]){case 0:case 1:a=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){c.label=r[1];break}if(6===r[0]&&c.label<a[1]){c.label=a[1],a=r;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(r);break}a[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(t){r=[6,t],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var n,o,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},C=function(){function t(t,e,r,i,n,o,a,s,c,u){this.router=t,this.sincronizacionService=e,this.sincronizacionRetenciones=r,this.sincronizacionPercepciones=i,this.sincronizacionBoletas=n,this.sincronizacionFacturas=o,this.sincronizacionParametros=a,this.parametrosService=s,this.tipos=c,this.spinner=u,this.listSincronizacion=[],this.cabecera=[],this.atributos=[],this.cabecera=["Documento","Ultima Fecha Sincronizacion","Acciones"],this.atributos=["TipoComprobante","FechaSincronizacion","Acciones"]}return t.prototype.ngOnInit=function(){this.obtenerSincronizaciones()},t.prototype.verBitacora=function(t){this.sincronizacionService.setBitacoraSincronizado(t),this.router.navigateByUrl("sincronizacion/bitacora")},t.prototype.sincronizar=function(t){return v(this,void 0,void 0,function(){var e,r,i;return z(this,function(n){switch(n.label){case 0:switch(e="",r="",i=t.tipoComprobante){case this.tipos.TIPO_DOCUMENTO_BOLETA:return[3,1];case this.tipos.TIPO_DOCUMENTO_FACTURA:return[3,3];case this.tipos.TIPO_DOCUMENTO_RETENCION:return[3,5];case this.tipos.TIPO_DOCUMENTO_PERCEPCION:return[3,7];case this.tipos.PARAMETRO_TIPO_PARAMETROS:return[3,9];case this.tipos.PARAMETRO_TIPO_CLIENTES:return[3,11]}return[3,12];case 1:return[4,this.actualizarBoletas(t.fechaSincronizacion)];case 2:return n.sent(),this.obtenerSincronizaciones(),[3,12];case 3:return[4,this.actualizarFacturas(t.fechaSincronizacion)];case 4:return n.sent(),this.obtenerSincronizaciones(),[3,12];case 5:return[4,this.actualizarRetenciones(t.fechaSincronizacion)];case 6:return n.sent(),this.obtenerSincronizaciones(),[3,12];case 7:return[4,this.actualizarPercepciones(t.fechaSincronizacion)];case 8:return n.sent(),this.obtenerSincronizaciones(),[3,12];case 9:return[4,this.actualizarParametros()];case 10:return n.sent(),this.obtenerSincronizaciones(),[3,12];case 11:return this.obtenerSincronizaciones(),console.log("Clientes"),[3,12];case 12:return[2]}})})},t.prototype.obtenerSincronizaciones=function(){var t=this,e=c.a.idIdioma;this.sincronizacionService.buscarPorIdioma(e).subscribe(function(e){t.listSincronizacion=e})},t.prototype.actualizarParametros=function(){return v(this,void 0,void 0,function(){var t=this;return z(this,function(e){switch(e.label){case 0:return this.spinner.set(!0),[4,this.sincronizacionParametros.tokenNuevo().toPromise().then(function(e){return v(t,void 0,void 0,function(){var t,r,i,n,o,a,s,c,u,l,p,h,d,m,f,g,b,v,C,P,y,O,S,B,D;return z(this,function(z){switch(z.label){case 0:return this.sincronizacionParametros.actualizarToken(e),[4,this.sincronizacionParametros.eliminarIdioma().toPromise()];case 1:return z.sent(),[4,this.sincronizacionParametros.guardarIdioma().toPromise()];case 2:return z.sent(),[4,this.sincronizacionParametros.eliminarIdiomaQuery().toPromise()];case 3:return z.sent(),[4,this.sincronizacionParametros.guardarIdiomaQuery().toPromise()];case 4:return z.sent(),[4,this.sincronizacionParametros.eliminarEvento().toPromise()];case 5:return z.sent(),[4,this.sincronizacionParametros.guardarEvento().toPromise()];case 6:return z.sent(),[4,this.sincronizacionParametros.eliminarMaestra().toPromise()];case 7:return z.sent(),[4,this.sincronizacionParametros];case 8:return z.sent(),[4,this.sincronizacionParametros.obtenerMaestra().toPromise()];case 9:return t=z.sent(),[4,this.sincronizacionParametros.guardarMaestra(t).toPromise()];case 10:return z.sent(),[4,this.sincronizacionParametros.eliminarParametrosEntidad().toPromise()];case 11:return z.sent(),[4,this.sincronizacionParametros.guardarParemetroEntidad().toPromise()];case 12:return z.sent(),[4,this.sincronizacionParametros.eliminarTipoEntidad().toPromise()];case 13:return z.sent(),[4,this.sincronizacionParametros.guardarTipoEntidad().toPromise()];case 14:return z.sent(),[4,this.sincronizacionParametros.eliminarQueryEstado().toPromise()];case 15:return z.sent(),[4,this.sincronizacionParametros.guardarQueryEstado().toPromise()];case 16:z.sent(),z.label=17;case 17:return z.trys.push([17,35,,36]),[4,this.sincronizacionParametros.obtenerEntidad().toPromise()];case 18:return r=z.sent(),[4,this.sincronizacionParametros.eliminarEntidad().toPromise()];case 19:return z.sent(),[4,this.sincronizacionParametros.guardarEntidad(r).toPromise()];case 20:return z.sent(),[4,this.sincronizacionParametros.obtenerAzure("logo_ebiz.png").toPromise()];case 21:return i=z.sent(),[4,this.sincronizacionParametros.obtenerAzure(r.logoCloud).toPromise()];case 22:return n=z.sent(),[4,this.sincronizacionParametros.obtenerAzure("retenciones-final.xml").toPromise()];case 23:return o=z.sent(),[4,this.sincronizacionParametros.eliminarDocumentoAzure().toPromise()];case 24:return z.sent(),[4,this.sincronizacionParametros.guardarDocumentoAzure("1",r.id,"20",i,n,o)];case 25:return z.sent(),[4,this.sincronizacionParametros.obtenerAzure("facturas.xml").toPromise()];case 26:return a=z.sent(),[4,this.sincronizacionParametros.guardarDocumentoAzure("2",r.id,"01",i,n,a)];case 27:return z.sent(),[4,this.sincronizacionParametros.obtenerAzure("percepcion.xml").toPromise()];case 28:return s=z.sent(),[4,this.sincronizacionParametros.guardarDocumentoAzure("3",r.id,"40",i,n,s)];case 29:return z.sent(),[4,this.sincronizacionParametros.obtenerAzure("facturas.xml").toPromise()];case 30:return c=z.sent(),[4,this.sincronizacionParametros.guardarDocumentoAzure("4",r.id,"03",i,n,c)];case 31:return z.sent(),[4,this.sincronizacionParametros.eliminarSerie().toPromise()];case 32:return z.sent(),l=(u=this.sincronizacionParametros).guardarSerie,[4,this.sincronizacionParametros.obtenerSerie().toPromise()];case 33:return[4,l.apply(u,[z.sent()]).toPromise()];case 34:return z.sent(),[3,36];case 35:return p=z.sent(),console.log(p),this.spinner.set(!1),swal({text:"No se pudo obtener informacion de la organización.",type:"error",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"}),[2];case 36:return z.trys.push([36,56,,57]),[4,this.sincronizacionParametros.eliminarParametro().toPromise()];case 37:return z.sent(),d=(h=this.sincronizacionParametros).guardarParametro,[4,this.sincronizacionParametros.obtenerParametros().toPromise()];case 38:return[4,d.apply(h,[z.sent()]).toPromise()];case 39:return z.sent(),[4,this.sincronizacionParametros.eliminarTipoPrecioVenta().toPromise()];case 40:return z.sent(),f=(m=this.sincronizacionParametros).guardarTipoPrecioVenta,[4,this.sincronizacionParametros.obtenerTipoPrecioVenta().toPromise()];case 41:return[4,f.apply(m,[z.sent()]).toPromise()];case 42:return z.sent(),[4,this.sincronizacionParametros.eliminarTipoAfectacionIgv()];case 43:return z.sent(),b=(g=this.sincronizacionParametros).guardarTipoAfectacionIgv,[4,this.sincronizacionParametros.obtenerTipoAfectacionIgv().toPromise()];case 44:return[4,b.apply(g,[z.sent()]).toPromise()];case 45:return z.sent(),[4,this.sincronizacionParametros.eliminarTipoCalculoIsc().toPromise()];case 46:return z.sent(),C=(v=this.sincronizacionParametros).guardarTipoCalculoIsc,[4,this.sincronizacionParametros.obtenerTipoCalculoIsc().toPromise()];case 47:return[4,C.apply(v,[z.sent()]).toPromise()];case 48:return z.sent(),[4,this.sincronizacionParametros.eliminarConcepto().toPromise()];case 49:return z.sent(),y=(P=this.sincronizacionParametros).guardarConcepto,[4,this.sincronizacionParametros.obtenerConceptos().toPromise()];case 50:return[4,y.apply(P,[z.sent()]).toPromise()];case 51:return z.sent(),[4,this.sincronizacionParametros.eliminarUsuarios().toPromise()];case 52:return z.sent(),O=localStorage.getItem("org_ruc"),B=(S=this.sincronizacionParametros).guardarUsuariosOffline,[4,this.sincronizacionParametros.obtenerUsuariosOffline(O).toPromise()];case 53:return[4,B.apply(S,[z.sent()]).toPromise()];case 54:return z.sent(),[4,this.sincronizacionParametros.actualizarFechaDescarga(Number(new Date)).toPromise()];case 55:return z.sent(),this.spinner.set(!1),swal({html:'<div class="text-center"> Sincronizacion Correcta. </div>',type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"}),[3,57];case 56:return D=z.sent(),this.spinner.set(!1),swal({text:"No se pudo obtener informacion de las tablas maestras.",type:"error",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"}),[2];case 57:return[2]}})})},function(e){t.spinner.set(!1),swal({text:"No esta conectado a internet.",type:"error",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"})})];case 1:return e.sent(),[2]}})})},t.prototype.actualizarRetenciones=function(t){return v(this,void 0,void 0,function(){var e,r,i,n,o,a=this;return z(this,function(s){switch(s.label){case 0:return e=0,r=0,i=0,n=0,o=0,this.spinner.set(!0),this.spinner.set(!0),[4,this.sincronizacionRetenciones.tokenNuevo().toPromise().then(function(s){return v(a,void 0,void 0,function(){var a,c,u,l,p,h,d,p,m,f,g,b,C,P,p,y,O,S,B,D,E,p,j=this;return z(this,function(A){switch(A.label){case 0:return this.sincronizacionPercepciones.actualizarToken(s),a=function(t){return z(this,function(i){switch(i.label){case 0:return[4,c.sincronizacionRetenciones.enviarRetencionesCreadas(t).toPromise().then(function(e){return v(j,void 0,void 0,function(){var e=this;return z(this,function(i){switch(i.label){case 0:return r++,[4,this.sincronizacionRetenciones.actualizarEstadoSincronizacionRetencion(t.idComprobanteOffline).toPromise().then(function(t){return v(e,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 1:return i.sent(),[2]}})})},function(r){return v(j,void 0,void 0,function(){var i=this;return z(this,function(n){switch(n.label){case 0:return e++,[4,this.sincronizacionRetenciones.actualizarErrorRetencion(t.idComprobanteOffline,r).toPromise().then(function(t){return v(i,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 1:return n.sent(),[2]}})})})];case 1:return i.sent(),[2]}})},c=this,u=0,[4,this.sincronizacionRetenciones.obtenerRetencionesCreadas().toPromise()];case 1:l=A.sent(),A.label=2;case 2:return u<l.length?(p=l[u],[5,a(p)]):[3,5];case 3:A.sent(),A.label=4;case 4:return u++,[3,2];case 5:return h=0,[4,this.sincronizacionRetenciones.obtenerRetencionesPendientes().toPromise().then(function(t){return v(j,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 6:d=A.sent(),A.label=7;case 7:return h<d.length?(p=d[h],f=(m=this.sincronizacionRetenciones).guardarRetencionDescargada,[4,this.sincronizacionRetenciones.obtenerRetencion(p.id).toPromise()]):[3,11];case 8:return[4,f.apply(m,[A.sent()]).toPromise()];case 9:A.sent(),A.label=10;case 10:return h++,[3,7];case 11:return g=function(t){return z(this,function(e){switch(e.label){case 0:return[4,b.sincronizacionRetenciones.enviarRetencionBaja(t).toPromise().then(function(e){return v(j,void 0,void 0,function(){return z(this,function(r){switch(r.label){case 0:return o++,[4,this.sincronizacionRetenciones.actualizarRetencionBaja(t.idComprobanteOffline,e.numeroComprobante).toPromise()];case 1:return r.sent(),[2]}})})},function(e){return v(j,void 0,void 0,function(){return z(this,function(e){switch(e.label){case 0:return n++,console.log(t),[4,this.sincronizacionRetenciones.actualizarErrorRetencionBaja(t.idComprobanteOffline).toPromise()];case 1:return e.sent(),[2]}})})})];case 1:return e.sent(),[2]}})},b=this,C=0,[4,this.sincronizacionRetenciones.obtenerRetencionBajas().toPromise().then(function(t){return v(j,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 12:P=A.sent(),A.label=13;case 13:return C<P.length?(p=P[C],[5,g(p)]):[3,16];case 14:A.sent(),A.label=15;case 15:return C++,[3,13];case 16:return[4,this.sincronizacionRetenciones.descargarRetenciones(t).toPromise()];case 17:if(y=A.sent(),console.log(t),!y.totalElements)return[3,26];O=0,A.label=18;case 18:return 10*O<y.totalElements?[4,this.sincronizacionRetenciones.descargarRetencionesPagina(O,t).toPromise()]:[3,26];case 19:S=A.sent(),B="",D=0,E=S.content,A.label=20;case 20:return D<E.length?(p=E[D],i++,[4,this.sincronizacionRetenciones.guardarRetencionDescargada(p).toPromise()]):[3,23];case 21:A.sent(),B=p.tsFechaemision,A.label=22;case 22:return D++,[3,20];case 23:return[4,this.sincronizacionRetenciones.actualizarFechaDescarga(B).toPromise()];case 24:A.sent(),A.label=25;case 25:return O++,[3,18];case 26:return[4,this.sincronizacionRetenciones.actualizarFechaDescarga(Number(new Date)).toPromise()];case 27:return A.sent(),swal({text:"Sincronizacion Correcta",html:'<p class="text-center">Retenciones enviadas Correctamente: '+r+'</p><p class="text-center">Retenciones con errores: '+e+'</p> <p class="text-center">Resumen de bajas Correctas:'+o+'</p> <p class="text-center">Resumen de bajas con Errores: '+n+'</p> <p class="text-center">Retenciones Actualizadas:'+i+"</p>",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"}),this.spinner.set(!1),[2]}})})},function(t){a.spinner.set(!1),swal({text:"No esta conectado a internet.",type:"error",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"})})];case 1:return s.sent(),[2]}})})},t.prototype.actualizarPercepciones=function(t){return v(this,void 0,void 0,function(){var e,r,i,n,o,a=this;return z(this,function(s){switch(s.label){case 0:return e=0,r=0,i=0,n=0,o=0,this.spinner.set(!0),[4,this.sincronizacionPercepciones.tokenNuevo().toPromise().then(function(s){return v(a,void 0,void 0,function(){var a,c,u,l,p,h,d,p,m,f,g,b,C,P,p,y,O,S,B,D,E,p,j=this;return z(this,function(A){switch(A.label){case 0:return this.sincronizacionPercepciones.actualizarToken(s),a=function(t){return z(this,function(i){switch(i.label){case 0:return[4,c.sincronizacionPercepciones.enviarPercepcionesCreadas(t).toPromise().then(function(e){return v(j,void 0,void 0,function(){var i=this;return z(this,function(n){switch(n.label){case 0:return r++,[4,this.sincronizacionPercepciones.actualizarEstadoSincronizacionPercepcion(t.idComprobanteOffline).toPromise().then(function(t){return v(i,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 1:return n.sent(),[2,e]}})})},function(r){return v(j,void 0,void 0,function(){var i=this;return z(this,function(n){switch(n.label){case 0:return e++,[4,this.sincronizacionPercepciones.actualizarErrorPercepcion(t.idComprobanteOffline,r).toPromise().then(function(t){return v(i,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 1:return n.sent(),[2,r]}})})})];case 1:return i.sent(),[2]}})},c=this,u=0,[4,this.sincronizacionPercepciones.obtenerPercepcionesCreadas().toPromise()];case 1:l=A.sent(),A.label=2;case 2:return u<l.length?(p=l[u],[5,a(p)]):[3,5];case 3:A.sent(),A.label=4;case 4:return u++,[3,2];case 5:return h=0,[4,this.sincronizacionPercepciones.obtenerPercepcionesPendientes().toPromise().then(function(t){return v(j,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 6:d=A.sent(),A.label=7;case 7:return h<d.length?(p=d[h],f=(m=this.sincronizacionPercepciones).guardarPercepcionDescargada,[4,this.sincronizacionPercepciones.obtenerPercepcion(p.id).toPromise().then(function(t){return v(j,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return v(j,void 0,void 0,function(){return z(this,function(t){return[2,null]})})})]):[3,11];case 8:return[4,f.apply(m,[A.sent()]).toPromise()];case 9:A.sent(),A.label=10;case 10:return h++,[3,7];case 11:return g=function(t){return z(this,function(e){switch(e.label){case 0:return[4,b.sincronizacionPercepciones.enviarPercepcionBaja(t).toPromise().then(function(e){return v(j,void 0,void 0,function(){return z(this,function(r){switch(r.label){case 0:return o++,[4,this.sincronizacionPercepciones.actualizarPercepcionBaja(t.idComprobanteOffline,e.numeroComprobante).toPromise()];case 1:return r.sent(),[2]}})})},function(e){return v(j,void 0,void 0,function(){return z(this,function(e){switch(e.label){case 0:return n++,console.log(t),[4,this.sincronizacionPercepciones.actualizarErrorPercepcionBaja(t.idComprobanteOffline).toPromise()];case 1:return e.sent(),[2]}})})})];case 1:return e.sent(),[2]}})},b=this,C=0,[4,this.sincronizacionPercepciones.obtenerPercepcionBajas().toPromise().then(function(t){return v(j,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 12:P=A.sent(),A.label=13;case 13:return C<P.length?(p=P[C],[5,g(p)]):[3,16];case 14:A.sent(),A.label=15;case 15:return C++,[3,13];case 16:return[4,this.sincronizacionPercepciones.descargarPercepciones(t).toPromise()];case 17:if(y=A.sent(),!y.totalElements)return[3,26];O=0,A.label=18;case 18:return 10*O<y.totalElements?[4,this.sincronizacionPercepciones.descargarPercepcionesPagina(O,t).toPromise()]:[3,26];case 19:S=A.sent(),B="",D=0,E=S.content,A.label=20;case 20:return D<E.length?(p=E[D],i++,[4,this.sincronizacionPercepciones.guardarPercepcionDescargada(p).toPromise()]):[3,23];case 21:A.sent(),B=p.tsFechaemision,A.label=22;case 22:return D++,[3,20];case 23:return[4,this.sincronizacionRetenciones.actualizarFechaDescarga(B).toPromise()];case 24:A.sent(),A.label=25;case 25:return O++,[3,18];case 26:return[4,this.sincronizacionPercepciones.actualizarFechaDescarga(Number(new Date)).toPromise()];case 27:return A.sent(),this.spinner.set(!1),swal({text:"Sincronizacion Correcta",html:'<p class="text-center">Percepcion enviadas Correctamente: '+r+'</p> <p class="text-center">Percepcion con errores: '+e+'</p> <p class="text-center">Resumen de bajas Correctas: '+o+'</p> <p class="text-center">Resumen de bajas con Errores: '+n+'</p> <p class="text-center">Percepcion Actualizadas:'+i+"</p>",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"}),[2,s]}})})},function(t){a.spinner.set(!1),swal({text:"No esta conectado a internet.",type:"error",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"})})];case 1:return s.sent(),[2]}})})},t.prototype.actualizarBoletas=function(t){return v(this,void 0,void 0,function(){var e,r,i,n,o,a=this;return z(this,function(s){switch(s.label){case 0:return e=0,r=0,i=0,n=0,o=0,this.spinner.set(!0),[4,this.sincronizacionBoletas.tokenNuevo().toPromise().then(function(s){return v(a,void 0,void 0,function(){var a,c,u,l,p,h,d,p,m,f,g,b,C,P,p,y,O,S,B,D,E,p,j=this;return z(this,function(A){switch(A.label){case 0:return this.sincronizacionBoletas.actualizarToken(s),a=function(t){return z(this,function(i){switch(i.label){case 0:return console.log(t),[4,c.sincronizacionBoletas.enviarBoletasCreadas(t).toPromise().then(function(e){return v(j,void 0,void 0,function(){var e=this;return z(this,function(i){switch(i.label){case 0:return r++,[4,this.sincronizacionBoletas.actualizarEstadoSincronizacionBoleta(t.idComprobanteOffline).toPromise().then(function(t){return v(e,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 1:return i.sent(),[2]}})})},function(r){return v(j,void 0,void 0,function(){var i=this;return z(this,function(n){switch(n.label){case 0:return e++,[4,this.sincronizacionBoletas.actualizarErrorBoleta(t.idComprobanteOffline,r).toPromise().then(function(t){return v(i,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 1:return n.sent(),[2]}})})})];case 1:return i.sent(),[2]}})},c=this,u=0,[4,this.sincronizacionBoletas.obtenerBoletasCreadas().toPromise()];case 1:l=A.sent(),A.label=2;case 2:return u<l.length?(p=l[u],[5,a(p)]):[3,5];case 3:A.sent(),A.label=4;case 4:return u++,[3,2];case 5:return h=0,[4,this.sincronizacionBoletas.obtenerBoletasPendientes().toPromise().then(function(t){return v(j,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 6:d=A.sent(),A.label=7;case 7:return h<d.length?(p=d[h],f=(m=this.sincronizacionBoletas).guardarBoletaDescargada,[4,this.sincronizacionBoletas.obtenerBoleta(p.id).toPromise()]):[3,11];case 8:return[4,f.apply(m,[A.sent()]).toPromise()];case 9:A.sent(),A.label=10;case 10:return h++,[3,7];case 11:return g=function(t){return z(this,function(e){switch(e.label){case 0:return[4,b.sincronizacionBoletas.enviarBoletaBaja(t).toPromise().then(function(e){return v(j,void 0,void 0,function(){return z(this,function(r){switch(r.label){case 0:return o++,[4,this.sincronizacionBoletas.actualizarBoletaBaja(t.idComprobanteOffline,e.numeroComprobante).toPromise()];case 1:return r.sent(),[2]}})})},function(e){return v(j,void 0,void 0,function(){return z(this,function(e){switch(e.label){case 0:return n++,[4,this.sincronizacionBoletas.actualizarErrorBoletaBaja(t.idComprobanteOffline).toPromise()];case 1:return e.sent(),[2]}})})})];case 1:return e.sent(),[2]}})},b=this,C=0,[4,this.sincronizacionBoletas.obtenerBoletaBajas().toPromise().then(function(t){return v(j,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 12:P=A.sent(),A.label=13;case 13:return C<P.length?(p=P[C],[5,g(p)]):[3,16];case 14:A.sent(),A.label=15;case 15:return C++,[3,13];case 16:return[4,this.sincronizacionBoletas.descargarBoletas(t).toPromise()];case 17:if(y=A.sent(),!y.totalElements)return[3,26];O=0,A.label=18;case 18:return 10*O<y.totalElements?[4,this.sincronizacionBoletas.descargarBoletasPagina(O,t).toPromise()]:[3,26];case 19:S=A.sent(),B="",D=0,E=S.content,A.label=20;case 20:return D<E.length?(p=E[D],i++,[4,this.sincronizacionBoletas.guardarBoletaDescargada(p).toPromise()]):[3,23];case 21:A.sent(),B=p.tsFechaemision,A.label=22;case 22:return D++,[3,20];case 23:return[4,this.sincronizacionBoletas.actualizarFechaDescarga(B).toPromise()];case 24:A.sent(),A.label=25;case 25:return O++,[3,18];case 26:return[4,this.sincronizacionBoletas.actualizarFechaDescarga(Number(new Date)).toPromise()];case 27:return A.sent(),this.spinner.set(!1),swal({text:"Sincronizacion Correcta",html:'<p class="text-center">Boletas enviadas Correctamente: '+r+'</p> <p class="text-center">Boletas con errores: '+e+'</p> <p class="text-center">Resumen de bajas Correctas: '+o+'</p> <p class="text-center">Resumen de bajas con Errores: '+n+'</p> <p class="text-center">Boletas Actualizadas:'+i+"</p>",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"}),[2]}})})},function(t){a.spinner.set(!1),swal({text:"No esta conectado a internet.",type:"error",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"})})];case 1:return s.sent(),[2]}})})},t.prototype.actualizarFacturas=function(t){return v(this,void 0,void 0,function(){var e,r,i,n,o,a=this;return z(this,function(s){switch(s.label){case 0:return e=0,r=0,i=0,n=0,o=0,this.spinner.set(!0),[4,this.sincronizacionFacturas.tokenNuevo().toPromise().then(function(s){return v(a,void 0,void 0,function(){var a,c,u,l,p,h,d,p,m,f,g,b,C,P,p,y,O,S,B,D,E,p,j=this;return z(this,function(A){switch(A.label){case 0:return this.sincronizacionFacturas.actualizarToken(s),a=function(t){return z(this,function(e){switch(e.label){case 0:return[4,c.sincronizacionFacturas.enviarFacturasCreadas(t).toPromise().then(function(e){return v(j,void 0,void 0,function(){var i=this;return z(this,function(n){switch(n.label){case 0:return[4,this.sincronizacionFacturas.actualizarEstadoSincronizacionFactura(t.idComprobanteOffline).toPromise().then(function(t){return v(i,void 0,void 0,function(){return z(this,function(e){return r++,[2,t]})})},function(t){return null})];case 1:return n.sent(),[2,e]}})})},function(e){return v(j,void 0,void 0,function(){var r=this;return z(this,function(i){switch(i.label){case 0:return[4,this.sincronizacionFacturas.actualizarErrorFactura(t.idComprobanteOffline,e).toPromise().then(function(t){return v(r,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 1:return i.sent(),[2,e]}})})})];case 1:return e.sent(),[2]}})},c=this,u=0,[4,this.sincronizacionFacturas.obtenerFacturasCreadas().toPromise()];case 1:l=A.sent(),A.label=2;case 2:return u<l.length?(p=l[u],[5,a(p)]):[3,5];case 3:A.sent(),A.label=4;case 4:return u++,[3,2];case 5:return h=0,[4,this.sincronizacionFacturas.obtenerFacturasPendientes().toPromise().then(function(t){return v(j,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 6:d=A.sent(),A.label=7;case 7:return h<d.length?(p=d[h],f=(m=this.sincronizacionFacturas).guardarFacturaDescargada,[4,this.sincronizacionFacturas.obtenerFactura(p.id).toPromise().then(function(t){return v(j,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return v(j,void 0,void 0,function(){return z(this,function(t){return[2,null]})})})]):[3,11];case 8:return[4,f.apply(m,[A.sent()]).toPromise()];case 9:A.sent(),A.label=10;case 10:return h++,[3,7];case 11:return g=function(t){return z(this,function(e){switch(e.label){case 0:return[4,b.sincronizacionFacturas.enviarFacturaBaja(t).toPromise().then(function(e){return v(j,void 0,void 0,function(){return z(this,function(r){switch(r.label){case 0:return o++,[4,this.sincronizacionFacturas.actualizarFacturaBaja(t.idComprobanteOffline,e.numeroComprobante).toPromise()];case 1:return r.sent(),[2]}})})},function(e){return v(j,void 0,void 0,function(){return z(this,function(e){switch(e.label){case 0:return console.log(t),n++,[4,this.sincronizacionFacturas.actualizarErrorFacturaBaja(t.idComprobanteOffline).toPromise()];case 1:return e.sent(),[2]}})})})];case 1:return e.sent(),[2]}})},b=this,C=0,[4,this.sincronizacionFacturas.obtenerFacturaBajas().toPromise().then(function(t){return v(j,void 0,void 0,function(){return z(this,function(e){return[2,t]})})},function(t){return null})];case 12:P=A.sent(),A.label=13;case 13:return C<P.length?(p=P[C],[5,g(p)]):[3,16];case 14:A.sent(),A.label=15;case 15:return C++,[3,13];case 16:return[4,this.sincronizacionFacturas.descargarFacturas(t).toPromise()];case 17:if(y=A.sent(),!y.totalElements)return[3,26];O=0,A.label=18;case 18:return 10*O<y.totalElements?[4,this.sincronizacionFacturas.descargarFacturasPagina(O,t).toPromise()]:[3,26];case 19:S=A.sent(),B="",D=0,E=S.content,A.label=20;case 20:return D<E.length?(p=E[D],[4,this.sincronizacionFacturas.guardarFacturaDescargada(p).toPromise()]):[3,23];case 21:A.sent(),i++,B=p.tsFechaemision,A.label=22;case 22:return D++,[3,20];case 23:return[4,this.sincronizacionFacturas.actualizarFechaDescarga(B).toPromise()];case 24:A.sent(),A.label=25;case 25:return O++,[3,18];case 26:return[4,this.sincronizacionFacturas.actualizarFechaDescarga(Number(new Date)).toPromise()];case 27:return A.sent(),this.spinner.set(!1),swal({text:"Sincronizacion Correcta",html:'<p class="text-center">Facturas enviadas Correctamente: '+r+'</p> <p class="text-center">Facturas con errores: '+e+'</p> <p class="text-center">Resumen de bajas Correctas: '+o+'</p> <p class="text-center">Resumen de bajas con Error: '+n+'</p> <p class="text-center">Facturas Actualizadas:'+i+"</p>",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"}),[2,s]}})})},function(t){a.spinner.set(!1),swal({text:"No esta conectado a internet.",type:"error",buttonsStyling:!1,confirmButtonClass:"btn btn-error",confirmButtonText:"CONTINUAR"})})];case 1:return s.sent(),[2]}})})},t}();g([r.i(i.ViewChild)("tablaNormal"),b("design:type","function"==typeof(P=void 0!==s.a&&s.a)&&P||Object)],C.prototype,"tabla",void 0),C=g([r.i(i.Component)({selector:"app-sincronizacion",template:r("./src/app/facturacion-electronica/sincronizacion/sincronizacion.component.html"),providers:[o.a,l.a,h.a,d.a,m.a,f.a],styleUrls:[]}),b("design:paramtypes",["function"==typeof(y=void 0!==n.c&&n.c)&&y||Object,"function"==typeof(O=void 0!==o.a&&o.a)&&O||Object,"function"==typeof(S=void 0!==l.a&&l.a)&&S||Object,"function"==typeof(B=void 0!==m.a&&m.a)&&B||Object,"function"==typeof(D=void 0!==h.a&&h.a)&&D||Object,"function"==typeof(E=void 0!==d.a&&d.a)&&E||Object,"function"==typeof(j=void 0!==f.a&&f.a)&&j||Object,"function"==typeof(A=void 0!==a.a&&a.a)&&A||Object,"function"==typeof(T=void 0!==u.a&&u.a)&&T||Object,"function"==typeof(w=void 0!==p.a&&p.a)&&w||Object])],C);var P,y,O,S,B,D,E,j,A,T,w},"./src/app/facturacion-electronica/sincronizacion/sincronizacion.module.ts":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("./node_modules/@angular/core/@angular/core.es5.js"),n=r("./node_modules/@angular/common/@angular/common.es5.js"),o=r("./node_modules/@ngx-translate/core/index.js"),a=r("./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacion.service.ts"),s=r("./src/app/facturacion-electronica/general/services/sincronizacion/parametros.service.ts"),c=r("./src/app/facturacion-electronica/sincronizacion/sincronizacion.component.ts"),u=r("./src/app/facturacion-electronica/sincronizacion/sincronizacion.routing.module.ts"),l=r("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),p=r("./src/app/service/login.service.ts"),h=r("./src/app/facturacion-electronica/general/services/sincronizacion/SincronizacionRetenciones.ts");r.d(e,"SincronizacionModule",function(){return m});var d=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},m=function(){function t(){}return t}();m=d([r.i(i.NgModule)({imports:[n.CommonModule,o.a,u.a],declarations:[c.a],providers:[a.a,h.a,s.a,l.a,p.a]})],m)},"./src/app/facturacion-electronica/sincronizacion/sincronizacion.routing.module.ts":function(t,e,r){"use strict";var i=r("./node_modules/@angular/core/@angular/core.es5.js"),n=r("./node_modules/@angular/router/@angular/router.es5.js"),o=r("./src/app/facturacion-electronica/sincronizacion/sincronizacion.component.ts");r.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},s=[{path:"",children:[{path:"",pathMatch:"full",redirectTo:"sincronizar"},{path:"sincronizar",component:o.a}]}],c=function(){function t(){}return t}();c=a([r.i(i.NgModule)({imports:[n.a.forChild(s)],exports:[n.a]})],c)}});