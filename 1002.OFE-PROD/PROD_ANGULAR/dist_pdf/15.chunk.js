webpackJsonp([15],{"./src/app/ordencompra/comprador/buscar/ordencompracompradorbuscar.component.html":function(r,t){r.exports='<div class="main-content">\r\n    <div class="container-fluid">\r\n        <div class="row">\r\n            <div class="col-sm-12">\r\n                <div class="card">\r\n                    <form method="#" action="#">\r\n                        <div class="card-header card-header-text" data-background-color="blue">\r\n                            <h4 class="card-title">Buscar Orden de Compra</h4>\r\n                        </div>\r\n                        <div class="card-content">\r\n                            <div class="row">\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">N째 Orden de compra\r\n                                        </label>\r\n                                        <input [(ngModel)]="filtro.nroordencompra" name="nroordencompra" type="text" class="form-control">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">Estado</label>\r\n                                        <select name="estado" class="form-control" [(ngModel)]="filtro.estado">\r\n                                            <option value="NONE">TODOS</option>\r\n                                            <option *ngFor="let optEstado of listEstadoCombo" value="{{optEstado.valor}}"> {{optEstado.desc}} </option>           \r\n           \r\n\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group">\r\n                                        <label class="label-on-left">Tipo Orden de Compra</label>\r\n                                        <div class="togglebutton">\r\n                                            <label>\r\n                                                <input type="checkbox" [checked]="filtro.material" (change)="filtro.material = !filtro.material" > Material\r\n                                            </label>\r\n                                            <label>\r\n                                                <input type="checkbox" [checked]="filtro.servicio"  (change)="filtro.servicio = !filtro.servicio" > Servicio\r\n                                        </label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div class="row">\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">Fecha Registro Del</label>\r\n                                        <input type="text" class="form-control"  [(ngModel)]="filtro.fechacreacioninicio" name="fechacreacioninicio" datepicker />\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">al</label>\r\n                                        <input type="text" [(ngModel)]="filtro.fechacreacionfin" name="fechacreacionfin"  class="form-control" datepicker />\r\n                                    </div>\r\n                                </div>\r\n                               \r\n\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group">\r\n                                        <button *ngIf="botonBuscar.visible" [disabled]="!botonBuscar.habilitado" class="btn btn-default" (click)="clicked($event)" >{{botonBuscar.Titulo}}</button>\r\n                                        <button *ngIf="botonBuscar.visible" [disabled]="!botonBuscar.habilitado" class="btn btn-default" (click)="limpiar($event)" >Limpiar</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <nav class="navbar navbar-info" role="navigation">\r\n                                <div class="container-fluid">\r\n                                   <div class="navbar-header">\r\n\r\n                                        <span class="navbar-brand">Resultados</span>\r\n                                    </div>\r\n \x3c!-- \r\n                                   <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\r\n                                        <ul class="nav navbar-nav">\r\n\r\n\r\n                                            <li><a href="javascript:void(0)">Crear</a></li>\r\n                                            <li><a href="javascript:void(0)">Copiar</a></li>\r\n                                            <li><a href="javascript:void(0)">Modificar</a></li>\r\n                                            <li><a href="javascript:void(0)">Activar</a></li>\r\n                                            <li><a href="javascript:void(0)">Anular</a></li>\r\n                                           \r\n\r\n                                        </ul>\r\n                                    </div>--\x3e\r\n                                </div>\r\n                            </nav>\r\n                            <div class="material-datatables table-responsive">\r\n                                <table id="dtResultados" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            \x3c!--<th class="disabled-sorting text-right">\r\n                                                <div class="checkbox text-right">\r\n                                                    <label><input type="checkbox" name="optionsCheckboxes" class="checkall" ></label>\r\n                                                </div>\r\n                                            </th> --\x3e\r\n                                            <th>Nro. O.C.</th>\r\n                                            <th>Estado</th>\r\n                                            <th>Tipo de Orden</th>\r\n                                            <th>Usuario Comprador</th>\r\n                                            <th>Organizaci처n Proveedora</th>\r\n                                            <th>Atenci처n A</th>\r\n                                            <th>Versi처n</th>\r\n                                            <th>Total</th>\r\n                                            <th>Fecha Registro</th>\r\n                                            <th class="disabled-sorting text-center">Acciones</th>\r\n                                        </tr>\r\n                                    </thead>\r\n\r\n                                </table>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},"./src/app/ordencompra/comprador/buscar/ordencompracompradorbuscar.component.ts":function(r,t,n){"use strict";function o(){g=$("#dtResultados").on("draw.dt",function(r,t,n){DatatableFunctions.initDatatable(r,t,n,g)}).DataTable({order:[[8,"desc"]],searching:!1,serverSide:!0,ajax:{beforeSend:function(r){b.util.tokenValid()&&(r.setRequestHeader("Authorization","Bearer "+localStorage.getItem("access_token")),r.setRequestHeader("origen_datos","PEB2M"),r.setRequestHeader("tipo_empresa","C"),r.setRequestHeader("org_id",localStorage.getItem("org_id")),r.setRequestHeader("Ocp-Apim-Subscription-Key",localStorage.getItem("Ocp_Apim_Subscription_Key")))},url:c.n,dataSrc:"data",data:function(r){if(""!=b.filtro.nroordencompra&&(r.NumeroOrden=b.filtro.nroordencompra.trim()),"NONE"!=b.filtro.estado&&(r.EstadoOrden=b.filtro.estado),b.filtro.fechacreacioninicio){var t=DatatableFunctions.ConvertStringToDatetime(b.filtro.fechacreacioninicio);r.FechaRegistroInicio=DatatableFunctions.FormatDatetimeForMicroService(t)}if(b.filtro.fechacreacionfin){var n=DatatableFunctions.AddDayEndDatetime(DatatableFunctions.ConvertStringToDatetime(b.filtro.fechacreacionfin));r.FechaRegistroFin=DatatableFunctions.FormatDatetimeForMicroService(n)}var o=[];b.filtro.material&&o.push("M"),b.filtro.servicio&&o.push("S"),r.TipoOrden=o.join(","),r.column_names="CodigoOrden,NumeroOrden,Fecha,EstadoOrden,TipoOrden,AtencionA,NITComprador,UsuarioComprador,RazonSocialComprador,NITVendedor,UsuarioProveedor,NombreVendedor,ValorTotal,MonedaOrden,FechaCreacion,NumeroRfq,Version,FechaRegistro"}},columns:[{data:"NumeroOrden",name:"NumeroOrden"},{data:"EstadoOrden",name:"EstadoOrden"},{data:"TipoOrden",name:"TipoOrden"},{data:"UsuarioComprador",name:"UsuarioComprador"},{data:"NombreVendedor",name:"NombreVendedor"},{data:"AtencionA",name:"AtencionA"},{data:"Version",name:"Version"},{data:"ValorTotal",name:"ValorTotal"},{data:"FechaRegistro",name:"FechaRegistro"},{data:"CodigoOrden",name:"CodigoOrden"}],columnDefs:[{className:"text-center",targets:[0,1,2,3,4,5,6,7,8,9]},{render:function(r,t,n){return DatatableFunctions.ReplaceToken(n.AtencionA)},targets:5},{render:function(r,t,n){return n.MonedaOrden+" "+DatatableFunctions.FormatNumber(n.ValorTotal)},targets:7},{render:function(r,t,n){var o="",e='href="/ordencompra/comprador/formulario/'+n.CodigoOrden+'"';return b.botonDetalle.habilitado||(o="disabled",e=""),'<div class="text-center"><a '+e+' nroordencompra="'+n.CodigoOrden+'"><button class="btn btn-simple btn-info btn-icon edit" rel="tooltip" title="Ver" data-placement="left" '+o+'><i class="material-icons">visibility</i></button></a></button></div>'},targets:9,orderable:!1}]}),g.on("click",".edit",function(r){if(console.log(b.botonDetalle.habilitado),b.botonDetalle.habilitado){var t=$(this).closest("tr"),n=(g.row(t).data(),t.find("a").attr("nroordencompra")),o=["/ordencompra/comprador/formulario",n];b.navigate(o)}r.preventDefault()})}var e=n("./node_modules/@angular/core/@angular/core.es5.js"),a=n("./node_modules/@angular/router/@angular/router.es5.js"),i=n("./src/app/utils/app.utils.ts"),l=n("./src/app/service/masterservice.ts"),s=n("./src/app/service/login.service.ts"),d=n("./node_modules/@angular/common/@angular/common.es5.js"),c=n("./src/app/utils/app.constants.ts"),p=n("./src/app/model/menu.ts");n.d(t,"a",function(){return u});var b,g,m=this&&this.__decorate||function(r,t,n,o){var e,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(r,t,n,o);else for(var l=r.length-1;l>=0;l--)(e=r[l])&&(i=(a<3?e(i):a>3?e(t,n,i):e(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},f=this&&this.__metadata||function(r,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,t)},u=function(){function r(r,t,n,o,e,a){this.router=t,this.route=n,this._masterService=o,this._securityService=e,this.cdRef=a,this.botonBuscar=new p.a,this.botonDetalle=new p.a,this.url_main_module_page="/ordencompra/comprador/buscar",this.location=r,this.util=new i.a(this.router,this._masterService),this.botonBuscar=new p.a,this.botonDetalle=new p.a}return r.prototype.navigate=function(r){this.router.navigate(r,{relativeTo:this.route})},r.prototype.obtenerBotones=function(){var r=this,t=this._securityService.ObtenerBotonesCache(this.url_main_module_page);t?this.configurarBotones(t):this._securityService.obtenerBotones(this.url_main_module_page).subscribe(function(t){b.configurarBotones(t),b._securityService.guardarBotonesLocalStore(r.url_main_module_page,t)},function(r){return console.log(r)},function(){})},r.prototype.configurarBotones=function(r){r&&r.length>0&&(this.botonBuscar=r.find(function(r){return"buscar"===r.nombre})?r.find(function(r){return"buscar"===r.nombre}):this.botonBuscar,this.botonDetalle=r.find(function(r){return"detalle"===r.nombre})?r.find(function(r){return"detalle"===r.nombre}):this.botonDetalle)},r.prototype.validarfiltros=function(){if(0==this.filtro.material&&0==this.filtro.servicio)return swal({text:"Tipo Orden de Compra es un campo requerido.",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning"}),!1;if(null==this.filtro.fechacreacioninicio||""==this.filtro.fechacreacioninicio.toString())return swal({text:"Fecha de Registro inicio es un campo requerido.",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning"}),!1;if(null==this.filtro.fechacreacionfin||""==this.filtro.fechacreacionfin.toString())return swal({text:"Fecha de Registro fin es un campo requerido.",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning"}),!1;if(null!=this.filtro.fechacreacioninicio&&""!=this.filtro.fechacreacioninicio.toString()&&null!=this.filtro.fechacreacionfin&&""!=this.filtro.fechacreacionfin.toString()){var r=DatatableFunctions.ConvertStringToDatetime(b.filtro.fechacreacioninicio),t=DatatableFunctions.ConvertStringToDatetime(b.filtro.fechacreacionfin);if(moment(t).diff(r,"days")>30)return swal({text:'El filtro de b첬squeda "Fecha de Registro" debe tener un rango m찼ximo de 30 d챠as entre la Fecha Inicial y la Fecha Fin.',type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning"}),!1;if(DatatableFunctions.FormatDatetimeForMicroService(r)>DatatableFunctions.FormatDatetimeForMicroService(t))return swal({text:"El rango de Fechas de registro seleccionado no es correcto. La Fecha Inicial es mayor a la Fecha Fin.",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning"}),!1}return!0},r.prototype.clicked=function(r){this.validarfiltros()&&g.ajax.reload(),r.preventDefault()},r.prototype.limpiar=function(r){this.filtroDefecto(),setTimeout(function(){$("input").each(function(){$(this).val()||""!=$(this).val()||$(this.parentElement).addClass("is-empty")})},200),r.preventDefault()},r.prototype.filtroDefecto=function(){var r=new Date;r.setDate(r.getDate()-30),this.filtro={nroordencompra:"",estado:"NONE",fechacreacioninicio:r,fechacreacionfin:new Date,material:!0,servicio:!0}},r.prototype.ngOnInit=function(){b=this,this.util.listEstadoOC(function(r){b.listEstadoCombo=r}),this.filtroDefecto()},r.prototype.ngAfterViewInit=function(){o(),DatatableFunctions.registerCheckAll(),this.obtenerBotones()},r.prototype.ngAfterViewChecked=function(){this.cdRef.detectChanges()},r}();u=m([n.i(e.Component)({selector:"ordencompracompradorbuscar-cmp",template:n("./src/app/ordencompra/comprador/buscar/ordencompracompradorbuscar.component.html"),providers:[l.a,s.a]}),f("design:paramtypes",["function"==typeof(v=void 0!==d.Location&&d.Location)&&v||Object,"function"==typeof(h=void 0!==a.c&&a.c)&&h||Object,"function"==typeof(x=void 0!==a.b&&a.b)&&x||Object,"function"==typeof(y=void 0!==l.a&&l.a)&&y||Object,"function"==typeof(w=void 0!==s.a&&s.a)&&w||Object,"function"==typeof(C=void 0!==e.ChangeDetectorRef&&e.ChangeDetectorRef)&&C||Object])],u);var v,h,x,y,w,C},"./src/app/ordencompra/comprador/formulario/ordencompracompradorformulario.component.html":function(r,t){r.exports='<div class="main-content">\r\n  <div class="container-fluid">\r\n    <div class="row">\r\n      <div class="col-sm-12">\r\n        <div class="card">\r\n          <form method="#" action="#">\r\n            <div class="card-header card-header-text" data-background-color="blue">\r\n              <h4 class="card-title">Orden de Compra</h4>\r\n            </div>\r\n            <div class="card-content">\r\n              <div class="row">\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Organizaci처n Compradora\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="comprador" [(ngModel)]="item.comprador" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">RUC Organizaci처n Compradora\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="ruccomprador" [(ngModel)]="item.ruccomprador" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Fecha de Emisi처n\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="fecharegistro" [(ngModel)]="item.fecharegistro" datepicker required type="text" class="form-control" disabled>\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Orden de {{item.tipo}}\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="nroordencompra" [(ngModel)]="item.nroordencompra" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n\r\n\r\n\r\n\r\n              </div>\r\n              <div class="row">\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Organizaci처n Proveedora\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="proveedor" [(ngModel)]="item.proveedor" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">RUC Proveedor\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="rucproveedor" [(ngModel)]="item.rucproveedor" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">C처digo Proveedor\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="codigoproveedor" [(ngModel)]="item.codigoproveedor" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n\r\n\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Versi처n OC\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="version" [(ngModel)]="item.version" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="col-sm-2">\r\n\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Estado Web</label>\r\n\r\n\r\n                    <select id="estadocomprador" name="estadocomprador" class="form-control" [(ngModel)]="item.estadocomprador" [disabled]="toggleButton">\r\n                      <option value=""></option>\r\n                      <option *ngFor="let optEstado of listEstadoCombo" value="{{optEstado.valor}}"> {{optEstado.desc}} </option>           \r\n\r\n\r\n                  </select>\r\n\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n              <div class="row">\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Atenci처n a\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea name="atenciona" [(ngModel)]="item.atenciona" required type="text" class="form-control" rows="3" [disabled]="toggleButton"> </textarea>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Contactar con\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea name="contactarcon" [(ngModel)]="item.contactarcon" required type="text" class="form-control" rows="3" [disabled]="toggleButton"> </textarea>\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Creado por \r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea name="creadorpor" [(ngModel)]="item.creadorpor" required type="text" class="form-control" rows="3" [disabled]="toggleButton"> </textarea>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n\r\n\r\n              <div class="row">\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Facturar a\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea [(ngModel)]="item.facturara_texto" name="facturara_texto" class="form-control" rows="4" [disabled]="toggleButton"></textarea>\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Recepci처n de Factura\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea [(ngModel)]="item.recepcionfactura_texto" name="recepcionfactura_texto" class="form-control" rows="4" [disabled]="toggleButton"></textarea>\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Grupo de Compra\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea [(ngModel)]="item.grupocompra" name="grupocompra" class="form-control" rows="4" [disabled]="toggleButton"></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n\r\n\r\n              <div class="row">\r\n                <div class="col-md-12">\r\n                  <div class="card">\r\n                    <div class="card-header card-header-icon" data-background-color="blue">\r\n                      <i class="material-icons">assignment</i>\r\n                    </div>\r\n                    <div class="card-content">\r\n                      <h4 class="card-title">Condiciones</h4>\r\n                      <div class="row">\r\n                        <div class="col-sm-3">\r\n                          <div class="form-group label-floating">\r\n                            <label class="control-label">Moneda<span class="star"></span></label>\r\n                            <input name="moneda" [(ngModel)]="item.moneda" required type="text" class="form-control" [disabled]="toggleButton">\r\n                          </div>\r\n                        </div>\r\n                        <div class="col-sm-3">\r\n                          <div class="form-group label-floating">\r\n                            <label class="control-label">Forma de Pago<span class="star"></span></label>\r\n                            <input name="formapago" [(ngModel)]="item.formapago" required type="text" class="form-control" [disabled]="toggleButton">\r\n                          </div>\r\n                        </div>\r\n                        <div class="col-sm-3">\r\n                          <div class="form-group label-floating">\r\n                            <label class="control-label">Fecha de Inicio de Contrato<span class="star"></span></label>\r\n                            <input name="fechainiciocontrato" [(ngModel)]="item.fechainiciocontrato" datepicker required type="text" class="form-control"\r\n                              disabled>\r\n                          </div>\r\n                        </div>\r\n                        <div class="col-sm-3">\r\n                          <div class="form-group label-floating">\r\n                            <label class="control-label">Fecha Fin de Contrato<span class="star"></span></label>\r\n                            <input name="fechafincontrato" [(ngModel)]="item.fechafincontrato" datepicker required type="text" class="form-control" disabled>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n\r\n                    </div>\r\n                    \x3c!-- end content--\x3e\r\n                  </div>\r\n                  \x3c!--  end card  --\x3e\r\n                </div>\r\n                \x3c!-- end col-md-12 --\x3e\r\n              </div>\r\n\r\n              <div class="row" *ngIf="this.item.condiciones_generales">\r\n                <div class="col-md-12">\r\n                  <div class="card">\r\n                    <div class="card-header card-header-icon" data-background-color="blue">\r\n                      <i class="material-icons">assignment</i>\r\n                    </div>\r\n                    <div class="card-content">\r\n                      <h4 class="card-title">Observaciones</h4>\r\n                      <div class="row">\r\n                        <div class="col-sm-12">\r\n\r\n                          <div [innerHTML]="this.item.condiciones_generales" style="text-align: left;">\r\n                          </div>\r\n\r\n\r\n\r\n                        </div>\r\n\r\n                      </div>\r\n\r\n\r\n\r\n                    </div>\r\n                    \x3c!-- end content--\x3e\r\n                  </div>\r\n                  \x3c!--  end card  --\x3e\r\n                </div>\r\n                \x3c!-- end col-md-12 --\x3e\r\n              </div>\r\n\r\n              <div class="row">\r\n                <div class="col-md-12">\r\n                  <div class="card">\r\n                    <div class="card-header card-header-icon" data-background-color="blue">\r\n                      <i class="material-icons">assignment</i>\r\n                    </div>\r\n                    <div class="card-content">\r\n                      <h4 class="card-title">Detalle de Art챠culos</h4>\r\n\r\n                      <div class="material-datatables table-responsive" style="display:block">\r\n                        <table id="dtArticulos" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">\r\n\r\n                          <thead>\r\n                            <tr>\r\n                              <th>ID</th>\r\n                              <th>Posici처n</th>\r\n\r\n                              <th>Descripci처n del Producto</th>\r\n                              <th class="disabled-sorting">Cantidad</th>\r\n                              <th class="disabled-sorting">Unidad</th>\r\n                              <th class="disabled-sorting">Precio Unitario</th>\r\n                              <th class="disabled-sorting">Precio Total</th>\r\n                              <th class="disabled-sorting">IGV</th>\r\n                              <th class="disabled-sorting">Fecha de Entrega</th>\r\n                            </tr>\r\n                          </thead>\r\n\r\n\r\n                        </table>\r\n                      </div>\r\n                      \x3c!-- end content--\x3e\r\n                    </div>\r\n                  </div>\r\n                  \x3c!--  end card  --\x3e\r\n                </div>\r\n                \x3c!-- end col-md-12 --\x3e\r\n              </div>\r\n\r\n\r\n\r\n              <div class="row">\r\n                <div class="col-sm-8">\r\n\r\n                  <div class="row">\r\n\r\n                    <div class="col-sm-12">\r\n                      <div class="form-group label-floating">\r\n                        <label class="control-label">Aprobado por<span class="star"></span></label>\r\n                        <div class="aprobadopor">\r\n                          <br/>\r\n                          <span *ngIf="item.autorizadopor">{{item.autorizadopor}}</span>\r\n                          <p *ngFor="let item of item.aprobadopor">\r\n                            Aprobado Nivel {{item.id}}: {{item.nombre}}\r\n                          </p>\r\n\r\n\r\n\r\n\r\n                          <p class="form-control" disabled>\r\n\r\n                          </p>\r\n                        </div>\r\n\r\n                      </div>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n\r\n                  <div class="row">\r\n                    <div class="col-sm-12">\r\n                      <div class="form-group label-floating">\r\n                        <label class="control-label">VALOR DE VENTA ({{item.moneda}})<span class="star"></span></label>\r\n                        <input [(ngModel)]="item.valorventa" name="valorventa" class="form-control" [disabled]="toggleButton">\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class="col-sm-12" *ngFor="let termino of item.terminos">\r\n                      <div class="form-group label-floating">\r\n                        <label class="control-label">{{termino.nombre}}<span class="star"></span></label>\r\n                        <input [(ngModel)]="termino.valor" name="valor{{termino.id}}" class="form-control" [disabled]="toggleButton">\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                    <div class="col-sm-12" *ngIf="item.tiene_condiciones">\r\n                      <div class="form-group label-floating">\r\n                        <label class="control-label">SUB TOTAL ({{item.moneda}})<span class="star"></span></label>\r\n                        <input [(ngModel)]="item.subtotal" name="subtotal" class="form-control" [disabled]="toggleButton">\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                    <div class="col-sm-12">\r\n                      <div class="form-group label-floating">\r\n                        <label class="control-label">IMPUESTOS ({{item.porcentaje_impuestos}})<span class="star"></span></label>\r\n                        <input [(ngModel)]="item.impuestos" name="impuestos" class="form-control" [disabled]="toggleButton">\r\n                      </div>\r\n                    </div>\r\n                    <div class="col-sm-12">\r\n                      <div class="form-group label-floating">\r\n                        <label class="control-label">VALOR TOTAL ({{item.moneda}})<span class="star"></span></label>\r\n                        <input [(ngModel)]="item.valortotal" name="valortotal" class="form-control" [disabled]="toggleButton">\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <div class="row">\r\n                <div class="col-sm-12">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Comentario del Proveedor acerca del cambio de estado \r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea [(ngModel)]="item.comentarioproveedor" name="comentarioproveedor" class="form-control" row="4" [disabled]="toggleButton"></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n\r\n            <div class="card-footer">\r\n              \x3c!--<button type="button" class="btn btn-fill btn-default pull-right" (click)="grabar($event)" [disabled]="toggleButton">Grabar</button>\r\n              <button (click)="toggleButton=false" class="btn btn-fill btn-default pull-right" *ngIf="id>0">Habilitar Edici처n</button>--\x3e\r\n              <a routerLink="/ordencompra/comprador/buscar" class="btn btn-fill btn-default pull-right">Regresar</a>\r\n              <button class="btn btn-fill btn-default pull-right" *ngIf="botonImprimir.visible" [disabled]="!botonImprimir.habilitado" (click)="print($event)">{{botonImprimir.Titulo}}</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div id="mdlAtributosLista" class="modal fade" tabindex="-1" role="dialog">\r\n  <div class="modal-dialog" role="document">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n\r\n        <table>\r\n          <tr>\r\n            <td>\r\n              <div class="card-header card-header-icon" data-background-color="blue">\r\n                <i class="material-icons">assignment</i>\r\n              </div>\r\n            </td>\r\n            <td class="cell-title">\r\n              <div class="card-content">\r\n                <h4 class="card-title modal-title">Atributos del Detalle</h4>\r\n\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <div class="modal-body">\r\n\r\n        <div class="card-content">\r\n          <div class="row">\r\n            <div class="col-sm-6">\r\n              <div class="form-group label-floating">\r\n                <label class="control-label">Posici처n\r\n                      <span class="star"></span>\r\n                    </label>\r\n                <input name="posicion" [(ngModel)]="producto.posicion" required type="text" class="form-control" [disabled]="toggleButton">\r\n              </div>\r\n            </div>\r\n            <div class="col-sm-6">\r\n              <div class="form-group label-floating">\r\n                <label class="control-label">Descripci처n del Producto\r\n                      <span class="star"></span>\r\n                    </label>\r\n                <input name="descripcion" [(ngModel)]="producto.descripcion" required type="text" class="form-control" [disabled]="toggleButton">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="material-datatables table-responsive">\r\n          <table id="dtAtributos" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">\r\n            <thead>\r\n              <tr>\r\n\r\n                <th>Nombre</th>\r\n                <th>Operador</th>\r\n                <th>Valor</th>\r\n                <th>Unidad</th>\r\n\r\n\r\n              </tr>\r\n            </thead>\r\n\r\n\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div class="modal-footer">\r\n        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>\r\n\r\n      </div>\r\n    </div>\r\n    \x3c!-- /.modal-content --\x3e\r\n  </div>\r\n  \x3c!-- /.modal-dialog --\x3e\r\n</div>\r\n\r\n<div style="display:none">\r\n\r\n  <div id="print-section-material" style=\'font-family: Arial, Helvetica, sans-serif;color: #000;font-size: 14px;\'>\r\n    <table width="100%" cellpadding="0" cellspacing="0" align="center" bgcolor="#ffffff" style=\'font-family: Arial, Helvetica, sans-serif;color: #000;font-size: 14px; border-collapse: collapse;\'>\r\n      <tbody>\r\n        <tr>\r\n          <td align="center">\r\n\r\n\r\n            <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff" style="border-collapse: collapse;">\r\n              <tbody>\r\n                <tr>\r\n                  <td colspan="2" bgcolor="#fff" align="left" valign="middle">\r\n                    <img *ngIf="this.item.idorgcompradora && this.item.idorgcompradora!=\'\'" src="{{this.baseurl}}assets/img/logos/{{this.item.idorgcompradora}}.png" height="110" style="padding:0; margin:0; border:0">\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td colspan="2" bgcolor="#fff" align="center" valign="middle" style="font-size: 16px;">\r\n                    <b style="font-size: 16px;">Orden de Compra {{this.item.nroordencompra}}</b><br><br>\r\n\r\n                  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                  <td width="449" bgcolor="#fff" style="border-left:1px solid #999; border-right:0; border-top:1px solid #999" align="left"\r\n                    valign="top">\r\n                    <table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-bottom:1px solid #999">\r\n                      <tbody>\r\n                        <tr>\r\n                          <td style="padding:5px; vertical-align:top;"><strong>Organizaci처n Proveedora:</strong><br> {{this.item.proveedor}}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    <table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-bottom:1px solid #999" height="75">\r\n                      <tbody>\r\n                        <tr>\r\n                          <td width="50%" height="30" style="border-right:1px solid #999; padding:5px; vertical-align:top;"><strong>RUC Proveedor:</strong><br> {{this.item.rucproveedor}}\r\n                          </td>\r\n                          <td width="50%" height="30" align="left" style="padding:5px; vertical-align:top;"><strong>C처digo Proveedor:</strong><strong></strong>\r\n                            <br> {{this.item.codigoproveedor}}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </td>\r\n                  <td width="448" align="left" valign="top" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:1px solid #999">\r\n                    <table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-bottom:1px solid #999">\r\n                      <tbody>\r\n                        <tr>\r\n                          <td style="padding:5px; vertical-align:top;"><strong>Creado por:</strong><br>\r\n                            <div [innerHTML]="this.item.creadorpor_html">\r\n                            </div>\r\n\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    <table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-bottom:1px solid #999" height="75">\r\n                      <tbody>\r\n                        <tr>\r\n                          <td width="50%" height="30" style="border-right:1px solid #999; padding:5px; vertical-align:top;"><strong>Fecha de emisi처n:</strong>\r\n                            <br>{{this.item.fecharegistro}}</td>\r\n                          <td width="25%" height="30" align="left" valign="middle" style="border-right:1px solid #999; padding:5px; vertical-align:top;"><strong>Versi처n OC:</strong><br>{{this.item.version}}\r\n                          </td>\r\n                          <td width="25%" height="30" align="left" valign="middle" style="padding:5px; vertical-align:top;"><strong>Estado Web:</strong><strong></strong> {{this.item.estado_nombre}} </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n\r\n            <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff" style="border-collapse: collapse;">\r\n              <tbody>\r\n                <tr>\r\n                  <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:0; border-top:0; padding:5px"><strong>Atenci처n a:</strong><br>\r\n                    <div [innerHTML]="this.item.atenciona_html">\r\n                    </div>\r\n                  </td>\r\n                  <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px; vertical-align:top;">\r\n                    <strong>Contactar con:</strong><br>\r\n                    <div [innerHTML]="this.item.contactarcon_html">\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n\r\n            <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff">\r\n              <tbody>\r\n                <tr>\r\n                  <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:0; border-top:1px solid #999; padding:5px; vertical-align:top;"><strong>Facturar a:</strong><br>\r\n                    <div *ngIf="!item.facturara" [innerHTML]="this.item.facturara_html">\r\n                    </div>\r\n\r\n\r\n                    <span *ngIf="item.facturara">\r\n                            <strong>Raz처n Social:</strong> {{this.item.facturara.razonsocial}}<br>                   \r\n                            <strong>RUC:</strong> {{this.item.facturara.ruc}}\r\n                            <br> <strong>Direcci처n:</strong> {{this.item.facturara.direccion}}\r\n                          </span>\r\n                  </td>\r\n                  <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:1px solid #999; padding:5px; vertical-align:top;">\r\n                    <strong>Recepci처n de Factura:</strong><br>\r\n\r\n\r\n                    <div [innerHTML]="this.item.recepcionfactura_html">\r\n                    </div>\r\n\r\n\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n\r\n            <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff">\r\n              <tbody>\r\n                <tr>\r\n                  <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:0; border-top:1px solid #999; padding:5px; vertical-align:top;"><strong>Condiciones:</strong><br>\r\n                    <strong>Moneda:</strong> {{this.item.moneda}}<br>\r\n                    <strong>Forma de Pago:</strong> {{this.item.formapago}}<br>\r\n                    <strong>Fecha de inicio de contrato:</strong> {{this.item.fechainiciocontrato}}<br>\r\n                    <strong>Fecha fin de contrato:</strong> {{this.item.fechafincontrato}}</td>\r\n                  <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:1px solid #999; padding:5px; vertical-align:top;">\r\n                    <strong>Grupo de Compra:</strong><br>\r\n                    <div [innerHTML]="this.item.grupocompra_html">\r\n                    </div>\r\n\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n\r\n            <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff">\r\n              <tbody>\r\n                <tr>\r\n                  <td width="100%" height="20" align="center" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:1px solid #999; padding:5px"><strong>OBSERVACIONES</strong></td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n\r\n            <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff">\r\n              <tbody>\r\n                <tr>\r\n                  <td width="100%" align="center" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:1px solid #999; padding:0">\r\n                    <div [innerHTML]="this.item.condiciones_generales" style="text-align: left;" *ngIf="this.item.condiciones_generales">\r\n                    </div>\r\n                    <div style="text-align: left;" *ngIf="this.item.condiciones_generales!=null">\r\n                      &nbsp;\r\n                      </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n\r\n\r\n\r\n            <table width="900" cellpadding="0" cellspacing="0" border="0" style="border-top:1px solid #999; border-bottom:1px solid #999;border-collapse: collapse;">\r\n              <tbody>\r\n                <tr>\r\n                  <td width="10%" height="20" align="center" bgcolor="#fff" style="border-left:1px solid #999; border-right:0; border-top:0;  border-bottom:1px solid #999; padding:5px">\r\n                    <strong>Posici처n</strong></td>\r\n                  <td width="40%" height="20" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Descripci처n del producto</strong></td>\r\n                  <td width="8%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Cant.</strong></td>\r\n                  <td width="8%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Unid.</strong></td>\r\n                  <td width="8%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Precio<br>Unitario</strong></td>\r\n                  <td width="8%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Total</strong></td>\r\n                  <td width="8%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>IGV</strong></td>\r\n                  <td width="10%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Fecha<br>Entrega</strong></td>\r\n                </tr>\r\n                <tr *ngFor="let row of item.productos" ng-class="trhighlight">\r\n                  <td width="10%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:1px solid #999; border-bottom:1px solid #999; border-right:0; border-top:0; padding:5px">{{row.posicion}}</td>\r\n                  <td width="40%" height="20" bgcolor="#fff" style="border-left:1px solid #999;  border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">\r\n\r\n                    <div style="max-width: 300px; overflow-wrap: break-word;" [innerHTML]="row.nombre">\r\n                    </div>\r\n                    <span *ngIf="row.centro"> <strong>Centro: </strong>{{row.centro}}<br></span>\r\n                    <span *ngIf="row.solicitudpedido"><strong>Solicitud de pedido:</strong> {{row.solicitudpedido}}</span>\r\n\r\n\r\n                  </td>\r\n                  <td width="8%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.cantidad}}</td>\r\n                  <td width="8%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.unidad}}</td>\r\n                  <td width="8%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.preciounitario}}</td>\r\n                  <td width="8%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.total}}</td>\r\n                  <td width="8%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.igv}}</td>\r\n                  <td width="10%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.fechaentrega}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td colspan="2" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px; ; vertical-align:top;">\r\n\r\n                    <strong>Aprobado por:</strong><br>\r\n\r\n                    <div *ngIf="item.autorizadopor" [innerHTML]="this.item.autorizadopor_html">\r\n                    </div>\r\n                    <span *ngFor="let ap of item.aprobadopor">\r\n                                    Aprobado Nivel {{ap.id}}: {{ap.nombre}}<br>\r\n                                </span>\r\n                  </td>\r\n                  <td colspan="6" width="50%" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; padding:5px">\r\n                    <table width="100%" cellpadding="0" cellspacing="0" border="0">\r\n                      <tbody>\r\n                        <tr>\r\n                          <td width="60%" align="left" valign="middle">\r\n                            <p><strong>VALOR DE VENTA ({{item.moneda}})</strong><br>\r\n                              <strong *ngFor="let termino of item.terminos">{{termino.nombre}}<br></strong>\r\n                              <strong *ngIf="item.tiene_condiciones">SUB TOTAL ({{item.moneda}})<br></strong>\r\n                              <strong>IMPUESTOS ({{item.porcentaje_impuestos}})</strong><br>\r\n                              <strong>VALOR TOTAL ({{item.moneda}})</strong></p>\r\n                          </td>\r\n\r\n                          <td align="right" valign="middle">\r\n                            <p align="right">{{this.item.valorventa}}<br><span *ngFor="let termino of item.terminos">{{termino.valor}}<br></span>\r\n                              <span\r\n                                *ngIf="item.tiene_condiciones">{{this.item.subtotal}}<br></span>{{this.item.impuestos}}<br>{{this.item.valortotal}}</p>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </td>\r\n                </tr>\r\n\r\n              </tbody>\r\n            </table>\r\n\r\n\r\n\r\n\r\n            <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff" *ngIf="item.narrativa_html" style="border-collapse: collapse;">\r\n              <tbody>\r\n                <tr>\r\n                  <td width="100%" align="left" bgcolor="#fff" style="border-collapse: collapse; border-left:1px solid #999; border-right:1px solid #999; border-top:0px solid #999; border-bottom:1px solid #999; padding:5px; margin-bottom:20px">\r\n                    <div *ngIf="item.narrativa_html" [innerHTML]="this.item.narrativa_html">\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n\r\n\r\n\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n  </div>\r\n</div>'},"./src/app/ordencompra/comprador/formulario/ordencompracompradorformulario.component.ts":function(r,t,n){"use strict";var o=n("./node_modules/@angular/router/@angular/router.es5.js"),e=n("./node_modules/@angular/core/@angular/core.es5.js"),a=n("./src/app/utils/app.utils.ts"),i=n("./src/app/service/masterservice.ts"),l=n("./src/app/model/ordencompra.ts"),s=n("./src/assets/js/plugins/jquery.PrintArea.js"),d=(n.n(s),n("./src/app/service/ordencompraservice.ts")),c=n("./src/app/service/login.service.ts"),p=n("./src/app/model/menu.ts");n.d(t,"a",function(){return v});var b,g,m,f=this&&this.__decorate||function(r,t,n,o){var e,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(r,t,n,o);else for(var l=r.length-1;l>=0;l--)(e=r[l])&&(i=(a<3?e(i):a>3?e(t,n,i):e(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},u=this&&this.__metadata||function(r,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,t)},v=function(){function r(r,t,n,o,e,i){this.activatedRoute=r,this.router=t,this._masterService=n,this._dataService=o,this._securityService=e,this.cdRef=i,this.toggleButton=!0,this.id="",this.botonImprimir=new p.a,this.url_main_module_page="/ordencompra/comprador/buscar",this.util=new a.a(this.router,this._masterService),this.atributos=[],this.producto=new l.a}return r.prototype.obtenerBotones=function(){var r=this,t=this._securityService.ObtenerBotonesCache(this.url_main_module_page);t?(console.log("ObtenerBotonesCache",t),this.configurarBotones(t)):this._securityService.obtenerBotones(this.url_main_module_page).subscribe(function(t){console.log("obtenerBotones",t),b.configurarBotones(t),b._securityService.guardarBotonesLocalStore(r.url_main_module_page,t)},function(r){return console.log(r)},function(){})},r.prototype.configurarBotones=function(r){r&&r.length>0&&(this.botonImprimir=r.find(function(r){return"imprimir"===r.nombre})?r.find(function(r){return"imprimir"===r.nombre}):this.botonImprimir)},r.prototype.print=function(r){$("div#print-section-material").printArea({popTitle:"Orden de Compra",mode:"iframe",popClose:!1})},r.prototype.ngOnInit=function(){var r=this;this.baseurl=$("#baseurl").attr("href"),this.activatedRoute.params.subscribe(function(t){r.id=t.id}),this.id,this.toggleButton=!0,this.item=new l.c,b=this,this.util.listPrioridades(function(r){b.listPrioridadCombo=r}),this.util.listMonedas(function(r){b.listMonedaCombo=r}),this.util.listUnidadMedida(function(r){b.listUnidadCombo=r}),this.util.listEstadoOC(function(r){b.listEstadoCombo=r})},r.prototype.ngAfterViewInit=function(){var r=this;DatatableFunctions.ModalSettings(),this.baseurl=$("#baseurl").attr("href"),this._dataService.obtener(this.id,"P").subscribe(function(t){r.item=t,r.producto=t.productos.length>0?t.productos[0]:new l.a,setTimeout(function(){$("input").each(function(){$(this).keydown(),$(this).val()||""!=$(this).val()||$(this.parentElement).addClass("is-empty")}),$("select").each(function(){$(this).keydown(),$(this).val()||""!=$(this).val()||$(this.parentElement).addClass("is-empty")}),$("textarea").each(function(){$(this).keydown(),$(this).val()||""!=$(this).val()||$(this.parentElement).addClass("is-empty")}),b.item.estado_nombre=$("#estadocomprador option:selected").text(),b.DatatableConfig()},100)},function(r){return console.log(r)},function(){}),this.obtenerBotones()},r.prototype.ngAfterViewChecked=function(){this.cdRef.detectChanges()},r.prototype.DatatableConfig=function(){g=$("#dtArticulos").DataTable({order:[[0,"asc"]],ajax:function(r,t,n){t({data:b.item.productos})},createdRow:function(r,t,n){0==t.es_subitem&&t.tienesubitem?($(r).addClass("highlight"),$(r).attr("identificador",t.id)):($(r).attr("parentid",t.parentid),$("td",r).eq(0).addClass("text-center"))},columns:[{data:"id"},{data:"posicion"},{data:"nombre",className:"text-left"},{data:"cantidad"},{data:"unidad"},{data:"preciounitario"},{data:"total"},{data:"igv"},{data:"fechaentrega"}],columnDefs:[{className:"text-center",targets:[0,1,2,3,4,5,6,7]},{targets:[0],visible:!1},{render:function(r,t,n){return n.es_subitem||0==n.tienesubitem&&0==n.es_subitem?'<a href="javascript:void(0);" row-id="'+n.id+'" class="atributos" title="Ver Atributos">'+n.posicion+"</a>":n.posicion},targets:1},{render:function(r,t,n){var o=n.nombre;return n.centro&&(o=o+"<br/><b>Centro:</b>"+n.centro),n.solicitudpedido&&(o=o+"<br/><b>Solicitud de pedido:</b>"+n.solicitudpedido),'<div class="text_large">'+o+"</div>"},targets:2}]}),g.on("click",".atributos",function(r){var t=$(this).closest("tr"),n=t.find("a").attr("row-id"),o=b.item.productos.find(function(r){return r.id==n});b.producto=o;var e=JSON.parse(JSON.stringify(o.atributos));b.atributos=e,setTimeout(function(){m.ajax.reload(),$("#mdlAtributosLista").modal("show")},500),r.preventDefault()}),g.on("click",".highlight",function(r){if($(this).find(".parent")&&0==$(this).find(".parent").length){var t=$(this).closest("tr"),n=t.attr("identificador"),o=$("tr[parentid="+n+"]");o.is(":visible")?(o.hide(),$.each(o,function(r,t){var n=$(t).next();$(n).find(".child").hide()})):(o.show(),$.each(o,function(r,t){var n=$(t).next();$(n).find(".child").show()}))}r.preventDefault()}),m=$("#dtAtributos").DataTable({ajax:function(r,t,n){t({data:b.atributos})},columns:[{data:"nombre"},{data:"operador"},{data:"valor"},{data:"unidad"}],columnDefs:[{className:"text-center",targets:[0,1,2,3]}]})},r}();v=f([n.i(e.Component)({selector:"ordencompracompradorformulario-cmp",template:n("./src/app/ordencompra/comprador/formulario/ordencompracompradorformulario.component.html"),providers:[d.a,i.a,c.a]}),u("design:paramtypes",["function"==typeof(h=void 0!==o.b&&o.b)&&h||Object,"function"==typeof(x=void 0!==o.c&&o.c)&&x||Object,"function"==typeof(y=void 0!==i.a&&i.a)&&y||Object,"function"==typeof(w=void 0!==d.a&&d.a)&&w||Object,"function"==typeof(C=void 0!==c.a&&c.a)&&C||Object,"function"==typeof(_=void 0!==e.ChangeDetectorRef&&e.ChangeDetectorRef)&&_||Object])],v);var h,x,y,w,C,_},"./src/app/ordencompra/ordencompra.module.ts":function(r,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),e=n("./node_modules/@angular/router/@angular/router.es5.js"),a=n("./node_modules/@angular/common/@angular/common.es5.js"),i=n("./node_modules/@angular/forms/@angular/forms.es5.js"),l=n("./src/app/utils/utils.module.ts"),s=n("./src/app/ordencompra/comprador/buscar/ordencompracompradorbuscar.component.ts"),d=n("./src/app/ordencompra/comprador/formulario/ordencompracompradorformulario.component.ts"),c=n("./src/app/ordencompra/proveedor/buscar/ordencompraproveedorbuscar.component.ts"),p=n("./src/app/ordencompra/proveedor/formulario/ordencompraproveedorformulario.component.ts"),b=n("./src/app/ordencompra/ordencompra.routing.ts"),g=n("./src/app/directives/datepicker.module.ts");n.d(t,"OrdenCompraModule",function(){return f});var m=this&&this.__decorate||function(r,t,n,o){var e,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(r,t,n,o);else for(var l=r.length-1;l>=0;l--)(e=r[l])&&(i=(a<3?e(i):a>3?e(t,n,i):e(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},f=function(){function r(){}return r}();f=m([n.i(o.NgModule)({imports:[a.CommonModule,e.a.forChild(b.a),i.FormsModule,l.a,g.a],declarations:[s.a,c.a,d.a,p.a]})],f)},"./src/app/ordencompra/ordencompra.routing.ts":function(r,t,n){"use strict";var o=n("./src/app/ordencompra/comprador/buscar/ordencompracompradorbuscar.component.ts"),e=n("./src/app/ordencompra/comprador/formulario/ordencompracompradorformulario.component.ts"),a=n("./src/app/ordencompra/proveedor/buscar/ordencompraproveedorbuscar.component.ts"),i=n("./src/app/ordencompra/proveedor/formulario/ordencompraproveedorformulario.component.ts"),l=n("./src/app/service/auth-guard.service.ts");n.d(t,"a",function(){return s});var s=[{path:"",children:[{path:"refrescar",component:o.a,canActivate:[l.a]},{path:"comprador/buscar",component:o.a,canActivate:[l.a]},{path:"comprador/formulario/:id",component:e.a,canActivate:[l.a]},{path:"proveedor/buscar",component:a.a,canActivate:[l.a]},{path:"proveedor/formulario/:id",component:i.a,canActivate:[l.a]}]}]},"./src/app/ordencompra/proveedor/buscar/ordencompraproveedorbuscar.component.html":function(r,t){r.exports='<div class="main-content">\r\n    <div class="container-fluid">\r\n        <div class="row">\r\n            <div class="col-sm-12">\r\n                <div class="card">\r\n                    <form method="#" action="#">\r\n                        <div class="card-header card-header-text" data-background-color="blue">\r\n                            <h4 class="card-title">Buscar Orden de Compra</h4>\r\n                        </div>\r\n                        <div class="card-content">\r\n                            <div class="row">\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">N째 Orden de compra\r\n                                        </label>\r\n                                        <input [(ngModel)]="filtro.nroordencompra" name="nroordencompra" type="text" class="form-control">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">Estado</label>\r\n                                        <select name="estado" class="form-control" [(ngModel)]="filtro.estado">\r\n                                            <option value="NONE">TODOS</option>\r\n                                            <option *ngFor="let optEstado of listEstadoCombo" value="{{optEstado.valor}}"> {{optEstado.desc}} </option>           \r\n           \r\n\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group">\r\n                                        <label class="label-on-left">Tipo Orden de Compra</label>\r\n                                        <div class="togglebutton">\r\n                                            <label>\r\n                                                <input type="checkbox" [checked]="filtro.material" (change)="filtro.material = !filtro.material" > Material\r\n                                            </label>\r\n                                            <label>\r\n                                                <input type="checkbox" [checked]="filtro.servicio"  (change)="filtro.servicio = !filtro.servicio" > Servicio\r\n                                        </label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div class="row">\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">Fecha Registro Del</label>\r\n                                        <input type="text" class="form-control"  [(ngModel)]="filtro.fechacreacioninicio" name="fechacreacioninicio" datepicker />\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">al</label>\r\n                                        <input type="text" [(ngModel)]="filtro.fechacreacionfin" name="fechacreacionfin"  class="form-control" datepicker />\r\n                                    </div>\r\n                                </div>\r\n                               \r\n\r\n                                <div class="col-sm-4">\r\n                                    <div class="form-group">\r\n                                        <button *ngIf="botonBuscar.visible" [disabled]="!botonBuscar.habilitado" class="btn btn-default" (click)="clicked($event)">{{botonBuscar.Titulo}}</button>\r\n                                        <button *ngIf="botonBuscar.visible" [disabled]="!botonBuscar.habilitado" class="btn btn-default" (click)="limpiar($event)">Limpiar</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <nav class="navbar navbar-info" role="navigation">\r\n                                <div class="container-fluid">\r\n                                   <div class="navbar-header">\r\n\r\n                                        <span class="navbar-brand">Resultados</span>\r\n                                    </div>\r\n \x3c!--\r\n                                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\r\n                                        <ul class="nav navbar-nav">\r\n                                            <li><a [routerLink]="[\'/ordencompra/proveedor/formulario\', 45]">Detalles</a></li>\r\n                                            <li><a href="javascript:void(0)">Aprobar</a></li>\r\n                                            <li><a href="javascript:void(0)">Rechazar</a></li>\r\n\r\n                                        </ul>\r\n                                    </div>--\x3e\r\n                                </div>\r\n                            </nav>\r\n                            <div class="material-datatables table-responsive">\r\n                                <table id="dtResultados" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            \x3c!--<th class="disabled-sorting text-right">\r\n                                                <div class="checkbox text-right">\r\n                                                    <label><input type="checkbox" name="optionsCheckboxes" class="checkall" ></label>\r\n                                                </div>\r\n                                            </th>--\x3e\r\n                                            <th>Nro. O.C.</th>\r\n                                            <th>Estado</th>\r\n                                            <th>Tipo de Orden</th>\r\n                                           \r\n                                            <th>Usuario Comprador</th>\r\n                                            <th>Organizaci처n Compradora</th>\r\n                                            <th>Atenci처n A</th>\r\n                                            <th>Versi처n</th>\r\n                                            <th>Total</th>\r\n                                            <th>Fecha Registro</th>\r\n                                            <th class="disabled-sorting text-center">Acciones</th>\r\n                                        </tr>\r\n                                    </thead>\r\n\r\n                                </table>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},"./src/app/ordencompra/proveedor/buscar/ordencompraproveedorbuscar.component.ts":function(r,t,n){"use strict";function o(){b=$("#dtResultados").on("init.dt",function(r,t,n){DatatableFunctions.initDatatable(r,t,n,b)}).DataTable({order:[[8,"desc"]],searching:!1,serverSide:!0,ajax:{beforeSend:function(r){p.util.tokenValid()&&(r.setRequestHeader("Authorization","Bearer "+localStorage.getItem("access_token")),r.setRequestHeader("origen_datos","PEB2M"),r.setRequestHeader("tipo_empresa","P"),r.setRequestHeader("org_id",localStorage.getItem("org_id")),r.setRequestHeader("Ocp-Apim-Subscription-Key",localStorage.getItem("Ocp_Apim_Subscription_Key")))},url:s.n,dataSrc:"data",data:function(r){if(""!=p.filtro.nroordencompra&&(r.NumeroOrden=p.filtro.nroordencompra.trim()),"NONE"!=p.filtro.nroordencompra&&(r.EstadoOrden=p.filtro.estado),p.filtro.fechacreacioninicio){var t=DatatableFunctions.ConvertStringToDatetime(p.filtro.fechacreacioninicio);r.FechaRegistroInicio=DatatableFunctions.FormatDatetimeForMicroService(t)}if(p.filtro.fechacreacionfin){var n=DatatableFunctions.AddDayEndDatetime(DatatableFunctions.ConvertStringToDatetime(p.filtro.fechacreacionfin));r.FechaRegistroFin=DatatableFunctions.FormatDatetimeForMicroService(n)}var o=[];p.filtro.material&&o.push("M"),p.filtro.servicio&&o.push("S"),r.origen_datos="PEB2M",r.TipoOrden=o.join(","),r.column_names="CodigoOrden,NumeroOrden,Fecha,EstadoOrden,TipoOrden,AtencionA,NITComprador,UsuarioComprador,NombreComprador,NITVendedor,UsuarioProveedor,NombreVendedor,ValorTotal,MonedaOrden,FechaCreacion,NumeroRfq,Version,FechaRegistro"}},columns:[{data:"NumeroOrden",name:"NumeroOrden"},{data:"EstadoOrden",name:"EstadoOrden"},{data:"TipoOrden",name:"TipoOrden"},{data:"UsuarioComprador",name:"UsuarioComprador"},{data:"NombreComprador",name:"NombreComprador"},{data:"AtencionA",name:"AtencionA"},{data:"Version",name:"Version"},{data:"ValorTotal",name:"ValorTotal"},{data:"FechaRegistro",name:"FechaRegistro"},{data:"CodigoOrden",name:"CodigoOrden"}],columnDefs:[{className:"text-center",targets:[0,1,2,3,4,5,6,7,8,9]},{render:function(r,t,n){return DatatableFunctions.ReplaceToken(n.AtencionA)},targets:5},{render:function(r,t,n){return n.MonedaOrden+" "+DatatableFunctions.FormatNumber(n.ValorTotal)},targets:7},{render:function(r,t,n){var o="",e='href="/ordencompra/proveedor/formulario/'+n.CodigoOrden+'"';return p.botonDetalle.habilitado||(o="disabled",e=""),'<div class="text-center"><a '+e+' nroordencompra="'+n.CodigoOrden+'"><button class="btn btn-simple btn-info btn-icon edit" rel="tooltip" title="Ver" data-placement="left" '+o+'><i class="material-icons">visibility</i></button></a></div>'},targets:9}]}),b.on("click",".edit",function(r){if(p.botonDetalle.habilitado){var t=$(this).closest("tr"),n=(b.row(t).data(),t.find("a").attr("nroordencompra")),o=["/ordencompra/proveedor/formulario",n];p.navigate(o)}r.preventDefault()})}var e=n("./node_modules/@angular/core/@angular/core.es5.js"),a=n("./node_modules/@angular/router/@angular/router.es5.js"),i=n("./src/app/utils/app.utils.ts"),l=n("./src/app/service/masterservice.ts"),s=n("./src/app/utils/app.constants.ts"),d=n("./src/app/model/menu.ts"),c=n("./src/app/service/login.service.ts");n.d(t,"a",function(){return f});var p,b,g=this&&this.__decorate||function(r,t,n,o){var e,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(r,t,n,o);else for(var l=r.length-1;l>=0;l--)(e=r[l])&&(i=(a<3?e(i):a>3?e(t,n,i):e(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},m=this&&this.__metadata||function(r,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,t)},f=function(){function r(r,t,n,o,e){this.router=r,this.route=t,this._masterService=n,this._securityService=o,this.cdRef=e,this.botonBuscar=new d.a,this.botonDetalle=new d.a,this.url_main_module_page="/ordencompra/proveedor/buscar",this.util=new i.a(this.router,this._masterService)}return r.prototype.navigate=function(r){this.router.navigate(r,{relativeTo:this.route})},r.prototype.obtenerBotones=function(){var r=this,t=this._securityService.ObtenerBotonesCache(this.url_main_module_page);t?this.configurarBotones(t):this._securityService.obtenerBotones(this.url_main_module_page).subscribe(function(t){p.configurarBotones(t),p._securityService.guardarBotonesLocalStore(r.url_main_module_page,t)},function(r){return console.log(r)},function(){})},r.prototype.configurarBotones=function(r){r&&r.length>0&&(this.botonBuscar=r.find(function(r){return"buscar"===r.nombre})?r.find(function(r){return"buscar"===r.nombre}):this.botonBuscar,this.botonDetalle=r.find(function(r){return"detalle"===r.nombre})?r.find(function(r){return"detalle"===r.nombre}):this.botonDetalle)},r.prototype.validarfiltros=function(){if(0==this.filtro.material&&0==this.filtro.servicio)return swal({text:"Tipo Orden de Compra es un campo requerido.",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning"}),!1;if(null==this.filtro.fechacreacioninicio||""==this.filtro.fechacreacioninicio.toString())return swal({text:"Fecha de Registro inicio es un campo requerido.",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning"}),!1;if(null==this.filtro.fechacreacionfin||""==this.filtro.fechacreacionfin.toString())return swal({text:"Fecha de Registro fin es un campo requerido.",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning"}),!1;if(null!=this.filtro.fechacreacioninicio&&""!=this.filtro.fechacreacioninicio.toString()&&null!=this.filtro.fechacreacionfin&&""!=this.filtro.fechacreacionfin.toString()){var r=DatatableFunctions.ConvertStringToDatetime(p.filtro.fechacreacioninicio),t=DatatableFunctions.ConvertStringToDatetime(p.filtro.fechacreacionfin);if(moment(t).diff(r,"days")>30)return swal({text:'El filtro de b첬squeda "Fecha de Registro" debe tener un rango m찼ximo de 30 d챠as entre la Fecha Inicial y la Fecha Fin.',type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning"}),!1;if(DatatableFunctions.FormatDatetimeForMicroService(r)>DatatableFunctions.FormatDatetimeForMicroService(t))return swal({text:"El rango de Fechas de registro seleccionado no es correcto. La Fecha Inicial es mayor a la Fecha Fin.",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning"}),!1}return!0},r.prototype.clicked=function(r){this.validarfiltros()&&b.ajax.reload(),r.preventDefault()},r.prototype.limpiar=function(r){this.filtroDefecto(),setTimeout(function(){$("input").each(function(){$(this).val()||""!=$(this).val()||$(this.parentElement).addClass("is-empty")})},200),r.preventDefault()},r.prototype.filtroDefecto=function(){var r=new Date;r.setDate(r.getDate()-30),this.filtro={nroordencompra:"",estado:"NONE",fechacreacioninicio:r,fechacreacionfin:new Date,material:!0,servicio:!0}},r.prototype.ngOnInit=function(){p=this,this.util.listEstadoOC(function(r){p.listEstadoCombo=r}),this.filtroDefecto()},r.prototype.ngAfterViewInit=function(){o(),DatatableFunctions.registerCheckAll(),this.obtenerBotones()},r.prototype.ngAfterViewChecked=function(){this.cdRef.detectChanges()},r}();f=g([n.i(e.Component)({selector:"ordencompraproveedorbuscar-cmp",template:n("./src/app/ordencompra/proveedor/buscar/ordencompraproveedorbuscar.component.html"),providers:[l.a,c.a]}),m("design:paramtypes",["function"==typeof(u=void 0!==a.c&&a.c)&&u||Object,"function"==typeof(v=void 0!==a.b&&a.b)&&v||Object,"function"==typeof(h=void 0!==l.a&&l.a)&&h||Object,"function"==typeof(x=void 0!==c.a&&c.a)&&x||Object,"function"==typeof(y=void 0!==e.ChangeDetectorRef&&e.ChangeDetectorRef)&&y||Object])],f);var u,v,h,x,y},"./src/app/ordencompra/proveedor/formulario/ordencompraproveedorformulario.component.html":function(r,t){r.exports='<div class="main-content">\r\n  <div class="container-fluid">\r\n    <div class="row">\r\n      <div class="col-sm-12">\r\n        <div class="card">\r\n          <form method="#" action="#">\r\n            <div class="card-header card-header-text" data-background-color="blue">\r\n              <h4 class="card-title">Orden de Compra</h4>\r\n            </div>\r\n            <div class="card-content">\r\n              <div class="row">\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Organizaci처n Compradora\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="comprador" [(ngModel)]="item.comprador" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">RUC Organizaci처n Compradora\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="ruccomprador" [(ngModel)]="item.ruccomprador" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Fecha de Emisi처n\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="fecharegistro" [(ngModel)]="item.fecharegistro" datepicker required type="text" class="form-control" disabled>\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Orden de {{item.tipo}}\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="nroordencompra" [(ngModel)]="item.nroordencompra" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n              <div class="row">\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Organizaci처n Proveedora\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="proveedor" [(ngModel)]="item.proveedor" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">RUC Proveedor\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="rucproveedor" [(ngModel)]="item.rucproveedor" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">C처digo Proveedor\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="codigoproveedor" [(ngModel)]="item.codigoproveedor" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n\r\n\r\n                <div class="col-sm-3">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Versi처n OC\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <input name="version" [(ngModel)]="item.version" required type="text" class="form-control" [disabled]="toggleButton">\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="col-sm-2">\r\n\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Estado Web</label>\r\n\r\n                    <select name="estadoproveedor" id="estadoproveedor" class="form-control" [(ngModel)]="item.estadoproveedor" [disabled]="toggleButton">\r\n                      <option value=""></option>\r\n                      <option *ngFor="let optEstado of listEstadoCombo" value="{{optEstado.valor}}"> {{optEstado.desc}} </option>           \r\n\r\n\r\n                  </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n              <div class="row">\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Atenci처n a\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea name="atenciona" [(ngModel)]="item.atenciona" required type="text" class="form-control" rows="3" [disabled]="toggleButton"> </textarea>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Contactar con\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea name="contactarcon" [(ngModel)]="item.contactarcon" required type="text" class="form-control" rows="3" [disabled]="toggleButton"> </textarea>\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Creado por \r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea name="creadorpor" [(ngModel)]="item.creadorpor" required type="text" class="form-control" rows="3" [disabled]="toggleButton"> </textarea>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n\r\n\r\n              <div class="row">\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Facturar a\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea [(ngModel)]="item.facturara_texto" name="facturara_texto" class="form-control" rows="4" [disabled]="toggleButton"></textarea>\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Recepci처n de Factura\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea [(ngModel)]="item.recepcionfactura_texto" name="recepcionfactura_texto" class="form-control" rows="4" [disabled]="toggleButton"></textarea>\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Grupo de Compra\r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea [(ngModel)]="item.grupocompra" name="grupocompra" class="form-control" rows="4" [disabled]="toggleButton"></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n\r\n\r\n              <div class="row">\r\n                <div class="col-md-12">\r\n                  <div class="card">\r\n                    <div class="card-header card-header-icon" data-background-color="blue">\r\n                      <i class="material-icons">assignment</i>\r\n                    </div>\r\n                    <div class="card-content">\r\n                      <h4 class="card-title">Condiciones</h4>\r\n                      <div class="row">\r\n                        <div class="col-sm-3">\r\n                          <div class="form-group label-floating">\r\n                            <label class="control-label">Moneda<span class="star"></span></label>\r\n                            <input name="moneda" [(ngModel)]="item.moneda" required type="text" class="form-control" [disabled]="toggleButton">\r\n                          </div>\r\n                        </div>\r\n                        <div class="col-sm-3">\r\n                          <div class="form-group label-floating">\r\n                            <label class="control-label">Forma de Pago<span class="star"></span></label>\r\n                            <input name="formapago" [(ngModel)]="item.formapago" required type="text" class="form-control" [disabled]="toggleButton">\r\n                          </div>\r\n                        </div>\r\n                        <div class="col-sm-3">\r\n                          <div class="form-group label-floating">\r\n                            <label class="control-label">Fecha de Inicio de Contrato<span class="star"></span></label>\r\n                            <input name="fechainiciocontrato" [(ngModel)]="item.fechainiciocontrato" datepicker required type="text" class="form-control"\r\n                              disabled>\r\n                          </div>\r\n                        </div>\r\n                        <div class="col-sm-3">\r\n                          <div class="form-group label-floating">\r\n                            <label class="control-label">Fecha Fin de Contrato<span class="star"></span></label>\r\n                            <input name="fechafincontrato" [(ngModel)]="item.fechafincontrato" datepicker required type="text" class="form-control" disabled>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n\r\n                    </div>\r\n                    \x3c!-- end content--\x3e\r\n                  </div>\r\n                  \x3c!--  end card  --\x3e\r\n                </div>\r\n                \x3c!-- end col-md-12 --\x3e\r\n              </div>\r\n              <div class="row" *ngIf="this.item.condiciones_generales">\r\n                  <div class="col-md-12">\r\n                    <div class="card">\r\n                      <div class="card-header card-header-icon" data-background-color="blue">\r\n                        <i class="material-icons">assignment</i>\r\n                      </div>\r\n                      <div class="card-content">\r\n                        <h4 class="card-title">Observaciones</h4>\r\n                        <div class="row">\r\n                          <div class="col-sm-12">\r\n  \r\n                            <div [innerHTML]="this.item.condiciones_generales" style="text-align: left;">\r\n                            </div>\r\n  \r\n  \r\n  \r\n                          </div>\r\n  \r\n                        </div>\r\n  \r\n  \r\n  \r\n                      </div>\r\n                      \x3c!-- end content--\x3e\r\n                    </div>\r\n                    \x3c!--  end card  --\x3e\r\n                  </div>\r\n                  \x3c!-- end col-md-12 --\x3e\r\n                </div>\r\n              <div class="row">\r\n                <div class="col-md-12">\r\n                  <div class="card">\r\n                    <div class="card-header card-header-icon" data-background-color="blue">\r\n                      <i class="material-icons">assignment</i>\r\n                    </div>\r\n                    <div class="card-content">\r\n                      <h4 class="card-title">Detalle de Art챠culos</h4>\r\n\r\n                      <div class="material-datatables table-responsive" style="display:block">\r\n                        <table id="dtArticulos" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">\r\n\r\n                          <thead>\r\n                            <tr>\r\n                              <th>ID</th>\r\n                              <th>Posici처n</th>\r\n\r\n                              <th>Descripci처n del Producto</th>\r\n                              <th class="disabled-sorting">Cantidad</th>\r\n                              <th class="disabled-sorting">Unidad</th>\r\n                              <th class="disabled-sorting">Precio Unitario</th>\r\n                              <th class="disabled-sorting">Precio Total</th>\r\n                              <th class="disabled-sorting">IGV</th>\r\n                              <th class="disabled-sorting">Fecha de Entrega</th>\r\n                            </tr>\r\n                          </thead>\r\n\r\n\r\n                        </table>\r\n                      </div>\r\n                      \x3c!-- end content--\x3e\r\n                    </div>\r\n                  </div>\r\n                  \x3c!--  end card  --\x3e\r\n                </div>\r\n                \x3c!-- end col-md-12 --\x3e\r\n              </div>\r\n\r\n\r\n\r\n              <div class="row">\r\n                <div class="col-sm-8">\r\n\r\n                  <div class="row">\r\n\r\n                    <div class="col-sm-12">\r\n                      <div class="form-group label-floating">\r\n                        <label class="control-label">Aprobado por<span class="star"></span></label>\r\n                        <div class="aprobadopor">\r\n                          <br/>\r\n                          <span *ngIf="item.autorizadopor">{{this.item.autorizadopor}}</span>\r\n                          <p *ngFor="let ap of item.aprobadopor">\r\n                            Aprobado Nivel {{ap.id}}: {{ap.nombre}}\r\n                          </p>\r\n                          <p class="form-control" disabled>\r\n\r\n                          </p>\r\n                        </div>\r\n\r\n                      </div>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n\r\n                  <div class="row">\r\n                      <div class="col-sm-12">\r\n                          <div class="form-group label-floating">\r\n                            <label class="control-label">VALOR DE VENTA ({{item.moneda}})<span class="star"></span></label>\r\n                            <input [(ngModel)]="item.valorventa" name="valorventa" class="form-control" [disabled]="toggleButton">\r\n                          </div>\r\n                        </div>\r\n                \r\n                    <div class="col-sm-12" *ngFor="let termino of item.terminos">\r\n                      <div class="form-group label-floating">\r\n                        <label class="control-label">{{termino.nombre}}<span class="star"></span></label>\r\n                        <input [(ngModel)]="termino.valor" name="valor{{termino.id}}" class="form-control" [disabled]="toggleButton">\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                    <div class="col-sm-12" *ngIf="item.tiene_condiciones">\r\n                        <div class="form-group label-floating">\r\n                          <label class="control-label">SUB TOTAL ({{item.moneda}})<span class="star"></span></label>\r\n                          <input [(ngModel)]="item.subtotal" name="subtotal" class="form-control" [disabled]="toggleButton">\r\n                        </div>\r\n                      </div>\r\n\r\n                    <div class="col-sm-12">\r\n                      <div class="form-group label-floating">\r\n                        <label class="control-label">IMPUESTOS ({{item.porcentaje_impuestos}})<span class="star"></span></label>\r\n                        <input [(ngModel)]="item.impuestos" name="impuestos" class="form-control" [disabled]="toggleButton">\r\n                      </div>\r\n                    </div>\r\n                    <div class="col-sm-12">\r\n                      <div class="form-group label-floating">\r\n                        <label class="control-label">VALOR TOTAL ({{item.moneda}})<span class="star"></span></label>\r\n                        <input [(ngModel)]="item.valortotal" name="valortotal" class="form-control" [disabled]="toggleButton">\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <div class="row">\r\n                <div class="col-sm-12">\r\n                  <div class="form-group label-floating">\r\n                    <label class="control-label">Comentario del Proveedor acerca del cambio de estado \r\n                      <span class="star"></span>\r\n                    </label>\r\n                    <textarea [(ngModel)]="item.comentarioproveedor" id="comentarioproveedor" name="comentarioproveedor" class="form-control"\r\n                      row="4" [disabled]="toggleButtonCP"></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n\r\n            <div class="card-footer">\r\n              \x3c!--<button type="button" class="btn btn-fill btn-default pull-right" (click)="grabar($event)" [disabled]="toggleButton">Grabar</button>\r\n              <button (click)="toggleButton=false" class="btn btn-fill btn-default pull-right" *ngIf="id>0">Habilitar Edici처n</button>--\x3e\r\n              <a routerLink="/ordencompra/proveedor/buscar" class="btn btn-fill btn-default pull-right">Regresar</a>\r\n              <button class="btn btn-fill btn-default pull-right" (click)="print($event)" *ngIf="botonImprimir.visible" [disabled]="!botonImprimir.habilitado">{{botonImprimir.Titulo}}</button>\r\n              <button (click)="RechazarOC($event)" class="btn btn-fill btn-default pull-right"  *ngIf="botonRechazarOC.visible && item.estadoproveedor==\'OVISU\'" [disabled]="!botonRechazarOC.habilitado">{{botonRechazarOC.Titulo}}</button>\r\n              <button (click)="AprobarOC($event)" class="btn btn-fill btn-default pull-right"  *ngIf="botonAceptarOC.visible && item.estadoproveedor==\'OVISU\'" [disabled]="!botonAceptarOC.habilitado">{{botonAceptarOC.Titulo}}</button>\r\n\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div id="mdlAtributosLista" class="modal fade" tabindex="-1" role="dialog">\r\n  <div class="modal-dialog" role="document">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n\r\n        <table>\r\n          <tr>\r\n            <td>\r\n              <div class="card-header card-header-icon" data-background-color="blue">\r\n                <i class="material-icons">assignment</i>\r\n              </div>\r\n            </td>\r\n            <td class="cell-title">\r\n              <div class="card-content">\r\n                <h4 class="card-title modal-title">Atributos del Detalle</h4>\r\n\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <div class="modal-body">\r\n\r\n        <div class="card-content">\r\n          <div class="row">\r\n            <div class="col-sm-6">\r\n              <div class="form-group label-floating">\r\n                <label class="control-label">Posici처n\r\n                        <span class="star"></span>\r\n                      </label>\r\n                <input name="posicion" [(ngModel)]="producto.posicion" required type="text" class="form-control" [disabled]="toggleButton">\r\n              </div>\r\n            </div>\r\n            <div class="col-sm-6">\r\n              <div class="form-group label-floating">\r\n                <label class="control-label">Descripci처n del Producto\r\n                        <span class="star"></span>\r\n                      </label>\r\n                <input name="descripcion" [(ngModel)]="producto.descripcion" required type="text" class="form-control" [disabled]="toggleButton">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="material-datatables table-responsive">\r\n          <table id="dtAtributos" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">\r\n            <thead>\r\n              <tr>\r\n\r\n                <th>Nombre</th>\r\n                <th>Operador</th>\r\n                <th>Valor</th>\r\n                <th>Unidad</th>\r\n\r\n\r\n              </tr>\r\n            </thead>\r\n\r\n\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div class="modal-footer">\r\n        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>\r\n\r\n      </div>\r\n    </div>\r\n    \x3c!-- /.modal-content --\x3e\r\n  </div>\r\n  \x3c!-- /.modal-dialog --\x3e\r\n</div>\r\n<div style="display:none">\r\n  \r\n    <div id="print-section-material" style=\'font-family: Arial, Helvetica, sans-serif;color: #000;font-size: 14px;\'>\r\n      <table width="100%" cellpadding="0" cellspacing="0" align="center" bgcolor="#ffffff" style=\'font-family: Arial, Helvetica, sans-serif;color: #000;font-size: 14px; border-collapse: collapse;\'>\r\n        <tbody>\r\n          <tr>\r\n            <td align="center">\r\n  \r\n  \r\n              <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff" style="border-collapse: collapse;">\r\n                <tbody>\r\n                  <tr>\r\n                    <td colspan="2" bgcolor="#fff" align="left" valign="middle">\r\n                      <img *ngIf="this.item.idorgcompradora && this.item.idorgcompradora!=\'\'" src="{{this.baseurl}}assets/img/logos/{{this.item.idorgcompradora}}.png" height="110" style="padding:0; margin:0; border:0">\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td colspan="2" bgcolor="#fff" align="center" valign="middle" style="font-size: 16px;">\r\n                      <b style="font-size: 16px;">Orden de Compra {{this.item.nroordencompra}}</b><br><br>\r\n                      \r\n                    </td>\r\n                  </tr>\r\n  \r\n                  <tr>\r\n                    <td width="449" bgcolor="#fff" style="border-left:1px solid #999; border-right:0; border-top:1px solid #999" align="left"\r\n                      valign="top">\r\n                      <table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-bottom:1px solid #999">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td style="padding:5px; vertical-align:top;"><strong>Organizaci처n Proveedora:</strong><br> {{this.item.proveedor}}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                      <table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-bottom:1px solid #999" height="75">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td width="50%" height="30" style="border-right:1px solid #999; padding:5px; vertical-align:top;"><strong>RUC Proveedor:</strong><br> {{this.item.rucproveedor}}\r\n                            </td>\r\n                            <td width="50%" height="30" align="left" style="padding:5px; vertical-align:top;"><strong>C처digo Proveedor:</strong><strong></strong>\r\n                              <br> {{this.item.codigoproveedor}}\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                    <td width="448" align="left" valign="top" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:1px solid #999">\r\n                      <table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-bottom:1px solid #999">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td style="padding:5px; vertical-align:top;"><strong>Creado por:</strong><br>\r\n                              <div [innerHTML]="this.item.creadorpor_html">\r\n                              </div>\r\n  \r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                      <table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-bottom:1px solid #999" height="75">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td width="50%" height="30" style="border-right:1px solid #999; padding:5px; vertical-align:top;"><strong>Fecha de emisi처n:</strong>\r\n                              <br>{{this.item.fecharegistro}}</td>\r\n                            <td width="25%" height="30" align="left" valign="middle" style="border-right:1px solid #999; padding:5px; vertical-align:top;"><strong>Versi처n OC:</strong><br>{{this.item.version}}\r\n                            </td>\r\n                            <td width="25%" height="30" align="left" valign="middle" style="padding:5px; vertical-align:top;"><strong>Estado Web:</strong><strong></strong> {{this.item.estado_nombre}} </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n  \r\n              <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff" style="border-collapse: collapse;">\r\n                <tbody>\r\n                  <tr>\r\n                    <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:0; border-top:0; padding:5px"><strong>Atenci처n a:</strong><br>\r\n                      <div [innerHTML]="this.item.atenciona_html">\r\n                      </div>\r\n                    </td>\r\n                    <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px; vertical-align:top;">\r\n                      <strong>Contactar con:</strong><br>\r\n                      <div [innerHTML]="this.item.contactarcon_html">\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n  \r\n              <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff">\r\n                <tbody>\r\n                  <tr>\r\n                    <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:0; border-top:1px solid #999; padding:5px; vertical-align:top;"><strong>Facturar a:</strong><br>\r\n                      <div *ngIf="!item.facturara" [innerHTML]="this.item.facturara_html">\r\n                      </div>\r\n  \r\n  \r\n                      <span *ngIf="item.facturara">\r\n                              <strong>Raz처n Social:</strong> {{this.item.facturara.razonsocial}}<br>                   \r\n                              <strong>RUC:</strong> {{this.item.facturara.ruc}}\r\n                              <br> <strong>Direcci처n:</strong> {{this.item.facturara.direccion}}\r\n                            </span>\r\n                    </td>\r\n                    <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:1px solid #999; padding:5px; vertical-align:top;">\r\n                      <strong>Recepci처n de Factura:</strong><br>\r\n  \r\n  \r\n                      <div [innerHTML]="this.item.recepcionfactura_html">\r\n                      </div>\r\n  \r\n  \r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n  \r\n              <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff">\r\n                <tbody>\r\n                  <tr>\r\n                    <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:0; border-top:1px solid #999; padding:5px; vertical-align:top;"><strong>Condiciones:</strong><br>\r\n                      <strong>Moneda:</strong> {{this.item.moneda}}<br>\r\n                      <strong>Forma de Pago:</strong> {{this.item.formapago}}<br>\r\n                      <strong>Fecha de inicio de contrato:</strong> {{this.item.fechainiciocontrato}}<br>\r\n                      <strong>Fecha fin de contrato:</strong> {{this.item.fechafincontrato}}</td>\r\n                    <td width="50%" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:1px solid #999; padding:5px; vertical-align:top;">\r\n                      <strong>Grupo de Compra:</strong><br>\r\n                      <div [innerHTML]="this.item.grupocompra_html">\r\n                      </div>\r\n  \r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n  \r\n              <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff">\r\n                <tbody>\r\n                  <tr>\r\n                    <td width="100%" height="20" align="center" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:1px solid #999; padding:5px"><strong>OBSERVACIONES</strong></td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n  \r\n              <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff">\r\n                <tbody>\r\n                  <tr>\r\n                    <td width="100%" align="center" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:1px solid #999; padding:0">\r\n                        <div [innerHTML]="this.item.condiciones_generales" style="text-align: left;" *ngIf="this.item.condiciones_generales">\r\n                          </div>\r\n                          <div style="text-align: left;" *ngIf="this.item.condiciones_generales!=null">\r\n                            &nbsp;\r\n                            </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n  \r\n  \r\n  \r\n              <table width="900" cellpadding="0" cellspacing="0" border="0" style="border-top:1px solid #999; border-bottom:1px solid #999;border-collapse: collapse;">\r\n                <tbody>\r\n                  <tr>\r\n                    <td width="10%" height="20" align="center" bgcolor="#fff" style="border-left:1px solid #999; border-right:0; border-top:0;  border-bottom:1px solid #999; padding:5px">\r\n                      <strong>Posici처n</strong></td>\r\n                    <td width="40%" height="20" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Descripci처n del producto</strong></td>\r\n                    <td width="8%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Cant.</strong></td>\r\n                    <td width="8%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Unid.</strong></td>\r\n                    <td width="8%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Precio<br>Unitario</strong></td>\r\n                    <td width="8%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Total</strong></td>\r\n                    <td width="8%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>IGV</strong></td>\r\n                    <td width="10%" height="20" align="center" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; border-bottom:1px solid #999; padding:5px"><strong>Fecha<br>Entrega</strong></td>\r\n                  </tr>\r\n                  <tr *ngFor="let row of item.productos" ng-class="trhighlight">\r\n                    <td width="10%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:1px solid #999; border-bottom:1px solid #999; border-right:0; border-top:0; padding:5px">{{row.posicion}}</td>\r\n                    <td width="40%" height="20" bgcolor="#fff" style="border-left:1px solid #999;  border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">\r\n                     \r\n                      <div style="max-width: 300px; overflow-wrap: break-word;" [innerHTML]="row.nombre">\r\n                      </div>\r\n                      <span *ngIf="row.centro"> <strong>Centro: </strong>{{row.centro}}<br></span>\r\n                      <span *ngIf="row.solicitudpedido"><strong>Solicitud de pedido:</strong> {{row.solicitudpedido}}</span>\r\n  \r\n  \r\n                    </td>\r\n                    <td width="8%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.cantidad}}</td>\r\n                    <td width="8%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.unidad}}</td>\r\n                    <td width="8%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.preciounitario}}</td>\r\n                    <td width="8%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.total}}</td>\r\n                    <td width="8%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.igv}}</td>\r\n                    <td width="10%" height="20" align="center" valign="middle" bgcolor="#fff" style="border-left:0; border-bottom:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px">{{row.fechaentrega}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td colspan="2" bgcolor="#fff" style="border-left:1px solid #999; border-right:1px solid #999; border-top:0; padding:5px; ; vertical-align:top;">\r\n  \r\n                      <strong>Aprobado por:</strong><br>\r\n  \r\n                      <div *ngIf="item.autorizadopor" [innerHTML]="this.item.autorizadopor_html">\r\n                      </div>\r\n                      <span *ngFor="let ap of item.aprobadopor">\r\n                                      Aprobado Nivel {{ap.id}}: {{ap.nombre}}<br>\r\n                                  </span>\r\n                    </td>\r\n                    <td colspan="6" width="50%" bgcolor="#fff" style="border-left:0; border-right:1px solid #999; border-top:0; padding:5px">\r\n                      <table width="100%" cellpadding="0" cellspacing="0" border="0">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td width="60%" align="left" valign="middle">\r\n                              <p>\r\n                                <strong>VALOR DE VENTA ({{item.moneda}})</strong><br>                                \r\n                                <strong *ngFor="let termino of item.terminos">{{termino.nombre}}<br></strong>  \r\n                                <strong *ngIf="item.tiene_condiciones">SUB TOTAL ({{item.moneda}})<br></strong>\r\n                                <strong>IMPUESTOS ({{item.porcentaje_impuestos}})</strong><br>\r\n                                <strong>VALOR TOTAL ({{item.moneda}})</strong></p>\r\n                            </td>\r\n  \r\n                            <td align="right" valign="middle">\r\n                              <p align="right">{{this.item.valorventa}}<br><span *ngFor="let termino of item.terminos">{{termino.valor}}<br></span><span *ngIf="item.tiene_condiciones">{{this.item.subtotal}}<br></span>{{this.item.impuestos}}<br>{{this.item.valortotal}}</p>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n  \r\n                </tbody>\r\n              </table>\r\n  \r\n  \r\n  \r\n  \r\n              <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff" *ngIf="item.narrativa_html" style="border-collapse: collapse;">\r\n                <tbody>\r\n                  <tr>\r\n                    <td width="100%" align="left" bgcolor="#fff" style="border-collapse: collapse; border-left:1px solid #999; border-right:1px solid #999; border-top:0px solid #999; border-bottom:1px solid #999; padding:5px; margin-bottom:20px">\r\n                      <div *ngIf="item.narrativa_html" [innerHTML]="this.item.narrativa_html">\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n  \r\n  \r\n  \r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n     \r\n    </div>\r\n  </div>'},"./src/app/ordencompra/proveedor/formulario/ordencompraproveedorformulario.component.ts":function(r,t,n){"use strict";var o=n("./node_modules/@angular/router/@angular/router.es5.js"),e=n("./node_modules/@angular/core/@angular/core.es5.js"),a=n("./src/app/utils/app.utils.ts"),i=n("./src/app/service/masterservice.ts"),l=n("./src/app/model/ordencompra.ts"),s=n("./src/assets/js/plugins/jquery.PrintArea.js"),d=(n.n(s),n("./src/app/service/ordencompraservice.ts")),c=n("./src/app/service/login.service.ts"),p=n("./src/app/model/menu.ts");n.d(t,"a",function(){return v});var b,g,m,f=this&&this.__decorate||function(r,t,n,o){var e,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(r,t,n,o);else for(var l=r.length-1;l>=0;l--)(e=r[l])&&(i=(a<3?e(i):a>3?e(t,n,i):e(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},u=this&&this.__metadata||function(r,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,t)},v=function(){function r(r,t,n,o,e,i){this.activatedRoute=r,this.router=t,this._masterService=n,this._dataService=o,this._securityService=e,this.cdRef=i,this.toggleButton=!0,this.toggleButtonCP=!0,this.id="",this.botonImprimir=new p.a,this.botonAceptarOC=new p.a,this.botonRechazarOC=new p.a,this.url_main_module_page="/ordencompra/proveedor/buscar",this.util=new a.a(this.router,this._masterService),this.atributos=[],this.producto=new l.a,this.org_id=localStorage.getItem("org_id")}return r.prototype.navigate=function(r){this.router.navigate(r,{relativeTo:this.activatedRoute})},r.prototype.obtenerBotones=function(){var r=this,t=this._securityService.ObtenerBotonesCache(this.url_main_module_page);t?(console.log("ObtenerBotonesCache",t),this.configurarBotones(t)):this._securityService.obtenerBotones(this.url_main_module_page).subscribe(function(t){console.log("obtenerBotones",t),b.configurarBotones(t),b._securityService.guardarBotonesLocalStore(r.url_main_module_page,t)},function(r){return console.log(r)},function(){})},r.prototype.configurarBotones=function(r){r&&r.length>0&&(this.botonImprimir=r.find(function(r){return"imprimir"===r.nombre})?r.find(function(r){return"imprimir"===r.nombre}):this.botonImprimir,this.botonAceptarOC=r.find(function(r){return"aceptar"===r.nombre})?r.find(function(r){return"aceptar"===r.nombre}):this.botonImprimir,this.botonRechazarOC=r.find(function(r){return"rechazar"===r.nombre})?r.find(function(r){return"rechazar"===r.nombre}):this.botonImprimir)},r.prototype.RechazarOC=function(r){swal({html:'쩔Est찼 seguro de rechazar la orden de compra? <br>En Caso de aceptar el rechazo, por favor ingresar el motivo:<br/><br/><p style="text-align:center;"/>  <textarea  id="comentarioproveedor_popup" name="comentarioproveedor_popup" style="resize: none;width:95%;  padding: 5px;min-height: 5em; overflow: auto;"    row="6"></textarea></p>',type:"warning",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",buttonsStyling:!1,confirmButtonClass:"btn btn-default",cancelButtonClass:"btn btn-warning"}).then(function(){if(b.item.comentarioproveedor=$("#comentarioproveedor_popup").val(),""==b.item.comentarioproveedor)swal({text:"Por favor indique los motivos de su rechazo.",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning"}).then(function(){b.RechazarOC(null)},function(r){});else{setTimeout(function(){$("textarea").each(function(){$(this).keydown(),$(this).val()&&""!=$(this).val()||$(this.parentElement).addClass("is-empty")})},100);var r=void 0;r=new l.b,r.iddoc=b.item.id,r.numeroseguimiento=b.item.nroordencompra,r.estadoactual=b.item.estadoproveedor,r.accion="RECHAZAR",r.comentario=b.item.comentarioproveedor,b.item.estadoproveedor="ORECH",b._dataService.cambioEstado(b.item.id,b.org_id,r).subscribe(function(r){swal({text:"Se rechaz처 la orden de compra.",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning",confirmButtonText:"Aceptar"}).then(function(){var r=["/ordencompra/proveedor/buscar"];b.navigate(r)},function(r){var t=["/ordencompra/proveedor/buscar"];b.navigate(t)})},function(r){return console.log(r)},function(){})}},function(r){}),r&&r.preventDefault()},r.prototype.AprobarOC=function(r){r.preventDefault(),console.log(b.item),swal({text:"La aprobaci처n implica la aceptaci처n de todas las condiciones generales de contrataci처n indicadas en la orden de compra. 쩔Est찼 seguro de aprobar la orden de compra?",type:"warning",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",buttonsStyling:!1,confirmButtonClass:"btn btn-default",cancelButtonClass:"btn btn-warning"}).then(function(){var r;r=new l.b,r.iddoc=b.item.id,r.numeroseguimiento=b.item.nroordencompra,r.estadoactual=b.item.estadoproveedor,r.accion="ACEPTAR",b.item.estadoproveedor="OACEP",b._dataService.cambioEstado(b.item.id,b.org_id,r).subscribe(function(r){b.item.estadoproveedor="OACEP"},function(r){})},function(r){return console.log(r)},function(){})},r.prototype.print=function(r){b.item.estado_nombre=$("#estadoproveedor option:selected").text(),setTimeout(function(){$("div#print-section-material").printArea({popTitle:"Orden de Compra",mode:"iframe",popClose:!1})},100)},r.prototype.ngOnInit=function(){var r=this;this.baseurl=$("#baseurl").attr("href"),this.activatedRoute.params.subscribe(function(t){r.id=t.id}),this.id,this.toggleButton=!0,this.item=new l.c,b=this,this.util.listPrioridades(function(r){b.listPrioridadCombo=r}),this.util.listMonedas(function(r){b.listMonedaCombo=r}),this.util.listUnidadMedida(function(r){b.listUnidadCombo=r}),this.util.listEstadoOC(function(r){b.listEstadoCombo=r})},r.prototype.ngAfterViewInit=function(){var r=this;DatatableFunctions.ModalSettings(),this.baseurl=$("#baseurl").attr("href"),this._dataService.obtener(this.id,"C").subscribe(function(t){r.item=t,r.item.id=r.id,r.producto=t.productos.length>0?t.productos[0]:new l.a,setTimeout(function(){$("input").each(function(){$(this).keydown(),$(this).val()||""!=$(this).val()||$(this.parentElement).addClass("is-empty")}),$("select").each(function(){$(this).keydown(),$(this).val()||""!=$(this).val()||$(this.parentElement).addClass("is-empty")}),$("textarea").each(function(){$(this).keydown(),$(this).val()||""!=$(this).val()||$(this.parentElement).addClass("is-empty")}),b.item.estado_nombre=$("#estadoproveedor option:selected").text(),b.DatatableConfig()},100),"ONVIS"===r.item.estadoproveedor&&swal({text:"La visualizaci처n de la orden de compra implica su aceptaci처n, salvo que sea rechazada en el plazo m찼ximo de 24 horas desde que fue visualizada. ",type:"warning",buttonsStyling:!1,confirmButtonClass:"btn btn-warning",confirmButtonText:"Aceptar"}).then(function(){var r;r=new l.b,r.iddoc=b.item.id,r.numeroseguimiento=b.item.nroordencompra,r.estadoactual=b.item.estadoproveedor,r.accion="VISUALIZAR",b.item.estadoproveedor="OVISU",b._dataService.cambioEstado(b.item.id,b.org_id,r).subscribe(function(r){b.item.estadoproveedor="OVISU"},function(r){})},function(r){var t;t=new l.b,t.iddoc=b.item.id,t.numeroseguimiento=b.item.nroordencompra,t.estadoactual=b.item.estadoproveedor,t.accion="VISUALIZAR",b.item.estadoproveedor="OVISU",b._dataService.cambioEstado(b.item.id,b.org_id,t).subscribe(function(r){console.log("response",r),b.item.estadoproveedor="OVISU"},function(r){})})},function(r){return console.log(r)},function(){}),this.obtenerBotones()},r.prototype.ngAfterViewChecked=function(){this.cdRef.detectChanges()},r.prototype.DatatableConfig=function(){g=$("#dtArticulos").DataTable({ajax:function(r,t,n){t({data:b.item.productos})},createdRow:function(r,t,n){0==t.es_subitem&&t.tienesubitem?($(r).addClass("highlight"),$(r).attr("identificador",t.id)):($(r).attr("parentid",t.parentid),$("td",r).eq(0).addClass("text-center"))},columns:[{data:"id"},{data:"posicion"},{data:"nombre",className:"text-left"},{data:"cantidad"},{data:"unidad"},{data:"preciounitario"},{data:"total"},{data:"igv"},{data:"fechaentrega"}],columnDefs:[{className:"text-center",targets:[0,1,2,3,4,5,6,7]},{targets:[0],visible:!1},{render:function(r,t,n){return n.es_subitem||0==n.tienesubitem&&0==n.es_subitem?'<a href="javascript:void(0);" row-id="'+n.id+'" class="atributos" title="Ver Atributos">'+n.posicion+"</a>":n.posicion},targets:1},{render:function(r,t,n){var o=n.nombre;return n.centro&&(o=o+"<br/><b>Centro:</b>"+n.centro),n.solicitudpedido&&(o=o+"<br/><b>Solicitud de pedido:</b>"+n.solicitudpedido),'<div class="text_large">'+o+"</div>"},targets:2}]}),g.on("click",".atributos",function(r){var t=$(this).closest("tr"),n=t.find("a").attr("row-id"),o=b.item.productos.find(function(r){return r.id==n});b.producto=o;var e=JSON.parse(JSON.stringify(o.atributos));b.atributos=e,setTimeout(function(){m.ajax.reload(),$("#mdlAtributosLista").modal("show")},500),r.preventDefault()}),g.on("click",".highlight",function(r){if($(this).find(".parent")&&0==$(this).find(".parent").length){var t=$(this).closest("tr"),n=t.attr("identificador"),o=$("tr[parentid="+n+"]");o.is(":visible")?(o.hide(),$.each(o,function(r,t){var n=$(t).next();$(n).find(".child").hide()})):(o.show(),$.each(o,function(r,t){var n=$(t).next();$(n).find(".child").show()}))}r.preventDefault()}),m=$("#dtAtributos").DataTable({ajax:function(r,t,n){t({data:b.atributos})},columns:[{data:"nombre"},{data:"operador"},{data:"valor"},{data:"unidad"}],columnDefs:[{className:"text-center",targets:[0,1,2,3]}]})},r}();v=f([n.i(e.Component)({selector:"ordencompraproveedorformulario-cmp",template:n("./src/app/ordencompra/proveedor/formulario/ordencompraproveedorformulario.component.html"),providers:[d.a,i.a]}),u("design:paramtypes",["function"==typeof(h=void 0!==o.b&&o.b)&&h||Object,"function"==typeof(x=void 0!==o.c&&o.c)&&x||Object,"function"==typeof(y=void 0!==i.a&&i.a)&&y||Object,"function"==typeof(w=void 0!==d.a&&d.a)&&w||Object,"function"==typeof(C=void 0!==c.a&&c.a)&&C||Object,"function"==typeof(_=void 0!==e.ChangeDetectorRef&&e.ChangeDetectorRef)&&_||Object])],v);var h,x,y,w,C,_}});